var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}function u(e,t,n){if(e){const r=l(e,t,n);return e[0](r)}}function l(e,t,r){return e[1]?n({},n(t.$$scope.ctx,e[1](r?r(t):{}))):t.$$scope.ctx}function d(e,t,r,o){return e[1]?n({},n(t.$$scope.changed||{},e[1](o?o(r):{}))):t.$$scope.changed||{}}let f="undefined"!=typeof window?()=>window.performance.now():()=>Date.now(),p=e=>requestAnimationFrame(e);const h=new Set;let m,g=!1;function v(){h.forEach(e=>{e[0](f())||(h.delete(e),e[1]())}),(g=h.size>0)&&p(v)}function y(e){let t;return g||(g=!0,p(v)),{promise:new Promise(n=>{h.add(t=[e,n])}),abort(){h.delete(t)}}}function b(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(e){return document.createTextNode(e)}function I(){return C(" ")}function D(){return C("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e){return function(t){return t.preventDefault(),e.call(this,t)}}function T(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function _(e,t){t=""+t,e.data!==t&&(e.data=t)}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function O(e,t,n){e.classList[n?"add":"remove"](t)}function N(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let q,A=0,R={};function P(e,t,n,r,o,i,a,s=0){const c=16.666/r;let u="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);u+=100*e+`%{${a(r,1-r)}}\n`}const l=u+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`;if(!R[d]){if(!m){const e=x("style");document.head.appendChild(e),m=e.sheet}R[d]=!0,m.insertRule(`@keyframes ${d} ${l}`,m.cssRules.length)}const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${o}ms 1 both`,A+=1,d}function F(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--A&&p(()=>{if(A)return;let e=m.cssRules.length;for(;e--;)m.deleteRule(e);R={}})}function j(e){q=e}function Q(){if(!q)throw new Error("Function called outside component initialization");return q}function L(e){Q().$$.on_mount.push(e)}function V(){const e=q;return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=N(t,n);r.slice().forEach(t=>{t.call(e,o)})}}}function U(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const B=[],Y=[],z=[],W=[],H=Promise.resolve();let G,J=!1;function K(e){z.push(e)}function X(e){W.push(e)}function Z(){const e=new Set;do{for(;B.length;){const e=B.shift();j(e),ee(e.$$)}for(;Y.length;)Y.pop()();for(let t=0;t<z.length;t+=1){const n=z[t];e.has(n)||(n(),e.add(n))}z.length=0}while(B.length);for(;W.length;)W.pop()();J=!1}function ee(e){e.fragment&&(e.update(e.dirty),i(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(K))}function te(){return G||(G=Promise.resolve()).then(()=>{G=null}),G}function ne(e,t,n){e.dispatchEvent(N(`${t?"intro":"outro"}${n}`))}const re=new Set;let oe;function ie(){oe={r:0,c:[],p:oe}}function ae(){oe.r||i(oe.c),oe=oe.p}function se(e,t){e&&e.i&&(re.delete(e),e.i(t))}function ce(e,t,n,r){if(e&&e.o){if(re.has(e))return;re.add(e),oe.c.push(()=>{re.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function ue(n,r,o,s){let c=r(n,o),u=s?0:1,l=null,d=null,p=null;function h(){p&&F(n,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(r){const{delay:o=0,duration:a=300,easing:s=t,tick:g=e,css:v}=c,b={start:f()+o,b:r};r||(b.group=oe,oe.r+=1),l?d=b:(v&&(h(),p=P(n,u,r,a,o,s,v)),r&&g(0,1),l=m(b,a),K(()=>ne(n,r,"start")),y(e=>{if(d&&e>d.start&&(l=m(d,a),d=null,ne(n,l.b,"start"),v&&(h(),p=P(n,u,l.b,l.duration,0,s,c.css))),l)if(e>=l.end)g(u=l.b,1-u),ne(n,l.b,"end"),d||(l.b?h():--l.group.r||i(l.group.c)),l=null;else if(e>=l.start){const t=e-l.start;u=l.a+l.d*s(t/l.duration),g(u,1-u)}return!(!l&&!d)}))}return{run(e){a(c)?te().then(()=>{c=c(),g(e)}):g(e)},end(){h(),l=d=null}}}function le(e,t){const r=t.token={};function o(e,o,i,a){if(t.token!==r)return;t.resolved=i&&{[i]:a};const s=n(n({},t.ctx),t.resolved),c=e&&(t.current=e)(s);t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==o&&e&&(ie(),ce(e,1,1,()=>{t.blocks[n]=null}),ae())}):t.block.d(1),c.c(),se(c,1),c.m(t.mount(),t.anchor),Z()),t.block=c,t.blocks&&(t.blocks[o]=c)}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){if(e.then(e=>{o(t.then,1,t.value,e)},e=>{o(t.catch,2,t.error,e)}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved={[t.value]:e}}var i}function de(e,t){e.d(1),t.delete(e.key)}function fe(e,t){ce(e,1,1,()=>{t.delete(e.key)})}function pe(e,t,n,r,o,i,a,s,c,u,l,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],v=new Map,y=new Map;for(h=p;h--;){const e=d(o,i,h),s=n(e);let c=a.get(s);c?r&&c.p(t,e):(c=u(s,e)).c(),v.set(s,g[h]=c),s in m&&y.set(s,Math.abs(h-m[s]))}const b=new Set,w=new Set;function k(e){se(e,1),e.m(s,l),a.set(e.key,e),l=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],r=t.key,o=n.key;t===n?(l=t.first,f--,p--):v.has(o)?!a.has(r)||b.has(r)?k(t):w.has(o)?f--:y.get(r)>y.get(o)?(w.add(r),k(t)):(b.add(o),f--):(c(n,a),f--)}for(;f--;){const t=e[f];v.has(t.key)||c(t,a)}for(;p;)k(g[p-1]);return g}function he(e,t,n){-1!==e.$$.props.indexOf(t)&&(e.$$.bound[t]=n,n(e.$$.ctx[t]))}function me(e,t,n){const{fragment:o,on_mount:s,on_destroy:c,after_update:u}=e.$$;o.m(t,n),K(()=>{const t=s.map(r).filter(a);c?c.push(...t):i(t),e.$$.on_mount=[]}),u.forEach(K)}function ge(e,t){e.$$.fragment&&(i(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function ve(e,t){e.$$.dirty||(B.push(e),J||(J=!0,H.then(Z)),e.$$.dirty=o()),e.$$.dirty[t]=!0}function ye(t,n,r,a,s,c){const u=q;j(t);const l=n.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:null};let f=!1;var p;d.ctx=r?r(t,l,(e,n)=>{d.ctx&&s(d.ctx[e],d.ctx[e]=n)&&(d.bound[e]&&d.bound[e](n),f&&ve(t,e))}):l,d.update(),f=!0,i(d.before_update),d.fragment=a(d.ctx),n.target&&(n.hydrate?d.fragment.l((p=n.target,Array.from(p.childNodes))):d.fragment.c(),n.intro&&se(t.$$.fragment),me(t,n.target,n.anchor),Z()),j(u)}class be{$destroy(){ge(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const we=[];function ke(e,t){return{subscribe:xe(e,t).subscribe}}function xe(t,n=e){let r;const o=[];function i(e){if(s(t,e)&&(t=e,r)){const e=!we.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),we.push(n,t)}if(e){for(let e=0;e<we.length;e+=2)we[e][0](we[e+1]);we.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const c=[a,s];return o.push(c),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function $e(t,n,r){const o=!Array.isArray(t),s=o?[t]:t,c=n.length<2;return ke(r,t=>{let r=!1;const u=[];let l=0,d=e;const f=()=>{if(l)return;d();const r=n(o?u[0]:u,t);c?t(r):d=a(r)?r:e},p=s.map((e,t)=>e.subscribe(e=>{u[t]=e,l&=~(1<<t),r&&f()},()=>{l|=1<<t}));return r=!0,f(),function(){i(p),d()}})}const Ce=(()=>{const{subscribe:e,update:t}=xe({});return{subscribe:e,remove:e=>{t(t=>{const{[e]:n,...r}=t;return r})},add:function(e){const n=(()=>{const e=new Date,t=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e.toISOString()+t})();t(t=>({...t,[n]:e})),setTimeout(()=>{this.remove(n)},4e3)}}})();function Ie(e){const t=e-1;return t*t*t+1}function De(e,{delay:t=0,duration:n=400}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*r}`}}function Se(e,{delay:t=0,duration:n=400,easing:r=Ie,x:o=0,y:i=0,opacity:a=0}){const s=getComputedStyle(e),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${c-l*t}`}}function Ee(t){var n,r,o,i,a,s;return{c(){n=x("div"),r=x("button"),o=I(),i=C(t.text),T(r,"class","delete"),T(n,"class",a="notification is-"+t.type+" svelte-zww63w"),s=S(r,"click",t.remove)},m(e,t){w(e,n,t),b(n,r),b(n,o),b(n,i)},p(e,t){e.text&&_(i,t.text),e.type&&a!==(a="notification is-"+t.type+" svelte-zww63w")&&T(n,"class",a)},i:e,o:e,d(e){e&&k(n),s()}}}function Te(e,t,n){let{id:r,message:o}=t;let i,a;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"message"in e&&n("message",o=e.message)}),e.$$.update=((e={message:1})=>{e.message&&n("text",i=o&&"string"!=typeof o?o.text:o),e.message&&n("type",a=o&&"string"!=typeof o?o.type:"info")}),{id:r,message:o,remove:()=>Ce.remove(r),text:i,type:a}}class _e extends be{constructor(e){super(),ye(this,e,Te,Ee,s,["id","message"])}}function Me(e,t,n){const r=Object.create(e);return r.id=t[n][0],r.message=t[n][1],r}function Oe(e){var t,n,r=[],o=new Map,i=Object.entries(e.$notifications);const a=e=>e.id;for(var s=0;s<i.length;s+=1){let t=Me(e,i,s),n=a(t);o.set(n,r[s]=Ne(n,t))}return{c(){for(t=x("div"),s=0;s<r.length;s+=1)r[s].c();T(t,"class","notification-list svelte-1t0onhw")},m(e,o){for(w(e,t,o),s=0;s<r.length;s+=1)r[s].m(t,null);n=!0},p(e,n){const i=Object.entries(n.$notifications);ie(),r=pe(r,e,a,1,n,i,o,t,fe,Ne,null,Me),ae()},i(e){if(!n){for(var t=0;t<i.length;t+=1)se(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)ce(r[s]);n=!1},d(e){for(e&&k(t),s=0;s<r.length;s+=1)r[s].d()}}}function Ne(e,t){var n,r,o,i,a=new _e({props:{message:t.message,id:t.id}});return{key:e,first:null,c(){n=x("div"),a.$$.fragment.c(),r=I(),this.first=n},m(e,t){w(e,n,t),me(a,n,null),b(n,r),i=!0},p(e,t){var n={};e.$notifications&&(n.message=t.message),e.$notifications&&(n.id=t.id),a.$set(n)},i(e){i||(se(a.$$.fragment,e),K(()=>{o||(o=ue(n,Se,{x:400},!0)),o.run(1)}),i=!0)},o(e){ce(a.$$.fragment,e),o||(o=ue(n,Se,{x:400},!1)),o.run(0),i=!1},d(e){e&&k(n),ge(a),e&&o&&o.end()}}}function qe(e){var t,n,r=e.$notifications&&Oe(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.$notifications?r?(r.p(e,n),se(r,1)):((r=Oe(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Ae(e,t,n){let r;return c(e,Ce,e=>{n("$notifications",r=e)}),{$notifications:r}}class Re extends be{constructor(e){super(),ye(this,e,Ae,qe,s,[])}}var Pe=function(e,t){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Fe(e,t){function n(){this.constructor=e}Pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var je=function(){return(je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Qe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Le(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function Ve(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Ue="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ye=10,ze=2;function We(e){return He(e,[])}function He(e,t){switch(Be(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Ue)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:He(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>ze)return"[Array]";for(var n=Math.min(Ye,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(He(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>ze)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n)return n}return t}(e)+"]";return"{ "+n.map(function(n){var r=He(e[n],t);return n+": "+r}).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}var Ge={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Je=Object.freeze({});function Ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge,r=void 0,o=Array.isArray(e),i=[e],a=-1,s=[],c=void 0,u=void 0,l=void 0,d=[],f=[],p=e;do{var h=++a===i.length,m=h&&0!==s.length;if(h){if(u=0===f.length?void 0:d[d.length-1],c=l,l=f.pop(),m){if(o)c=c.slice();else{for(var g={},v=0,y=Object.keys(c);v<y.length;v++){var b=y[v];g[b]=c[b]}c=g}for(var w=0,k=0;k<s.length;k++){var x=s[k][0],$=s[k][1];o&&(x-=w),o&&null===$?(c.splice(x,1),w++):c[x]=$}}a=r.index,i=r.keys,s=r.edits,o=r.inArray,r=r.prev}else{if(u=l?o?a:i[a]:void 0,null==(c=l?l[u]:p))continue;l&&d.push(u)}var C=void 0;if(!Array.isArray(c)){if(!Xe(c))throw new Error("Invalid AST Node: "+We(c));var I=Ze(t,c.kind,h);if(I){if((C=I.call(t,c,u,l,d,f))===Je)break;if(!1===C){if(!h){d.pop();continue}}else if(void 0!==C&&(s.push([u,C]),!h)){if(!Xe(C)){d.pop();continue}c=C}}}void 0===C&&m&&s.push([u,c]),h?d.pop():(r={inArray:o,index:a,keys:i,edits:s,prev:r},i=(o=Array.isArray(c))?c:n[c.kind]||[],a=-1,s=[],l&&f.push(l),l=c)}while(void 0!==r);return 0!==s.length&&(p=s[s.length-1][1]),p}function Xe(e){return Boolean(e&&"string"==typeof e.kind)}function Ze(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var a=i[t];if("function"==typeof a)return a}}}var et="Invariant Violation",tt=Object.setPrototypeOf,nt=void 0===tt?function(e,t){return e.__proto__=t,e}:tt,rt=function(e){function t(n){void 0===n&&(n=et);var r=e.call(this,"number"==typeof n?et+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=et,nt(r,t.prototype),r}return Fe(t,e),t}(Error);function ot(e,t){if(!e)throw new rt(t)}function it(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=it("warn"),e.error=it("error")}(ot||(ot={}));var at={env:{}};if("object"==typeof process)at=process;else try{Function("stub","process = stub")(at)}catch(e){}var st=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)},ct=Object.prototype,ut=ct.toString,lt=ct.hasOwnProperty,dt=new Map;function ft(e,t){try{return function e(t,n){if(t===n)return!0;var r=ut.call(t);var o=ut.call(n);if(r!==o)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(pt(t,n))return!0;var i=Object.keys(t),a=Object.keys(n),s=i.length;if(s!==a.length)return!1;for(var c=0;c<s;++c)if(!lt.call(n,i[c]))return!1;for(var c=0;c<s;++c){var u=i[c];if(!e(t[u],n[u]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(pt(t,n))return!0;for(var l=t.entries(),d="[object Map]"===r;;){var f=l.next();if(f.done)break;var p=f.value,h=p[0],m=p[1];if(!n.has(h))return!1;if(d&&!e(m,n.get(h)))return!1}return!0}return!1}(e,t)}finally{dt.clear()}}function pt(e,t){var n=dt.get(e);if(n){if(n.has(t))return!0}else dt.set(e,n=new Set);return n.add(t),!1}function ht(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return ht(o,e.name,e.value,r)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return ht(n,t,e,r),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new rt(17);e[t.value]=null}}var mt=["connection","include","skip","client","rest","export"];function gt(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=t,i={};return r.forEach(function(e){i[e]=o[e]}),n.connection.key+"("+JSON.stringify(i)+")"}return n.connection.key}var a=e;if(t){var s=st(t);a+="("+s+")"}return n&&Object.keys(n).forEach(function(e){-1===mt.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)}),a}function vt(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var r=e.name,o=e.value;return ht(n,r,o,t)}),n}return null}function yt(e){return e.alias?e.alias.value:e.name.value}function bt(e){return"Field"===e.kind}function wt(e){return"InlineFragment"===e.kind}function kt(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function xt(e,t){return void 0===t&&(t=!1),je({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function $t(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach(function(e){n[e.name.value]=vt(e,t)}),n}return null}function Ct(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(St).map(function(e){var t=e.arguments;e.name.value,ot(t&&1===t.length,4);var n=t[0];ot(n.name&&"if"===n.name.value,5);var r=n.value;return ot(r&&("Variable"===r.kind||"BooleanValue"===r.kind),6),{directive:e,ifArgument:n}}):[]).every(function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?ot(void 0!==(o=t[r.value.name.value]),3):o=r.value.value,"skip"===n.name.value?!o:o});var n}function It(e,t){return function(e){var t=[];return Ke(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some(function(t){return e.indexOf(t)>-1})}function Dt(e){return e&&It(["client"],e)&&It(["export"],e)}function St(e){var t=e.name.value;return"skip"===t||"include"===t}function Et(e,t){var n=t,r=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new rt(1);"FragmentDefinition"===e.kind&&r.push(e)}),void 0===n&&(ot(1===r.length,2),n=r[0].name.value),je({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}].concat(e.definitions)})}function Tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){null!=t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function _t(e){return ot(e&&"Document"===e.kind,8),ot(e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new rt(9);return e}).length<=1,10),e}function Mt(e){return _t(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function Ot(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function Nt(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function qt(e){var t;_t(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new rt(16)}function At(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function Rt(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,n=e.defaultValue,r={};return ht(r,t.name,n),r});return Tt.apply(void 0,[{}].concat(t))}return{}}function Pt(e,t,n){var r=0;return e.forEach(function(n,o){t.call(this,n,o,e)&&(e[r++]=n)},n),e.length=r,e}var Ft={kind:"Field",name:{kind:"Name",value:"__typename"}};function jt(e){return function e(t,n){return t.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)})}(Mt(e)||function(e){ot("Document"===e.kind,13),ot(e.definitions.length<=1,14);var t=e.definitions[0];return ot("FragmentDefinition"===t.kind,15),t}(e),At(Nt(e)))?null:e}function Qt(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function Lt(e,t){var n=Object.create(null),r=[],o=Object.create(null),i=[],a=jt(Ke(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some(function(e){return e.remove})&&t.directives&&t.directives.some(Qt(e))))return t.arguments&&t.arguments.forEach(function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})}),t.selectionSet&&function e(t){var n=[];t.selections.forEach(function(t){(bt(t)||wt(t))&&t.selectionSet?e(t.selectionSet).forEach(function(e){return n.push(e)}):"FragmentSpread"===t.kind&&n.push(t)});return n}(t.selectionSet).forEach(function(e){i.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(t){if(Qt(e)(t))return null}}}));return a&&Pt(r,function(e){return!n[e.name]}).length&&(a=function(e,t){var n=function(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}(e);return jt(Ke(t,{OperationDefinition:{enter:function(t){return je({},t,{variableDefinitions:t.variableDefinitions.filter(function(t){return!e.some(function(e){return e.name===t.variable.name.value})})})}},Field:{enter:function(t){var r=e.some(function(e){return e.remove});if(r){var o=0;if(t.arguments.forEach(function(e){n(e)&&(o+=1)}),1===o)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&Pt(i,function(e){return!o[e.name]}).length&&(a=function(e,t){function n(t){if(e.some(function(e){return e.name===t.name.value}))return null}return jt(Ke(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(i,a)),a}var Vt={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some(function(e){return"key"===e.name.value})),t}};function Ut(e){return"query"===qt(e).operation?e:Ke(e,{OperationDefinition:{enter:function(e){return je({},e,{operation:"query"})}}})}var Bt="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),Yt=Object.prototype.toString;function zt(e){return function e(t,n){switch(Yt.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach(function(t,o){r[o]=e(t,n)}),r;case"[object Object]":if(n.has(t))return n.get(t);var o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Object.keys(t).forEach(function(r){o[r]=e(t[r],n)}),o;default:return t}}(e,new Map)}function Wt(e){try{return e()}catch(e){console.error&&console.error(e)}}function Ht(e){return e.errors&&e.errors.length}var Gt=Object.prototype.hasOwnProperty;function Jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Kt(e)}function Kt(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=en(t,r);for(var o=1;o<n;++o)t=Zt(t,e[o],r)}return t}function Xt(e){return null!==e&&"object"==typeof e}function Zt(e,t,n){return Xt(t)&&Xt(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=en(e,n)),Object.keys(t).forEach(function(r){var o=t[r];if(Gt.call(e,r)){var i=e[r];o!==i&&(e[r]=Zt(en(i,n),o,n))}else e[r]=o}),e):t}function en(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):je({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}var tn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rn(e,t){return e(t={exports:{}},t.exports),t.exports}function on(e){return e&&e.default||e}var an=rn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){return"function"==typeof Symbol},i=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return i(e)?Symbol[e]:"@@"+e};o()&&!i("observable")&&(Symbol.observable=Symbol("observable"));var s=a("iterator"),c=a("observable"),u=a("species");function l(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:k}function f(e){return e instanceof k}function p(e){p.log?p.log(e):setTimeout(function(){throw e})}function h(e){Promise.resolve().then(function(){try{e()}catch(e){p(e)}})}function m(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=l(t,"unsubscribe");n&&n.call(t)}}catch(e){p(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function v(e,t,n){e._state="running";var r=e._observer;try{var o=l(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(g(e),!o)throw n;o.call(r,n);break;case"complete":g(e),o&&o.call(r)}}catch(e){p(e)}"closed"===e._state?m(e):"running"===e._state&&(e._state="ready")}function y(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void h(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(v(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)})):void v(e,t,n);e._queue.push({type:t,value:n})}}var b=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new w(this);try{this._cleanup=n.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return n(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),m(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){r(this,e),this._subscription=t}return n(e,[{key:"next",value:function(e){y(this._subscription,"next",e)}},{key:"error",value:function(e){y(this._subscription,"error",e)}},{key:"complete",value:function(){y(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),k=t.Observable=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return n(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new b(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,o=!1,i=arguments[1];return new n(function(n){return t.subscribe({next:function(t){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=d(this);return new o(function(t){var r=void 0,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n(function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),i.unsubscribe()}})}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=l(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return f(o)&&o.constructor===n?o:new n(function(e){return o.subscribe(e)})}if(i("iterator")&&(r=l(t,s)))return new n(function(e){h(function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.complete()}})});if(Array.isArray(t))return new n(function(e){h(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})});throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)(function(e){h(function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}})})}},{key:u,get:function(){return this}}]),e}();o()&&Object.defineProperty(k,Symbol("extensions"),{value:{symbol:c,hostReportError:p},configurable:!0})});nn(an);an.Observable;var sn=an.Observable;!function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}Fe(t,e)}(Error);function cn(e){return e.request.length<=1}function un(e){return new sn(function(t){t.error(e)})}function ln(e,t){var n=je({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=je({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return je({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function dn(e,t){return t?t(e):sn.of()}function fn(e){return"function"==typeof e?new vn(e):e}function pn(){return new vn(function(){return sn.of()})}function hn(e){return 0===e.length?pn():e.map(fn).reduce(function(e,t){return e.concat(t)})}function mn(e,t,n){var r=fn(t),o=fn(n||new vn(dn));return cn(r)&&cn(o)?new vn(function(t){return e(t)?r.request(t)||sn.of():o.request(t)||sn.of()}):new vn(function(t,n){return e(t)?r.request(t,n)||sn.of():o.request(t,n)||sn.of()})}var gn=function(e,t){var n=fn(e);if(cn(n))return n;var r=fn(t);return cn(r)?new vn(function(e){return n.request(e,function(e){return r.request(e)||sn.of()})||sn.of()}):new vn(function(e,t){return n.request(e,function(e){return r.request(e,t)||sn.of()})||sn.of()})},vn=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(mn(t,n,r||new e(dn)))},e.prototype.concat=function(e){return gn(this,e)},e.prototype.request=function(e,t){throw new rt(1)},e.empty=pn,e.from=hn,e.split=mn,e.execute=yn,e}();function yn(e,t){return e.request(ln(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Ot(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw new rt(2)}return e}(t))))||sn.of()}var bn,wn=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());function kn(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(bn||(bn={}));var xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fe(t,e),t.prototype[wn]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(sn);function $n(e){return Array.isArray(e)&&e.length>0}var Cn,In=function(e){var t="";return $n(e.graphQLErrors)&&e.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},Dn=function(e){function t(n){var r=n.graphQLErrors,o=n.networkError,i=n.errorMessage,a=n.extraInfo,s=e.call(this,i)||this;return s.graphQLErrors=r||[],s.networkError=o||null,s.message=i||In(s),s.extraInfo=a,s.__proto__=t.prototype,s}return Fe(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(Cn||(Cn={}));var Sn=function(e){function t(t){var n=t.queryManager,r=t.options,o=t.shouldSubscribe,i=void 0===o||o,a=e.call(this,function(e){return a.onSubscribe(e)})||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=r,a.variables=r.variables||{},a.queryId=n.generateQueryId(),a.shouldSubscribe=i;var s=Mt(r.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a}return Fe(t,e),t.prototype.result=function(){var e=this;return new Promise(function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){o.unsubscribe()},0)},error:n},o=e.subscribe(r)})},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:bn.error}}var t,n,r,o=this.queryManager.getCurrentQueryResult(this),i=o.data,a=o.partial,s=this.queryManager.queryStore.get(this.queryId),c=this.options.fetchPolicy,u="network-only"===c||"no-cache"===c;if(s){var l=s.networkStatus;if(n=s,void 0===(r=this.options.errorPolicy)&&(r="none"),n&&(n.networkError||"none"===r&&$n(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:l,error:new Dn({graphQLErrors:s.graphQLErrors,networkError:s.networkError})};s.variables&&(this.options.variables=je({},this.options.variables,s.variables),this.variables=this.options.variables),t={data:i,loading:kn(l),networkStatus:l},s.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=s.graphQLErrors)}else{var d=u||a&&"cache-only"!==c;t={data:i,loading:d,networkStatus:d?bn.loading:bn.ready}}return a||this.updateLastResult(je({},t,{stale:!1})),je({},t,{partial:a})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&ft(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject(new rt(3)):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),ft(this.variables,e)||(this.variables=je({},this.variables,e)),ft(this.options.variables,this.variables)||(this.options.variables=je({},this.options.variables,this.variables)),this.queryManager.fetchQuery(this.queryId,je({},this.options,{fetchPolicy:t}),Cn.refetch))},t.prototype.fetchMore=function(e){var t=this;ot(e.updateQuery,4);var n=je({},e.query?e:je({},this.options,e,{variables:je({},this.variables,e.variables)}),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,Cn.normal,this.queryId).then(function(o){return t.updateQuery(function(t){return e.updateQuery(t,{fetchMoreResult:o.data,variables:n.variables})}),t.queryManager.stopQuery(r),o},function(e){throw t.queryManager.stopQuery(r),e})},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery(function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})})},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=je({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=e.fetchPolicy;return this.setVariables(this.options.variables,t!==n&&("cache-only"===t||"standby"===t||"network-only"===n),e.fetchResults)},t.prototype.setVariables=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1,e=e||this.variables,!t&&ft(e,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,o=n.variables,i=n.document,a=Wt(function(){return e(r,{variables:o})});a&&(t.dataStore.markUpdateQueryResult(i,o,a),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){_n(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:zt(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var n=e._subscription._observer;n&&!n.error&&(n.error=En)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,n=this.queryId;this.shouldSubscribe&&t.addObservableQuery(n,this),this.options.pollInterval&&(_n(this),t.startPollingQuery(this.options,n));var r=function(t){Tn(e.observers,"error",e.lastError=t)};t.observeQuery(n,this.options,{next:function(n){if(e.lastError||e.isDifferentFromLastResult(n)){var r=e.updateLastResult(n),o=e.options,i=o.query,a=o.variables,s=o.fetchPolicy;t.transform(i).hasClientExports?t.getLocalState().addExportedVariables(i,a).then(function(o){var a=e.variables;e.variables=e.options.variables=o,!n.loading&&r&&"cache-only"!==s&&t.transform(i).serverQuery&&!ft(a,o)?e.refetch():Tn(e.observers,"next",n)}):Tn(e.observers,"next",n)}},error:r}).catch(r)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(xn);function En(e){}function Tn(e,t,n){var r=[];e.forEach(function(e){return e[t]&&r.push(e)}),r.forEach(function(e){return e[t](n)})}function _n(e){var t=e.options.fetchPolicy;ot("cache-first"!==t&&"cache-only"!==t,5)}var Mn=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),On=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];ot(!t||t.document===e.document||ft(t.document,e.document),19);var n,r=!1,o=null;e.storePreviousVariables&&t&&t.networkStatus!==bn.loading&&(ft(t.variables,e.variables)||(r=!0,o=t.variables)),n=r?bn.setVariables:e.isPoll?bn.poll:e.isRefetch?bn.refetch:bn.loading;var i=[];t&&t.graphQLErrors&&(i=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:i,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=bn.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=$n(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=bn.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=bn.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=bn.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=bn.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=bn.loading})},e}();var Nn=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=Jt(t.resolvers,e)}):this.resolvers=Jt(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,a=void 0!==i&&i;return Le(this,void 0,void 0,function(){return Ve(this,function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,a).then(function(e){return je({},n,{data:e.result})})]:[2,n]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return It(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return this.resolvers?function(e){_t(e);var t=Lt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Ke(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return bt(e)&&"__typename"===e.name.value}))return null}}})),t}(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return je({},e,{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);ot(!1,17)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Le(this,void 0,void 0,function(){return Ve(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then(function(e){return je({},t,e.exportedVariables)})]:[2,je({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return Ke(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return Je}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Ut(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,i){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),Le(this,void 0,void 0,function(){var a,s,c,u,l,d,f,p,h;return Ve(this,function(m){var g;return a=qt(e),s=Nt(e),c=At(s),u=a.operation,l=u?(g=u).charAt(0).toUpperCase()+g.slice(1):"Query",f=(d=this).cache,p=d.client,h={fragmentMap:c,context:je({},n,{cache:f,client:p}),variables:r,fragmentMatcher:o,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:i},[2,this.resolveSelectionSet(a.selectionSet,t,h).then(function(e){return{result:e,exportedVariables:h.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,n){return Le(this,void 0,void 0,function(){var r,o,i,a,s,c=this;return Ve(this,function(u){return r=n.fragmentMap,o=n.context,i=n.variables,a=[t],s=function(e){return Le(c,void 0,void 0,function(){var s,c;return Ve(this,function(u){return Ct(e,i)?bt(e)?[2,this.resolveField(e,t,n).then(function(t){var n;void 0!==t&&a.push(((n={})[yt(e)]=t,n))})]:(wt(e)?s=e:ot(s=r[e.name.value],18),s&&s.typeCondition&&(c=s.typeCondition.name.value,n.fragmentMatcher(t,c,o))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then(function(e){a.push(e)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(s)).then(function(){return Kt(a)})]})})},e.prototype.resolveField=function(e,t,n){return Le(this,void 0,void 0,function(){var r,o,i,a,s,c,u,l,d,f=this;return Ve(this,function(p){return r=n.variables,o=e.name.value,i=yt(e),a=o!==i,s=t[i]||t[o],c=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[u])&&(d=l[a?o:i])&&(c=Promise.resolve(d(t,vt(e,r),n.context,{field:e})))),[2,c.then(function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)})}),e.selectionSet?null==t?t:Array.isArray(t)?f.resolveSubSelectedArray(e,t,n):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t,n):void 0:t})]})})},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map(function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0}))},e}();function qn(e){var t=new Set,n=null;return new xn(function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach(function(t){return t.next&&t.next(e)})},error:function(e){t.forEach(function(t){return t.error&&t.error(e)})},complete:function(){t.forEach(function(e){return e.complete&&e.complete()})}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}})}var An=Object.prototype.hasOwnProperty,Rn=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,i=e.onBroadcast,a=void 0===i?function(){}:i,s=e.ssrMode,c=void 0!==s&&s,u=e.clientAwareness,l=void 0===u?{}:u,d=e.localState,f=e.assumeImmutableResults;this.mutationStore=new Mn,this.queryStore=new On,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Bt?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=a,this.clientAwareness=l,this.localState=d||new Nn({cache:o.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!f}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,n){e.stopQueryNoBroadcast(n)}),this.fetchQueryRejectFns.forEach(function(e){e(new rt(6))})},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,o=e.updateQueries,i=e.refetchQueries,a=void 0===i?[]:i,s=e.awaitRefetchQueries,c=void 0!==s&&s,u=e.update,l=e.errorPolicy,d=void 0===l?"none":l,f=e.fetchPolicy,p=e.context,h=void 0===p?{}:p;return Le(this,void 0,void 0,function(){var e,i,s,l=this;return Ve(this,function(p){switch(p.label){case 0:return ot(t,7),ot(!f||"no-cache"===f,8),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,function(){return{document:t}}),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,h)]:[3,2];case 1:n=p.sent(),p.label=2;case 2:return i=function(){var e={};return o&&l.queries.forEach(function(t,n){var r=t.observableQuery;if(r){var i=r.queryName;i&&An.call(o,i)&&(e[n]={updater:o[i],query:l.queryStore.get(n)})}}),e},this.mutationStore.initMutation(e,t,n),this.dataStore.markMutationInit({mutationId:e,document:t,variables:n,updateQueries:i(),update:u,optimisticResponse:r}),this.broadcastQueries(),s=this,[2,new Promise(function(o,l){var p,m;s.getObservableFromLink(t,je({},h,{optimisticResponse:r}),n,!1).subscribe({next:function(r){Ht(r)&&"none"===d?m=new Dn({graphQLErrors:r.errors}):(s.mutationStore.markMutationResult(e),"no-cache"!==f&&s.dataStore.markMutationResult({mutationId:e,result:r,document:t,variables:n,updateQueries:i(),update:u}),p=r)},error:function(t){s.mutationStore.markMutationError(e,t),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),s.setQuery(e,function(){return{document:null}}),l(new Dn({networkError:t}))},complete:function(){if(m&&s.mutationStore.markMutationError(e,m),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),m)l(m);else{"function"==typeof a&&(a=a(p));var t=[];$n(a)&&a.forEach(function(e){if("string"==typeof e)s.queries.forEach(function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())});else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(s.query(n))}}),Promise.all(c?t:[]).then(function(){s.setQuery(e,function(){return{document:null}}),"ignore"===d&&p&&Ht(p)&&delete p.errors,o(p)})}}})})]}})})},e.prototype.fetchQuery=function(e,t,n,r){return Le(this,void 0,void 0,function(){var o,i,a,s,c,u,l,d,f,p,h,m,g,v,y,b,w,k,x=this;return Ve(this,function($){switch($.label){case 0:return o=t.metadata,i=void 0===o?null:o,a=t.fetchPolicy,s=void 0===a?"cache-first":a,c=t.context,u=void 0===c?{}:c,l=this.transform(t.query).document,d=this.getVariables(l,t.variables),this.transform(l).hasClientExports?[4,this.localState.addExportedVariables(l,d,u)]:[3,2];case 1:d=$.sent(),$.label=2;case 2:if(t=je({},t,{variables:d}),h=p="network-only"===s||"no-cache"===s,p||(m=this.dataStore.getCache().diff({query:l,variables:d,returnPartialData:!0,optimistic:!1}),g=m.complete,v=m.result,h=!g||"cache-and-network"===s,f=v),y=h&&"cache-only"!==s&&"standby"!==s,It(["live"],l)&&(y=!0),b=this.idCounter++,w="no-cache"!==s?this.updateQueryWatch(e,l,t):void 0,this.setQuery(e,function(){return{document:l,lastRequestId:b,invalidated:!0,cancel:w}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:l,storePreviousVariables:y,variables:d,isPoll:n===Cn.poll,isRefetch:n===Cn.refetch,metadata:i,fetchMoreForQueryId:r}),this.broadcastQueries(),y){if(k=this.fetchRequest({requestId:b,queryId:e,document:l,options:t,fetchMoreForQueryId:r}).catch(function(t){throw t.hasOwnProperty("graphQLErrors")?t:(b>=x.getQuery(e).lastRequestId&&(x.queryStore.markQueryError(e,t,r),x.invalidate(e),x.invalidate(r),x.broadcastQueries()),new Dn({networkError:t}))}),"cache-and-network"!==s)return[2,k];k.catch(function(){})}return this.queryStore.markQueryResultClient(e,!y),this.invalidate(e),this.invalidate(r),this.transform(l).hasForcedResolvers?[2,this.localState.runResolvers({document:l,remoteResult:{data:f},context:u,variables:d,onlyRunForcedResolvers:!0}).then(function(n){return x.markQueryResult(e,n,t,r),x.broadcastQueries(),n})]:(this.broadcastQueries(),[2,{data:f}])}})})},e.prototype.markQueryResult=function(e,t,n,r){var o=n.fetchPolicy,i=n.variables,a=n.errorPolicy;"no-cache"===o?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,i,r,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,n){var r=this;function o(e,t){if(n[e])try{n[e](t)}catch(e){}}return function(n,i){if(r.invalidate(e,!1),n){var a=r.getQuery(e),s=a.observableQuery,c=a.document,u=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==u){var l=kn(n.networkStatus),d=s&&s.getLastResult(),f=!(!d||d.networkStatus===n.networkStatus),p=t.returnPartialData||!i&&n.previousVariables||f&&t.notifyOnNetworkStatusChange||"cache-only"===u||"cache-and-network"===u;if(!l||p){var h=$n(n.graphQLErrors),m=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===m&&h||n.networkError)return o("error",new Dn({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var g=void 0,v=void 0;if(i)"no-cache"!==u&&"network-only"!==u&&r.setQuery(e,function(){return{newData:null}}),g=i.result,v=!i.complete;else{var y=s&&s.getLastError(),b="none"!==m&&(y&&y.graphQLErrors)!==n.graphQLErrors;if(d&&d.data&&!b)g=d.data,v=!1;else{var w=r.dataStore.getCache().diff({query:c,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});g=w.result,v=!w.complete}}var k=v&&!(t.returnPartialData||"cache-only"===u),x={data:k?d&&d.data:g,loading:l,networkStatus:n.networkStatus,stale:k};"all"===m&&h&&(x.errors=n.graphQLErrors),o("next",x)}catch(e){o("error",new Dn({networkError:e}))}}}}}},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.dataStore.getCache(),o=r.transformDocument(e),i=(t=r.transformForLink(o),Lt([Vt],_t(t))),a=this.localState.clientQuery(o),s=this.localState.serverQuery(i),c={document:o,hasClientExports:Dt(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:a,serverQuery:s,defaultVars:Rt(Mt(o))},u=function(e){e&&!n.has(e)&&n.set(e,c)};u(e),u(o),u(a),u(s)}return n.get(e)},e.prototype.getVariables=function(e,t){return je({},this.transform(e).defaultVars,t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),ot("standby"!==e.fetchPolicy,9),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=je({},e);return new Sn({queryManager:this,options:n,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return ot(e.query,10),ot("Document"===e.query.kind,11),ot(!e.returnPartialData,12),ot(!e.pollInterval,13),new Promise(function(n,r){var o=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+o.queryId,r),o.result().then(n,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+o.queryId)})})},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){return e.listeners.add(t),{invalidated:!1}})},e.prototype.updateQueryWatch=function(e,t,n){var r=this,o=this.getQuery(e).cancel;o&&o();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var o=n.getLastResult();o&&(t=o.data)}return t},callback:function(t){r.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e(new rt(14))});var e=[];return this.queries.forEach(function(t,n){t.observableQuery&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach(function(r,o){var i=r.observableQuery;if(i){var a=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(i.refetch()),t.setQuery(o,function(){return{newData:null}}),t.invalidate(o)}}),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t).catch(function(){}),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.variables;n=this.transform(n).document,o=this.getVariables(n,o);var i=function(e){return t.getObservableFromLink(n,{},e,!1).map(function(o){if(r&&"no-cache"===r||(t.dataStore.markSubscriptionResult(o,n,e),t.broadcastQueries()),Ht(o))throw new Dn({graphQLErrors:o.errors});return o})};if(this.transform(n).hasClientExports){var a=this.localState.addExportedVariables(n,o).then(i);return new xn(function(e){var t=null;return a.then(function(n){return t=n.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return i(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,o=n.query,i=n.fetchPolicy,a=n.returnPartialData,s=e.getLastResult(),c=this.getQuery(e.queryId).newData;if(c&&c.complete)return{data:c.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};var u=this.dataStore.getCache().diff({query:o,variables:r,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=u.result,d=u.complete;return{data:d||a?l:void 0,partial:!d}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;ot(n,15),t=n}else t=e;var r=t.options,o=r.variables,i=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:o,document:i}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,n){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(n),t.newData)})})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var o,i=this;void 0===r&&(r=this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var s=this.inFlightLinkObservables,c=this.link,u={query:a,variables:n,operationName:Ot(a)||void 0,context:this.prepareContext(je({},t,{forceFetch:!r}))};if(t=u.context,r){var l=s.get(a)||new Map;s.set(a,l);var d=JSON.stringify(n);if(!(o=l.get(d))){l.set(d,o=qn(yn(c,u)));var f=function(){l.delete(d),l.size||s.delete(a),p.unsubscribe()},p=o.subscribe({next:f,error:f,complete:f})}}else o=qn(yn(c,u))}else o=xn.of({data:{}}),t=this.prepareContext(t);var h=this.transform(e).clientQuery;return h&&(o=function(e,t){return new xn(function(n){var r=n.next,o=n.error,i=n.complete,a=0,s=!1,c={next:function(e){++a,new Promise(function(n){n(t(e))}).then(function(e){--a,r&&r.call(n,e),s&&c.complete()},function(e){--a,o&&o.call(n,e)})},error:function(e){o&&o.call(n,e)},complete:function(){s=!0,a||i&&i.call(n)}},u=e.subscribe(c);return function(){return u.unsubscribe()}})}(o,function(e){return i.localState.runResolvers({document:h,remoteResult:e,context:t,variables:n})})),o},e.prototype.fetchRequest=function(e){var t,n,r=this,o=e.requestId,i=e.queryId,a=e.document,s=e.options,c=e.fetchMoreForQueryId,u=s.variables,l=s.errorPolicy,d=void 0===l?"none":l,f=s.fetchPolicy;return new Promise(function(e,l){var p=r.getObservableFromLink(a,s.context,u),h="fetchRequest:"+i;r.fetchQueryRejectFns.set(h,l);var m=function(){r.fetchQueryRejectFns.delete(h),r.setQuery(i,function(e){e.subscriptions.delete(g)})},g=p.map(function(e){if(o>=r.getQuery(i).lastRequestId&&(r.markQueryResult(i,e,s,c),r.queryStore.markQueryResult(i,e,c),r.invalidate(i),r.invalidate(c),r.broadcastQueries()),"none"===d&&$n(e.errors))return l(new Dn({graphQLErrors:e.errors}));if("all"===d&&(n=e.errors),c||"no-cache"===f)t=e.data;else{var p=r.dataStore.getCache().diff({variables:u,query:a,optimistic:!1,returnPartialData:!0}),h=p.result;(p.complete||s.returnPartialData)&&(t=h)}}).subscribe({error:function(e){m(),l(e)},complete:function(){m(),e({data:t,errors:n,loading:!1,networkStatus:bn.ready,stale:!1})}});r.setQuery(i,function(e){e.subscriptions.add(g)})})},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=je({},n,t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return je({},t,{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==bn.ready&&t.networkStatus!==bn.error},e.prototype.startPollingQuery=function(e,t,n){var r=this,o=e.pollInterval;if(ot(o,16),!this.ssrMode){var i=this.pollingInfoByQueryId.get(t);i||this.pollingInfoByQueryId.set(t,i={}),i.interval=o,i.options=je({},e,{fetchPolicy:"network-only"});var a=function(){var e=r.pollingInfoByQueryId.get(t);e&&(r.checkInFlight(t)?s():r.fetchQuery(t,e.options,Cn.poll).then(s,s))},s=function(){var e=r.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(a,e.interval))};n&&this.addQueryListener(t,n),s()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),Pn=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var i=!Ht(e);o&&Ht(e)&&e.data&&(i=!0),!r&&i&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Ht(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t,n=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var o=n.cache;n.cache=r;try{n.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{n.cache=o}},e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!Ht(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(o){var i=r[o],a=i.query,s=i.updater,c=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),u=c.result;if(c.complete){var l=Wt(function(){return s(u,{mutationResult:e.result,queryName:Ot(a.document)||void 0,queryVariables:a.variables})});l&&n.push({result:l,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}),this.cache.performTransaction(function(t){n.forEach(function(e){return t.write(e)});var r=e.update;r&&Wt(function(){return r(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),Fn="2.6.3",jn=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,o=void 0!==r&&r,i=e.ssrForceFetchDelay,a=void 0===i?0:i,s=e.connectToDevTools,c=e.queryDeduplication,u=void 0===c||c,l=e.defaultOptions,d=e.assumeImmutableResults,f=void 0!==d&&d,p=e.resolvers,h=e.typeDefs,m=e.fragmentMatcher,g=e.name,v=e.version,y=e.link;if(!y&&p&&(y=vn.empty()),!y||!n)throw new rt(1);this.link=y,this.cache=n,this.store=new Pn(n),this.disableNetworkFetches=o||a>0,this.queryDeduplication=u,this.defaultOptions=l||{},this.typeDefs=h,a&&setTimeout(function(){return t.disableNetworkFetches=!1},a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==s&&(s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),this.version=Fn,this.localState=new Nn({cache:n,client:this,resolvers:p,fragmentMatcher:m}),this.queryManager=new Rn({link:this.link,store:this.store,queryDeduplication:u,ssrMode:o,clientAwareness:{name:g,version:v},localState:this.localState,assumeImmutableResults:f,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=je({},this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=je({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=je({},this.defaultOptions.query,e)),ot("cache-and-network"!==e.fetchPolicy,2),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=je({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=je({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return yn(this.link,e)},e.prototype.initQueryManager=function(){return this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}();function Qn(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Ln(e)}]}}function Ln(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return Ln(e[0]);var t=[];return Object.keys(e).forEach(function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:Ln(e[n])||void 0};t.push(r)}),{kind:"SelectionSet",selections:t}}var Vn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Un=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Et(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Et(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,o=e.data;if(void 0!==r){var i=null;try{i=this.read({rootId:r,optimistic:!1,query:Vn})}catch(e){}var a=i&&i.__typename||"__ClientData",s=Object.assign({__typename:a},o);this.writeFragment({id:r,fragment:(t=s,n=a,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Ln(t)}]}),data:s})}else this.writeQuery({query:Qn(o),data:o})},e}(),Bn=null,Yn={},zn=1,Wn=Array,Hn=Wn["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",zn++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=Bn;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Yn)break;return e!==Bn&&(Bn.slots[this.id]=t),!0}return Bn&&(Bn.slots[this.id]=Yn),!1},e.prototype.getValue=function(){if(this.hasValue())return Bn.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var o,i=((o={__proto__:null})[this.id]=e,o),a=Bn;Bn={parent:a,slots:i};try{return t.apply(r,n)}finally{Bn=a}},e.bind=function(e){var t=Bn;return function(){var n=Bn;try{return Bn=t,e.apply(this,arguments)}finally{Bn=n}}},e.noContext=function(e,t,n){if(!Bn)return e.apply(n,t);var r=Bn;try{return Bn=null,e.apply(n,t)}finally{Bn=r}},e}();try{Object.defineProperty(Wn,"@wry/context:Slot",{value:Wn["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();Hn.bind,Hn.noContext;function Gn(){}var Jn=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Gn),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Kn=new Hn,Xn=Object.create(null),Zn=[],er=[],tr=100;function nr(e,t){if(!e)throw new Error(t||"assertion failure")}var rr=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=Xn,++e.count}return e.prototype.recompute=function(){if(function(e){var t=Kn.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,Xn),ir(e)?cr(t,e):ur(t,e),t}(this)||!dr(this))return function e(t){if(t.dirty)return or(t);if(ir(t)&&(t.dirtyChildren.forEach(function(n){nr(t.childValues.has(n));try{e(n)}catch(e){t.setDirty()}}),t.dirty))return or(t);nr(t.value!==Xn);return t.value}(this)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value=Xn,ar(this),hr(this))},e.prototype.dispose=function(){var e=this;fr(this).forEach(dr),hr(this),this.parents.forEach(function(t){t.setDirty(),pr(t,e)})},e.count=0,e}();function or(e){nr(!e.recomputing,"already recomputing"),e.recomputing=!0;var t=fr(e),n=!0;try{Kn.withValue(e,function(){e.value=e.fn.apply(null,e.args)}),n=!1}finally{e.recomputing=!1,n||!function(e){if("function"==typeof e.subscribe)try{hr(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)?e.setDirty():function(e){if(e.dirty=!1,ir(e))return;sr(e)}(e)}return t.forEach(dr),e.value}function ir(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ar(e){e.parents.forEach(function(t){return cr(t,e)})}function sr(e){e.parents.forEach(function(t){return ur(t,e)})}function cr(e,t){if(nr(e.childValues.has(t)),nr(ir(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=er.pop()||new Set;e.dirtyChildren.add(t),ar(e)}function ur(e,t){nr(e.childValues.has(t)),nr(!ir(t));var n=e.childValues.get(t);n===Xn?e.childValues.set(t,t.value):n!==t.value&&e.setDirty(),lr(e,t),ir(e)||sr(e)}function lr(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(er.length<tr&&er.push(n),e.dirtyChildren=null))}function dr(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function fr(e){var t=Zn;return e.childValues.size>0&&(t=[],e.childValues.forEach(function(n,r){pr(e,r),t.push(r)})),nr(null===e.dirtyChildren),t}function pr(e,t){t.parents.delete(e),e.childValues.delete(t),lr(e,t)}function hr(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var mr=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach(function(e){return t=t.getChildTrie(e)}),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness)),r},e}();var gr=new mr("function"==typeof WeakMap);function vr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gr.lookupArray(e)}function yr(e,t){void 0===t&&(t=Object.create(null));var n=new Jn(t.max||Math.pow(2,16),function(e){return e.dispose()}),r=!!t.disposable,o=t.makeCacheKey||vr;function i(){if(!r||Kn.hasValue()){var i=o.apply(null,arguments);if(!i)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=n.get(i);s?s.args=a:(s=new rr(e,a),n.set(i,s),s.subscribe=t.subscribe,r&&(s.reportOrphan=function(){return n.delete(i)}));var c=s.recompute();return n.set(i,s),Kn.hasValue()||n.clean(),r?void 0:c}}return i.dirty=function(){var e=o.apply(null,arguments),t=e&&n.get(e);t&&t.setDirty()},i}var br=new Map;if(br.set(1,2)!==br){var wr=br.set;Map.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wr.apply(this,e),this}}var kr=new Set;if(kr.add(3)!==kr){var xr=kr.add;Set.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xr.apply(this,e),this}}var $r={};"function"==typeof Object.freeze&&Object.freeze($r);try{br.set($r,$r).delete($r)}catch(tt){var Cr=function(e){return e&&function(t){try{br.set(t,t).delete(t)}finally{return e.call(Object,t)}}};Object.freeze=Cr(Object.freeze),Object.seal=Cr(Object.seal),Object.preventExtensions=Cr(Object.preventExtensions)}var Ir=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id),o="ROOT_QUERY"===e.id;if(!r)return o;var i=r.__typename,a=void 0===i?o&&"Query":i;return a&&a===t||"heuristic"},e}(),Dr=Object.prototype.hasOwnProperty,Sr=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=yr(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){Dr.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(n){t.set(n,e[n])}),Object.keys(this.data).forEach(function(n){Dr.call(e,n)||t.delete(n)})):Object.keys(this.data).forEach(function(e){t.delete(e)})},e}();function Er(e){return new Sr(e)}var Tr=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.cacheKeyRoot,o=void 0===r?new mr(Bt):r,i=n.freezeResults,a=void 0!==i&&i,s=this.executeStoreQuery,c=this.executeSelectionSet,u=this.executeSubSelectedArray;this.freezeResults=a,this.executeStoreQuery=yr(function(e){return s.call(t,e)},{makeCacheKey:function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(r.store instanceof Sr)return o.lookup(r.store,t,a,JSON.stringify(i),n.id)}}),this.executeSelectionSet=yr(function(e){return c.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,r=e.execContext;if(r.contextValue.store instanceof Sr)return o.lookup(r.contextValue.store,t,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=yr(function(e){return u.call(t,e)},{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.execContext;if(r.contextValue.store instanceof Sr)return o.lookup(r.contextValue.store,t,n,JSON.stringify(r.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(je({},e,{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,r=e.query,o=e.variables,i=e.previousResult,a=e.returnPartialData,s=void 0===a||a,c=e.rootId,u=void 0===c?"ROOT_QUERY":c,l=e.fragmentMatcherFunction,d=e.config;o=Tt({},Rt((ot((t=Mt(r))&&"query"===t.operation,12),t)),o);var f={store:n,dataIdFromObject:d&&d.dataIdFromObject||null,cacheRedirects:d&&d.cacheRedirects||{}},p=this.executeStoreQuery({query:r,rootValue:{type:"id",id:u,generated:!0,typename:"Query"},contextValue:f,variableValues:o,fragmentMatcher:l}),h=p.missing&&p.missing.length>0;return h&&!s&&p.missing.forEach(function(e){if(!e.tolerable)throw new rt(2)}),i&&ft(i,p.result)&&(p.result=i),{result:p.result,complete:!h}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,o=e.variableValues,i=e.fragmentMatcher,a=void 0===i?Mr:i,s=qt(t),c={query:t,fragmentMap:At(Nt(t)),contextValue:r,variableValues:o,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:s.selectionSet,rootValue:n,execContext:c})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,r=e.rootValue,o=e.execContext,i=o.fragmentMap,a=o.contextValue,s=o.variableValues,c={result:null},u=[],l=a.store.get(r.id),d=l&&l.__typename||"ROOT_QUERY"===r.id&&"Query"||void 0;function f(e){var t;return e.missing&&(c.missing=c.missing||[],(t=c.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach(function(e){var n;if(Ct(e,s))if(bt(e)){var c=f(t.executeField(l,d,e,o));void 0!==c&&u.push(((n={})[yt(e)]=c,n))}else{var p=void 0;if(wt(e))p=e;else if(!(p=i[e.name.value]))throw new rt(3);var h=p.typeCondition.name.value,m=o.fragmentMatcher(r,h,a);if(m){var g=t.executeSelectionSet({selectionSet:p.selectionSet,rootValue:r,execContext:o});"heuristic"===m&&g.missing&&(g=je({},g,{missing:g.missing.map(function(e){return je({},e,{tolerable:!0})})})),u.push(f(g))}}}),c.result=Kt(u),this.freezeResults,c},e.prototype.executeField=function(e,t,n,r){var o=r.variableValues,i=r.contextValue,a=function(e,t,n,r,o,i){i.resultKey;var a=i.directives,s=n;(r||a)&&(s=gt(s,r,a));var c=void 0;if(e&&void 0===(c=e[s])&&o.cacheRedirects&&"string"==typeof t){var u=o.cacheRedirects[t];if(u){var l=u[n];l&&(c=l(e,r,{getCacheKey:function(e){return xt({id:o.dataIdFromObject(e),typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:e,fieldName:s,tolerable:!1}]};d=c,null!=d&&"object"==typeof d&&"json"===d.type&&(c=c.json);var d;return{result:c}}(e,t,n.name.value,vt(n,o),i,{resultKey:yt(n),directives:$t(n,o)});return Array.isArray(a.result)?this.combineExecResults(a,this.executeSubSelectedArray({field:n,array:a.result,execContext:r})):n.selectionSet?null==a.result?a:this.combineExecResults(a,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:a.result,execContext:r})):(_r(n,a.result),this.freezeResults,a)},e.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return e.forEach(function(e){e.missing&&(n=n||[]).push.apply(n,e.missing)}),{result:e.pop().result,missing:n}},e.prototype.executeSubSelectedArray=function(e){var t=this,n=e.field,r=e.array,o=e.execContext,i=null;function a(e){return e.missing&&(i=i||[]).push.apply(i,e.missing),e.result}return r=r.map(function(e){return null===e?null:Array.isArray(e)?a(t.executeSubSelectedArray({field:n,array:e,execContext:o})):n.selectionSet?a(t.executeSelectionSet({selectionSet:n.selectionSet,rootValue:e,execContext:o})):(_r(n,e),e)}),this.freezeResults,{result:r,missing:i}},e}();function _r(e,t){if(!e.selectionSet&&kt(t))throw new rt(4)}function Mr(){return!0}var Or=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}(),Nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return Fe(t,e),t}(Error);var qr=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,o=void 0===r?Er():r,i=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:o,variables:i,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,o=e.store,i=void 0===o?Er():o,a=e.variables,s=e.dataIdFromObject,c=e.fragmentMatcherFunction,u=Mt(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:u.selectionSet,context:{store:i,processedData:{},variables:Tt({},Rt(u),a),dataIdFromObject:s,fragmentMap:At(Nt(r)),fragmentMatcherFunction:c}})}catch(e){throw function(e,t){var n=new Nr("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}(e,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,o=e.selectionSet,i=e.context,a=i.variables,s=i.store,c=i.fragmentMap;return o.selections.forEach(function(e){var o;if(Ct(e,a))if(bt(e)){var s=yt(e),u=n[s];if(void 0!==u)t.writeFieldToStore({dataId:r,value:u,field:e,context:i});else{var l=!1,d=!1;e.directives&&e.directives.length&&(l=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),d=e.directives.some(function(e){return e.name&&"client"===e.name.value})),!l&&!d&&i.fragmentMatcherFunction}}else{var f=void 0;wt(e)?f=e:ot(f=(c||{})[e.name.value],6);var p=!0;if(i.fragmentMatcherFunction&&f.typeCondition){var h=r||"self",m=xt({id:h,typename:void 0}),g={store:new Or((o={},o[h]=n,o)),cacheRedirects:{}};p=!!i.fragmentMatcherFunction(m,f.typeCondition.name.value,g)}p&&t.writeSelectionSetToStore({result:n,selectionSet:f.selectionSet,dataId:r,context:i})}}),s},e.prototype.writeFieldToStore=function(e){var t,n,r,o=e.field,i=e.value,a=e.dataId,s=e.context,c=s.variables,u=s.dataIdFromObject,l=s.store,d=function(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){var o=r.name,i=r.value;return ht(n[e.name.value],o,i,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){var n=e.name,o=e.value;return ht(r,n,o,t)})),gt(e.name.value,r,n)}(o,c);if(o.selectionSet&&null!==i)if(Array.isArray(i)){var f=a+"."+d;n=this.processArrayValue(i,f,o.selectionSet,s)}else{var p=a+"."+d,h=!0;if(Ar(p)||(p="$"+p),u){var m=u(i);ot(!m||!Ar(m),7),(m||"number"==typeof m&&0===m)&&(p=m,h=!1)}Rr(p,o,s.processedData)||this.writeSelectionSetToStore({dataId:p,result:i,selectionSet:o.selectionSet,context:s});var g=i.__typename;n=xt({id:p,typename:g},h);var v=(r=l.get(a))&&r[d];if(v!==n&&kt(v)){var y=void 0!==v.typename,b=void 0!==g,w=y&&b&&v.typename!==g;ot(!h||v.generated||w,8),ot(!y||b,9),v.generated&&(w?h||l.delete(v.id):function e(t,n,r){if(t===n)return!1;var o=r.get(t);var i=r.get(n);var a=!1;Object.keys(o).forEach(function(t){var n=o[t],s=i[t];kt(n)&&Ar(n.id)&&kt(s)&&!ft(n,s)&&e(n.id,s.id,r)&&(a=!0)});r.delete(t);var s=je({},o,i);if(ft(s,i))return a;r.set(n,s);return!0}(v.id,n.id,l))}}else n=null!=i&&"object"==typeof i?{type:"json",json:i}:i;(r=l.get(a))&&ft(n,r[d])||l.set(a,je({},r,((t={})[d]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var o=this;return e.map(function(e,i){if(null===e)return null;var a=t+"."+i;if(Array.isArray(e))return o.processArrayValue(e,a,n,r);var s=!0;if(r.dataIdFromObject){var c=r.dataIdFromObject(e);c&&(a=c,s=!1)}return Rr(a,n,r.processedData)||o.writeSelectionSetToStore({dataId:a,result:e,selectionSet:n,context:r}),xt({id:a,typename:e.__typename},s)})},e}();function Ar(e){return"$"===e[0]}function Rr(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var Pr={fragmentMatcher:new Ir,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var Fr=Object.prototype.hasOwnProperty,jr=function(e){function t(t,n,r){var o=e.call(this,Object.create(null))||this;return o.optimisticId=t,o.parent=n,o.transaction=r,o}return Fe(t,e),t.prototype.toObject=function(){return je({},this.parent.toObject(),this.data)},t.prototype.get=function(e){return Fr.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(Or),Qr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new mr(Bt),n.silenceBroadcast=!1,n.config=je({},Pr,t),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=n.config.addTypename,n.data=n.config.resultCaching?new Sr:new Or,n.optimisticData=n.data,n.storeWriter=new qr,n.storeReader=new Tr({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var r=n,o=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=yr(function(e){return o.call(n,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return r.data instanceof Sr?r.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return Fe(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){return"string"==typeof e.rootId&&void 0===this.data.get(e.rootId)?null:this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:this.config.fragmentMatcher.match,previousResult:e.previousResult,config:this.config})},t.prototype.write=function(e){this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:this.config.fragmentMatcher.match}),this.broadcastWatches()},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:this.config.fragmentMatcher.match,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new rt(1)},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof jr;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var o=t.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new jr(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Ke(_t(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some(function(e){return bt(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))})){var o=n;if(!(bt(o)&&o.directives&&o.directives.some(function(e){return"export"===e.name.value})))return je({},e,{selections:r.concat([Ft])})}}}}}),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){return e.maybeBroadcastWatch(t)})},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(Un),Lr=Vr;function Vr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Vr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Vr.prototype.reset=function(){this.attempts=0},Vr.prototype.setMin=function(e){this.ms=e},Vr.prototype.setMax=function(e){this.max=e},Vr.prototype.setJitter=function(e){this.jitter=e};var Ur=rn(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}),Br=rn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}});nn(Br);var Yr=rn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&"object"==typeof e}});function zr(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],o=Wr(r);if(o!==r.length&&((null===t||o<t)&&0===(t=o)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&Hr(t[0]);)t.shift();for(;t.length>0&&Hr(t[t.length-1]);)t.pop();return t.join("\n")}function Wr(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function Hr(e){return Wr(e)===e.length}function Gr(e){return Ke(e,{leave:Jr})}nn(Yr);var Jr={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Xr(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=eo("(",Xr(e.variableDefinitions,", "),")"),o=Xr(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?Xr([t,Xr([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+eo(" = ",r)+eo(" ",Xr(o," "))},SelectionSet:function(e){return Zr(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet;return Xr([eo("",t,": ")+n+eo("(",Xr(r,", "),")"),Xr(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+eo(" ",Xr(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return Xr(["...",eo("on ",t),Xr(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(eo("(",Xr(r,", "),")")," ")+"on ".concat(n," ").concat(eo("",Xr(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],a=!r||i||n,s="";return!a||r&&o||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,a&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Xr(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Xr(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+eo("(",Xr(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return Xr(["schema",Xr(t," "),Zr(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:Kr(function(e){return Xr(["scalar",e.name,Xr(e.directives," ")]," ")}),ObjectTypeDefinition:Kr(function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return Xr(["type",t,eo("implements ",Xr(n," & ")),Xr(r," "),Zr(o)]," ")}),FieldDefinition:Kr(function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(ro(n)?eo("(\n",to(Xr(n,"\n")),"\n)"):eo("(",Xr(n,", "),")"))+": "+r+eo(" ",Xr(o," "))}),InputValueDefinition:Kr(function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return Xr([t+": "+n,eo("= ",r),Xr(o," ")]," ")}),InterfaceTypeDefinition:Kr(function(e){var t=e.name,n=e.directives,r=e.fields;return Xr(["interface",t,Xr(n," "),Zr(r)]," ")}),UnionTypeDefinition:Kr(function(e){var t=e.name,n=e.directives,r=e.types;return Xr(["union",t,Xr(n," "),r&&0!==r.length?"= "+Xr(r," | "):""]," ")}),EnumTypeDefinition:Kr(function(e){var t=e.name,n=e.directives,r=e.values;return Xr(["enum",t,Xr(n," "),Zr(r)]," ")}),EnumValueDefinition:Kr(function(e){return Xr([e.name,Xr(e.directives," ")]," ")}),InputObjectTypeDefinition:Kr(function(e){var t=e.name,n=e.directives,r=e.fields;return Xr(["input",t,Xr(n," "),Zr(r)]," ")}),DirectiveDefinition:Kr(function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(ro(n)?eo("(\n",to(Xr(n,"\n")),"\n)"):eo("(",Xr(n,", "),")"))+(r?" repeatable":"")+" on "+Xr(o," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return Xr(["extend schema",Xr(t," "),Zr(n)]," ")},ScalarTypeExtension:function(e){return Xr(["extend scalar",e.name,Xr(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return Xr(["extend type",t,eo("implements ",Xr(n," & ")),Xr(r," "),Zr(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Xr(["extend interface",t,Xr(n," "),Zr(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return Xr(["extend union",t,Xr(n," "),r&&0!==r.length?"= "+Xr(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return Xr(["extend enum",t,Xr(n," "),Zr(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Xr(["extend input",t,Xr(n," "),Zr(r)]," ")}};function Kr(e){return function(t){return Xr([t.description,e(t)],"\n")}}function Xr(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function Zr(e){return e&&0!==e.length?"{\n"+to(Xr(e,"\n"))+"\n}":""}function eo(e,t,n){return t?e+t+(n||""):""}function to(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function no(e){return-1!==e.indexOf("\n")}function ro(e){return e&&e.some(no)}var oo=Object.freeze({print:Gr}),io=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var ao=Object.freeze({getOperationAST:function(e,t){var n=null,r=!0,o=!1,i=void 0;try{for(var a,s=e.definitions[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;if(c.kind===io.OPERATION_DEFINITION)if(t){if(c.name&&c.name.value===t)return c}else{if(n)return null;n=c}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}),so=rn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.GRAPHQL_WS="graphql-ws";t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"});nn(so);so.GRAPHQL_WS,so.GRAPHQL_SUBSCRIPTIONS;var co=rn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.WS_TIMEOUT=3e4});nn(co);co.WS_TIMEOUT;var uo=rn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=n});nn(uo);var lo=on(oo),fo=on(ao),po=rn(function(e,t){var n=tn&&tn.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=tn&&tn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=tn&&tn.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=void 0!==tn?tn:"undefined"!=typeof window?window:{},a=i.WebSocket||i.MozWebSocket,s=function(){function e(e,t,n,r){var o=t||{},i=o.connectionCallback,s=void 0===i?void 0:i,c=o.connectionParams,u=void 0===c?{}:c,l=o.timeout,d=void 0===l?co.WS_TIMEOUT:l,f=o.reconnect,p=void 0!==f&&f,h=o.reconnectionAttempts,m=void 0===h?1/0:h,g=o.lazy,v=void 0!==g&&g,y=o.inactivityTimeout,b=void 0===y?0:y;if(this.wsImpl=n||a,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||so.GRAPHQL_WS,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=d,this.unsentMessagesQueue=[],this.reconnect=p,this.reconnecting=!1,this.reconnectionAttempts=m,this.lazy=!!v,this.inactivityTimeout=b,this.closedByUser=!1,this.backoff=new Lr({jitter:.5}),this.eventEmitter=new Ur.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(u),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,uo.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),o=this.executeOperation.bind(this),i=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[wn.default]=function(){return this},t.subscribe=function(t,a,s){var c=r(t,a,s);return n=o(e,function(e,t){null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)}),{unsubscribe:function(){n&&(i(n),n=null)}}},t},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(n,r){var o,i,a;o=t.middlewares.slice(),i=t,(a=function(t){if(t)r(t);else if(o.length>0){var s=o.shift();s&&s.applyMiddleware.apply(i,[e,a])}else n(e)})()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise(function(t,n){if("function"==typeof e)try{return t(e.call(null))}catch(e){return n(e)}t(e)})}},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,uo.default.GQL_START,e))}).catch(function(e){n.unsubscribe(r),t(n.formatErrors(e))}),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.wsTimeout;return new Lr({min:1e3,max:e,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(e.operations).length&&e.close()},this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,o=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!Br.default(n)&&!fo.getOperationAST(n,o)||o&&!Br.default(o)||r&&!Yr.default(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,r){return{id:e,type:t,payload:r&&r.query?n({},r,{query:"string"==typeof r.query?r.query:lo.print(r.query)}):r}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,uo.default.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return r(e,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=n.sent(),this.sendMessage(void 0,uo.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=n.sent(),this.sendMessage(void 0,uo.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}})})},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var n=t.data;e.processReceivedData(n)}},e.prototype.processReceivedData=function(e){var t,r;try{r=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[uo.default.GQL_DATA,uo.default.GQL_COMPLETE,uo.default.GQL_ERROR].indexOf(t.type)||this.operations[r])switch(t.type){case uo.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case uo.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case uo.default.GQL_COMPLETE:this.operations[r].handler(null,null),delete this.operations[r];break;case uo.default.GQL_ERROR:this.operations[r].handler(this.formatErrors(t.payload),null),delete this.operations[r];break;case uo.default.GQL_DATA:var o=t.payload.errors?n({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[r].handler(null,o);break;case uo.default.GQL_CONNECTION_KEEP_ALIVE:var i=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,i&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(r)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,uo.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=s});nn(po);var ho=po.SubscriptionClient,mo=function(e){function t(t){var n=e.call(this)||this;return n.subscriptionClient=t instanceof ho?t:new ho(t.uri,t.options,t.webSocketImpl),n}return Fe(t,e),t.prototype.request=function(e){return this.subscriptionClient.request(e)},t}(vn),go={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},vo=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},yo=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=new rt(2);throw r.parseError=e,r}return n},bo=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.includeExtensions,i=e.useGETForQueries,a=Qe(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new rt(1)}(r),r||(r=fetch);var s={http:{includeExtensions:o},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new vn(function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),a={};if(o.clientAwareness){var c=o.clientAwareness,u=c.name,l=c.version;u&&(a["apollographql-client-name"]=u),l&&(a["apollographql-client-version"]=l)}var d,f=je({},a,o.headers),p={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:f},h=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=je({},t.options,{headers:t.headers,credentials:t.credentials}),i=t.http;n.forEach(function(e){o=je({},o,e.options,{headers:je({},o.headers,e.headers)}),e.credentials&&(o.credentials=e.credentials),i=je({},i,e.http)});var a=e.operationName,s=e.extensions,c=e.variables,u=e.query,l={operationName:a,variables:c};return i.includeExtensions&&(l.extensions=s),i.includeQuery&&(l.query=Gr(u)),{options:o,body:l}}(e,go,s,p),m=h.options,g=h.body;if(!m.signal){var v=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),y=v.controller,b=v.signal;(d=y)&&(m.signal=b)}if(i&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(m.method="GET"),"GET"===m.method){var w=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var o=void 0;try{o=yo(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",o)}if(t.extensions){var i=void 0;try{i=yo(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",i)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+a}}(t,g),k=w.newURI,x=w.parseError;if(x)return un(x);t=k}else try{m.body=yo(g,"Payload")}catch(x){return un(x)}return new sn(function(n){var o;return r(t,m).then(function(t){return e.setContext({response:t}),t}).then((o=e,function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}}).then(function(t){return e.status>=300&&vo(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||vo(e,t,"Server response was missing for query '"+(Array.isArray(o)?o.map(function(e){return e.operationName}):o.operationName)+"'."),t})})).then(function(e){return n.next(e),n.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))}),function(){d&&d.abort()}})})};var wo=function(e){function t(t){return e.call(this,bo(t).request)||this}return Fe(t,e),t}(vn);function ko(e){return new vn(function(t,n){return new sn(function(r){var o,i,a;try{o=n(t).subscribe({next:function(o){o.errors&&(a=e({graphQLErrors:o.errors,response:o,operation:t,forward:n}))?i=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(o)},error:function(o){(a=e({operation:t,networkError:o,graphQLErrors:o&&o.result&&o.result.errors,forward:n}))?i=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(o)},complete:function(){a||r.complete.bind(r)()}})}catch(o){e({networkError:o,operation:t,forward:n}),r.error(o)}return function(){o&&o.unsubscribe(),i&&o.unsubscribe()}})})}!function(e){function t(t){var n=e.call(this)||this;return n.link=ko(t),n}Fe(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(vn);const xo=($o=((e,{headers:t})=>{const n=window.localStorage.getItem("token"),r=n?JSON.parse(n):null;return{headers:{...t,authorization:r?`Bearer ${r}`:""}}}),new vn(function(e,t){var n=Qe(e,[]);return new sn(function(r){var o;return Promise.resolve(n).then(function(t){return $o(t,e.getContext())}).then(e.setContext).then(function(){o=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){o&&o.unsubscribe()}})}));var $o;const Co=new Qr({dataIdFromObject:e=>e.id}),Io=ko(({graphQLErrors:e,networkError:t})=>{e&&e.map(({message:e,locations:t,path:n})=>console.error(`[GraphQL error]: Message: ${e}, Location: ${t}, Path: ${n}`)),t&&console.error(`[Network error]: ${t}`)}),Do=mn(({query:e})=>{const{kind:t,operation:n}=qt(e);return"OperationDefinition"===t&&"subscription"===n},new mo({uri:"wss://spoken-english.herokuapp.com/api",options:{reconnect:!0,lazy:!0}}),new wo({uri:"https://spoken-english.herokuapp.com/api"})),So=new jn({link:vn.from([Io,xo,Do]),cache:Co}),Eo={isLoggedIn:!!window.localStorage.getItem("token")};var To;Co.writeData({data:Eo}),So.onResetStore(()=>Co.writeData({data:Eo}));var _o=function(){};function Mo(e,t){return n=e,To||(To="function"==typeof Symbol&&Symbol.observable||"@@observable"),n&&n[To]&&n[To]()===n?ke(void 0,function(n){var r=function(e,t){var n,r,o=void 0!==t;return e(o?t:new Promise(function(e,t){n=e,r=t})),{fulfill:function(t){if(o)return e(Promise.resolve(t));o=!0,n(t)},reject:function(t){if(o)return e(Promise.reject(t));o=!0,r(t)}}}(n,t),o=r.fulfill,i=r.reject,a=e.subscribe({next:function(e){o(e)},error:function(e){i(e)}});return function(){return a.unsubscribe()}}):ke(e,_o);var n}var Oo="undefined"!=typeof WeakSet?new WeakSet:new Set;function No(e,t){var n,r=!1;if(Oo.has(e))try{n={data:n=e.readQuery(t)||void 0}}catch(e){}var o=e.watchQuery(t),i=Mo(o,n).subscribe;return{subscribe:ke(n,function(e){r=!0;var t=void 0!==n,o=!1,a=!1;return i(function(n){t&&o&&!a?a=!0:(o||(o=!0),e(n))})}).subscribe,refetch:function(e){return!r&&ft(e,o.variables)?o.result():o.refetch(e)},result:function(){return o.result()},fetchMore:function(e){return o.fetchMore(e)},setOptions:function(e){return o.setOptions(e)},updateQuery:function(e){return o.updateQuery(e)},startPolling:function(e){return o.startPolling(e)},stopPolling:function(){return o.stopPolling()},subscribeToMore:function(e){return o.subscribeToMore(e)}}}function qo(e,t){return e.mutate(t)}function Ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,Ue&&(e.prototype[Ue]=t)}function Ro(e,t){if(!Boolean(e))throw new Error(t)}var Po,Fo=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||Ro(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||Ro(0,"column in locationOffset is 1-indexed and must be positive")};function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function Lo(e){return Vo(e.source,Qo(e.source,e.start))}function Vo(e,t){var n=e.locationOffset.column-1,r=Bo(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[o];if(d.length>120){for(var f=Math.floor(c/80),p=c%80,h=[],m=0;m<d.length;m+=80)h.push(d.slice(m,m+80));return u+Uo([["".concat(a),h[0]]].concat(h.slice(1,f+1).map(function(e){return["",e]}),[[" ",Bo(p-1)+"^"],["",h[f+1]]]))}return u+Uo([["".concat(a-1),l[o-1]],["".concat(a),d],["",Bo(c-1)+"^"],["".concat(a+1),l[o+1]]])}function Uo(e){var t=e.filter(function(e){e[0];return void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,r=e[0],o=e[1];return Bo(n-(t=r).length)+t+" | "+o}).join("\n")}function Bo(e){return Array(e+1).join(" ")}function Yo(e,t,n,r,o,i,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&s){var u=s[0];c=u&&u.loc&&u.loc.source}var l,d=r;!d&&s&&(d=s.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),d&&0===d.length&&(d=void 0),r&&n?l=r.map(function(e){return Qo(n,e)}):s&&(l=s.reduce(function(e,t){return t.loc&&e.push(Qo(t.loc.source,t.loc.start)),e},[]));var f,p=a;if(null==p&&null!=i){var h=i.extensions;"object"==jo(f=h)&&null!==f&&(p=h)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:o||void 0,enumerable:Boolean(o)},nodes:{value:s||void 0},source:{value:c||void 0},positions:{value:d||void 0},originalError:{value:i},extensions:{value:p||void 0,enumerable:Boolean(p)}}),i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Yo):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function zo(e,t,n){return new Yo("Syntax Error: ".concat(n),void 0,e,[t])}Po=Fo,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Po.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}}),Yo.prototype=Object.create(Error.prototype,{constructor:{value:Yo},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes){var n=!0,r=!1,o=void 0;try{for(var i,a=e.nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.loc&&(t+="\n\n"+Lo(s.loc))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else if(e.source&&e.locations){var c=!0,u=!1,l=void 0;try{for(var d,f=e.locations[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;t+="\n\n"+Vo(e.source,p)}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return t}(this)}}});var Wo=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Ho(e,t){var n=new Xo(Wo.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:Go,lookahead:Jo}}function Go(){return this.lastToken=this.token,this.token=this.lookahead()}function Jo(){var e=this.token;if(e.kind!==Wo.EOF)do{e=e.next||(e.next=ei(this,e))}while(e.kind===Wo.COMMENT);return e}function Ko(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}function Xo(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}function Zo(e){return isNaN(e)?Wo.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function ei(e,t){var n=e.source,r=n.body,o=r.length,i=function(e,t,n){var r=e.length,o=t;for(;o<r;){var i=e.charCodeAt(o);if(9===i||32===i||44===i||65279===i)++o;else if(10===i)++o,++n.line,n.lineStart=o;else{if(13!==i)break;10===e.charCodeAt(o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(r,t.end,e),a=e.line,s=1+i-e.lineStart;if(i>=o)return new Xo(Wo.EOF,o,o,a,s,t);var c=r.charCodeAt(i);switch(c){case 33:return new Xo(Wo.BANG,i,i+1,a,s,t);case 35:return function(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new Xo(Wo.COMMENT,t,s,n,r,o,a.slice(t+1,s))}(n,i,a,s,t);case 36:return new Xo(Wo.DOLLAR,i,i+1,a,s,t);case 38:return new Xo(Wo.AMP,i,i+1,a,s,t);case 40:return new Xo(Wo.PAREN_L,i,i+1,a,s,t);case 41:return new Xo(Wo.PAREN_R,i,i+1,a,s,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new Xo(Wo.SPREAD,i,i+3,a,s,t);break;case 58:return new Xo(Wo.COLON,i,i+1,a,s,t);case 61:return new Xo(Wo.EQUALS,i,i+1,a,s,t);case 64:return new Xo(Wo.AT,i,i+1,a,s,t);case 91:return new Xo(Wo.BRACKET_L,i,i+1,a,s,t);case 93:return new Xo(Wo.BRACKET_R,i,i+1,a,s,t);case 123:return new Xo(Wo.BRACE_L,i,i+1,a,s,t);case 124:return new Xo(Wo.PIPE,i,i+1,a,s,t);case 125:return new Xo(Wo.BRACE_R,i,i+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var i=e.body,a=i.length,s=t+1,c=0;for(;s!==a&&!isNaN(c=i.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new Xo(Wo.NAME,t,s,n,r,o,i.slice(t,s))}(n,i,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,i){var a=e.body,s=n,c=t,u=!1;45===s&&(s=a.charCodeAt(++c));if(48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw zo(e,c,"Invalid number, unexpected digit after 0: ".concat(Zo(s),"."))}else c=ti(e,c,s),s=a.charCodeAt(c);46===s&&(u=!0,s=a.charCodeAt(++c),c=ti(e,c,s),s=a.charCodeAt(c));69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=ti(e,c,s));return new Xo(u?Wo.FLOAT:Wo.INT,t,c,r,o,i,a.slice(t,c))}(n,i,c,a,s,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?function(e,t,n,r,o,i){var a=e.body,s=t+3,c=s,u=0,l="";for(;s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new Xo(Wo.BLOCK_STRING,t,s+3,n,r,o,zr(l));if(u<32&&9!==u&&10!==u&&13!==u)throw zo(e,s,"Invalid character within String: ".concat(Zo(u),"."));10===u?(++s,++i.line,i.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw zo(e,s,"Unterminated string.")}(n,i,a,s,t,e):function(e,t,n,r,o){var i=e.body,a=t+1,s=a,c=0,u="";for(;a<i.length&&!isNaN(c=i.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return u+=i.slice(s,a),new Xo(Wo.STRING,t,a+1,n,r,o,u);if(c<32&&9!==c)throw zo(e,a,"Invalid character within String: ".concat(Zo(c),"."));if(++a,92===c){switch(u+=i.slice(s,a-1),c=i.charCodeAt(a)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=(f=i.charCodeAt(a+1),p=i.charCodeAt(a+2),h=i.charCodeAt(a+3),m=i.charCodeAt(a+4),ni(f)<<12|ni(p)<<8|ni(h)<<4|ni(m));if(l<0){var d=i.slice(a+1,a+5);throw zo(e,a,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(l),a+=4;break;default:throw zo(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}var f,p,h,m;throw zo(e,a,"Unterminated string.")}(n,i,a,s,t)}throw zo(n,i,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(Zo(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(Zo(e),".")}(c))}function ti(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw zo(e,o,"Invalid number, expected digit but got: ".concat(Zo(i),"."))}function ni(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}Ao(Xo,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var ri=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function oi(e){var t=Ui(e,Wo.NAME);return{kind:io.NAME,value:t.value,loc:Qi(e,t)}}function ii(e){if(Vi(e,Wo.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return ai(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return Di(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===Wo.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"schema");var n=xi(e,!0),r=Vi(e,Wo.BRACE_L)?Gi(e,Wo.BRACE_L,Ti,Wo.BRACE_R):[];if(0===n.length&&0===r.length)throw Wi(e);return{kind:io.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:Qi(e,t)}}(e);case"scalar":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"scalar");var n=oi(e),r=xi(e,!0);if(0===r.length)throw Wi(e);return{kind:io.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Qi(e,t)}}(e);case"type":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"type");var n=oi(e),r=_i(e),o=xi(e,!0),i=Mi(e);if(0===r.length&&0===o.length&&0===i.length)throw Wi(e);return{kind:io.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:i,loc:Qi(e,t)}}(e);case"interface":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"interface");var n=oi(e),r=xi(e,!0),o=Mi(e);if(0===r.length&&0===o.length)throw Wi(e);return{kind:io.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Qi(e,t)}}(e);case"union":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"union");var n=oi(e),r=xi(e,!0),o=Ai(e);if(0===r.length&&0===o.length)throw Wi(e);return{kind:io.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:Qi(e,t)}}(e);case"enum":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"enum");var n=oi(e),r=xi(e,!0),o=Ri(e);if(0===r.length&&0===o.length)throw Wi(e);return{kind:io.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:Qi(e,t)}}(e);case"input":return function(e){var t=e.token;Yi(e,"extend"),Yi(e,"input");var n=oi(e),r=xi(e,!0),o=Fi(e);if(0===r.length&&0===o.length)throw Wi(e);return{kind:io.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Qi(e,t)}}(e)}throw Wi(e,t)}(e)}else{if(Vi(e,Wo.BRACE_L))return ai(e);if(Si(e))return Di(e)}throw Wi(e)}function ai(e){if(Vi(e,Wo.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return si(e);case"fragment":return function(e){var t=e.token;if(Yi(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:io.FRAGMENT_DEFINITION,name:vi(e),variableDefinitions:ui(e),typeCondition:(Yi(e,"on"),Ii(e)),directives:xi(e,!1),selectionSet:fi(e),loc:Qi(e,t)};return{kind:io.FRAGMENT_DEFINITION,name:vi(e),typeCondition:(Yi(e,"on"),Ii(e)),directives:xi(e,!1),selectionSet:fi(e),loc:Qi(e,t)}}(e)}else if(Vi(e,Wo.BRACE_L))return si(e);throw Wi(e)}function si(e){var t=e.token;if(Vi(e,Wo.BRACE_L))return{kind:io.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:fi(e),loc:Qi(e,t)};var n,r=ci(e);return Vi(e,Wo.NAME)&&(n=oi(e)),{kind:io.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:ui(e),directives:xi(e,!1),selectionSet:fi(e),loc:Qi(e,t)}}function ci(e){var t=Ui(e,Wo.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Wi(e,t)}function ui(e){return Vi(e,Wo.PAREN_L)?Gi(e,Wo.PAREN_L,li,Wo.PAREN_R):[]}function li(e){var t=e.token;return{kind:io.VARIABLE_DEFINITION,variable:di(e),type:(Ui(e,Wo.COLON),Ci(e)),defaultValue:Bi(e,Wo.EQUALS)?yi(e,!0):void 0,directives:xi(e,!0),loc:Qi(e,t)}}function di(e){var t=e.token;return Ui(e,Wo.DOLLAR),{kind:io.VARIABLE,name:oi(e),loc:Qi(e,t)}}function fi(e){var t=e.token;return{kind:io.SELECTION_SET,selections:Gi(e,Wo.BRACE_L,pi,Wo.BRACE_R),loc:Qi(e,t)}}function pi(e){return Vi(e,Wo.SPREAD)?function(e){var t=e.token;Ui(e,Wo.SPREAD);var n=zi(e,"on");if(!n&&Vi(e,Wo.NAME))return{kind:io.FRAGMENT_SPREAD,name:vi(e),directives:xi(e,!1),loc:Qi(e,t)};return{kind:io.INLINE_FRAGMENT,typeCondition:n?Ii(e):void 0,directives:xi(e,!1),selectionSet:fi(e),loc:Qi(e,t)}}(e):function(e){var t,n,r=e.token,o=oi(e);Bi(e,Wo.COLON)?(t=o,n=oi(e)):n=o;return{kind:io.FIELD,alias:t,name:n,arguments:hi(e,!1),directives:xi(e,!1),selectionSet:Vi(e,Wo.BRACE_L)?fi(e):void 0,loc:Qi(e,r)}}(e)}function hi(e,t){var n=t?gi:mi;return Vi(e,Wo.PAREN_L)?Gi(e,Wo.PAREN_L,n,Wo.PAREN_R):[]}function mi(e){var t=e.token,n=oi(e);return Ui(e,Wo.COLON),{kind:io.ARGUMENT,name:n,value:yi(e,!1),loc:Qi(e,t)}}function gi(e){var t=e.token;return{kind:io.ARGUMENT,name:oi(e),value:(Ui(e,Wo.COLON),wi(e)),loc:Qi(e,t)}}function vi(e){if("on"===e.token.value)throw Wi(e);return oi(e)}function yi(e,t){var n=e.token;switch(n.kind){case Wo.BRACKET_L:return function(e,t){var n=e.token,r=t?wi:ki;return{kind:io.LIST,values:Hi(e,Wo.BRACKET_L,r,Wo.BRACKET_R),loc:Qi(e,n)}}(e,t);case Wo.BRACE_L:return function(e,t){var n=e.token;return{kind:io.OBJECT,fields:Hi(e,Wo.BRACE_L,function(){return function(e,t){var n=e.token,r=oi(e);return Ui(e,Wo.COLON),{kind:io.OBJECT_FIELD,name:r,value:yi(e,t),loc:Qi(e,n)}}(e,t)},Wo.BRACE_R),loc:Qi(e,n)}}(e,t);case Wo.INT:return e.advance(),{kind:io.INT,value:n.value,loc:Qi(e,n)};case Wo.FLOAT:return e.advance(),{kind:io.FLOAT,value:n.value,loc:Qi(e,n)};case Wo.STRING:case Wo.BLOCK_STRING:return bi(e);case Wo.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:io.BOOLEAN,value:"true"===n.value,loc:Qi(e,n)}):"null"===n.value?(e.advance(),{kind:io.NULL,loc:Qi(e,n)}):(e.advance(),{kind:io.ENUM,value:n.value,loc:Qi(e,n)});case Wo.DOLLAR:if(!t)return di(e)}throw Wi(e)}function bi(e){var t=e.token;return e.advance(),{kind:io.STRING,value:t.value,block:t.kind===Wo.BLOCK_STRING,loc:Qi(e,t)}}function wi(e){return yi(e,!0)}function ki(e){return yi(e,!1)}function xi(e,t){for(var n=[];Vi(e,Wo.AT);)n.push($i(e,t));return n}function $i(e,t){var n=e.token;return Ui(e,Wo.AT),{kind:io.DIRECTIVE,name:oi(e),arguments:hi(e,t),loc:Qi(e,n)}}function Ci(e){var t,n=e.token;return Bi(e,Wo.BRACKET_L)?(t=Ci(e),Ui(e,Wo.BRACKET_R),t={kind:io.LIST_TYPE,type:t,loc:Qi(e,n)}):t=Ii(e),Bi(e,Wo.BANG)?{kind:io.NON_NULL_TYPE,type:t,loc:Qi(e,n)}:t}function Ii(e){var t=e.token;return{kind:io.NAMED_TYPE,name:oi(e),loc:Qi(e,t)}}function Di(e){var t=Si(e)?e.lookahead():e.token;if(t.kind===Wo.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Yi(e,"schema");var n=xi(e,!0),r=Gi(e,Wo.BRACE_L,Ti,Wo.BRACE_R);return{kind:io.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Qi(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=Ei(e);Yi(e,"scalar");var r=oi(e),o=xi(e,!0);return{kind:io.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:Qi(e,t)}}(e);case"type":return function(e){var t=e.token,n=Ei(e);Yi(e,"type");var r=oi(e),o=_i(e),i=xi(e,!0),a=Mi(e);return{kind:io.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:i,fields:a,loc:Qi(e,t)}}(e);case"interface":return function(e){var t=e.token,n=Ei(e);Yi(e,"interface");var r=oi(e),o=xi(e,!0),i=Mi(e);return{kind:io.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Qi(e,t)}}(e);case"union":return function(e){var t=e.token,n=Ei(e);Yi(e,"union");var r=oi(e),o=xi(e,!0),i=Ai(e);return{kind:io.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:i,loc:Qi(e,t)}}(e);case"enum":return function(e){var t=e.token,n=Ei(e);Yi(e,"enum");var r=oi(e),o=xi(e,!0),i=Ri(e);return{kind:io.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:i,loc:Qi(e,t)}}(e);case"input":return function(e){var t=e.token,n=Ei(e);Yi(e,"input");var r=oi(e),o=xi(e,!0),i=Fi(e);return{kind:io.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Qi(e,t)}}(e);case"directive":return function(e){var t=e.token,n=Ei(e);Yi(e,"directive"),Ui(e,Wo.AT);var r=oi(e),o=Ni(e),i=zi(e,"repeatable");Yi(e,"on");var a=function(e){Bi(e,Wo.PIPE);var t=[];do{t.push(ji(e))}while(Bi(e,Wo.PIPE));return t}(e);return{kind:io.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,repeatable:i,locations:a,loc:Qi(e,t)}}(e)}throw Wi(e,t)}function Si(e){return Vi(e,Wo.STRING)||Vi(e,Wo.BLOCK_STRING)}function Ei(e){if(Si(e))return bi(e)}function Ti(e){var t=e.token,n=ci(e);Ui(e,Wo.COLON);var r=Ii(e);return{kind:io.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Qi(e,t)}}function _i(e){var t=[];if(zi(e,"implements")){Bi(e,Wo.AMP);do{t.push(Ii(e))}while(Bi(e,Wo.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Vi(e,Wo.NAME))}return t}function Mi(e){return e.options.allowLegacySDLEmptyFields&&Vi(e,Wo.BRACE_L)&&e.lookahead().kind===Wo.BRACE_R?(e.advance(),e.advance(),[]):Vi(e,Wo.BRACE_L)?Gi(e,Wo.BRACE_L,Oi,Wo.BRACE_R):[]}function Oi(e){var t=e.token,n=Ei(e),r=oi(e),o=Ni(e);Ui(e,Wo.COLON);var i=Ci(e),a=xi(e,!0);return{kind:io.FIELD_DEFINITION,description:n,name:r,arguments:o,type:i,directives:a,loc:Qi(e,t)}}function Ni(e){return Vi(e,Wo.PAREN_L)?Gi(e,Wo.PAREN_L,qi,Wo.PAREN_R):[]}function qi(e){var t=e.token,n=Ei(e),r=oi(e);Ui(e,Wo.COLON);var o,i=Ci(e);Bi(e,Wo.EQUALS)&&(o=wi(e));var a=xi(e,!0);return{kind:io.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:a,loc:Qi(e,t)}}function Ai(e){var t=[];if(Bi(e,Wo.EQUALS)){Bi(e,Wo.PIPE);do{t.push(Ii(e))}while(Bi(e,Wo.PIPE))}return t}function Ri(e){return Vi(e,Wo.BRACE_L)?Gi(e,Wo.BRACE_L,Pi,Wo.BRACE_R):[]}function Pi(e){var t=e.token,n=Ei(e),r=oi(e),o=xi(e,!0);return{kind:io.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:Qi(e,t)}}function Fi(e){return Vi(e,Wo.BRACE_L)?Gi(e,Wo.BRACE_L,qi,Wo.BRACE_R):[]}function ji(e){var t=e.token,n=oi(e);if(void 0!==ri[n.value])return n;throw Wi(e,t)}function Qi(e,t){if(!e.options.noLocation)return new Li(t,e.lastToken,e.source)}function Li(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Vi(e,t){return e.token.kind===t}function Ui(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw zo(e.source,n.start,"Expected ".concat(t,", found ").concat(Ko(n)))}function Bi(e,t){var n=e.token;if(n.kind===t)return e.advance(),n}function Yi(e,t){var n=e.token;if(n.kind!==Wo.NAME||n.value!==t)throw zo(e.source,n.start,'Expected "'.concat(t,'", found ').concat(Ko(n)));e.advance()}function zi(e,t){var n=e.token;return n.kind===Wo.NAME&&n.value===t&&(e.advance(),!0)}function Wi(e,t){var n=t||e.token;return zo(e.source,n.start,"Unexpected ".concat(Ko(n)))}function Hi(e,t,n,r){Ui(e,t);for(var o=[];!Bi(e,r);)o.push(n(e));return o}function Gi(e,t,n,r){Ui(e,t);for(var o=[n(e)];!Bi(e,r);)o.push(n(e));return o}Ao(Li,function(){return{start:this.start,end:this.end}});var Ji=on(Object.freeze({parse:function(e,t){var n="string"==typeof e?new Fo(e):e;if(!(n instanceof Fo))throw new TypeError("Must provide Source. Received: ".concat(We(n)));return function(e){var t=e.token;return{kind:io.DOCUMENT,definitions:Gi(e,Wo.SOF,ii,Wo.EOF),loc:Qi(e,t)}}(Ho(n,t||{}))},parseValue:function(e,t){var n=Ho("string"==typeof e?new Fo(e):e,t||{});Ui(n,Wo.SOF);var r=yi(n,!1);return Ui(n,Wo.EOF),r},parseType:function(e,t){var n=Ho("string"==typeof e?new Fo(e):e,t||{});Ui(n,Wo.SOF);var r=Ci(n);return Ui(n,Wo.EOF),r},parseConstValue:wi,parseTypeReference:Ci,parseNamedType:Ii})).parse;function Ki(e){return e.replace(/[\s,]+/g," ").trim()}var Xi={},Zi={};var ea=!0;var ta=!1;function na(e){var t=Ki(e);if(Xi[t])return Xi[t];var n=Ji(e,{experimentalFragmentVariables:ta});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map(function(t){return e(t,n)});if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,i,a,s=Object.keys(t);for(o in s)s.hasOwnProperty(o)&&(i=t[s[o]],"[object Object]"!==(a=Object.prototype.toString.call(i))&&"[object Array]"!==a||(t[s[o]]=e(i,!0)));return t}(n=function(e){for(var t,n={},r=[],o=0;o<e.definitions.length;o++){var i=e.definitions[o];if("FragmentDefinition"===i.kind){var a=i.name.value,s=Ki((t=i.loc).source.body.substring(t.start,t.end));Zi.hasOwnProperty(a)&&!Zi[a][s]?(ea&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Zi[a][s]=!0):Zi.hasOwnProperty(a)||(Zi[a]={},Zi[a][s]=!0),n[s]||(n[s]=!0,r.push(i))}else r.push(i)}return e.definitions=r,e}(n),!1),Xi[t]=n,n}function ra(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return na(n)}ra.default=ra,ra.resetCaches=function(){Xi={},Zi={}},ra.disableFragmentWarnings=function(){ea=!1},ra.enableExperimentalFragmentVariables=function(){ta=!0},ra.disableExperimentalFragmentVariables=function(){ta=!1};var oa=ra;const ia=oa`
  fragment CourseFields on Course {
    id
    name
    term {
      id
      name
    }
    teachers {
      id
      name
    }
    students {
      id
    }
  }`,aa=oa`
  fragment SessionFields on Session {
    id
    startsAt
    endsAt
    order
    course {
      name
      id
    }
  }`,sa=oa`
  fragment QuestionFields on Question {
    id
    text
    order
    asked
    answers {
      id
      text
    }
    session {
      id
    }
  }`,ca=oa`
  fragment ResponseFields on Response {
    id
    createdAt
    answer {
      id
    }
    student {
      id
    }
  }
`,ua=oa`
  mutation Login($username: String!, $password: String!) {
    login(username: $username, password: $password) {
      token
      user {
        id
        username
        name
        role
      }
    }
  }
`,la=oa`
  mutation Signup($username: String!, $name: String!, $password: String!) {
    signup(username: $username, name: $name, password: $password) {
      token
      user {
        id
        username
        name
        role
      }
    }
  }
`,da=oa`
  mutation CreateCourse($name: String!, $code: String!, $termId: ID!) {
    createCourse(name:$name, code: $code, termId: $termId){ 
      ...CourseFields
    }
  }
  ${ia}
`,fa=oa`
  mutation DeleteCourse($id: ID!) {
    deleteCourse(id: $id){ 
      id
    }
  }
`,pa=oa`
  mutation ($id: ID!, $code: String!){
    addStudentToCourse(id: $id, code: $code ) {
      ...CourseFields
    }
  }
  ${ia}
`,ha=oa`
  mutation ($id: ID!, $courseId: ID!){
    addTeacherToCourse(id: $id, courseId: $courseId ) {
      ...CourseFields
    }
  }
  ${ia}
`,ma=oa`
  mutation ($id: ID!, $courseId: ID!){
    removeTeacherFromCourse(id: $id, courseId: $courseId ) {
      ...CourseFields
    }
  }
  ${ia}
`,ga=oa`
  mutation CreateTerm($startDate: DateTime!, $endDate: DateTime!, $name: String!) {
    createTerm(startDate: $startDate, endDate: $endDate, name: $name) {
      id
      startDate
      endDate
      name
      courses {
        id
      }
    }
  }
`,va=oa`
  mutation CreateSession($startsAt: DateTime!, $endsAt:DateTime!, $courseId:ID!) {
    createSession(startsAt:$startsAt, endsAt:$endsAt, courseId:$courseId) {
      ...SessionFields
    }
  }
  ${aa}
`,ya=oa`
  mutation CreateQuestion($text: String!, $sessionId: ID!, $order: Int){
    createQuestion(text: $text, sessionId: $sessionId, order: $order) {
      ...QuestionFields
    }
  }
  ${sa}
`,ba=oa`
  mutation deleteQuestion($id: ID!){
    deleteQuestion(id: $id) {
      id
    }
  }
`,wa=oa`
  mutation AskQuestion($id: ID!){
    askQuestion(id: $id){
      ...QuestionFields
    }
  }
  ${sa}`,ka=oa`
  mutation CreateAnswer($text: String!, $questionId: ID!){
    createAnswer(text: $text, questionId: $questionId) {
      id
      text
    }
  }
`,xa=oa`
  mutation DeleteAnswer($id: ID!){
    deleteAnswer(id: $id) {
      id
    }
  }
`,$a=oa`
  mutation AnswerQuestion(
    $studentId: ID!
    $questionId: ID!
    $answerId: ID!
    $sessionId: ID!) {
    answerQuestion(
      studentId: $studentId
      questionId: $questionId
      answerId: $answerId
      sessionId: $sessionId) {
        id
      }
  }
`,Ca=()=>{const e=window.localStorage.getItem("token"),t=window.localStorage.getItem("user"),n=e?JSON.parse(e):null;return{user:t?JSON.parse(t):null,token:n}},Ia=(()=>{const{user:e,token:t}=Ca(),{subscribe:n,set:r,update:o}=xe({...e,token:t});return{subscribe:n,login:async(e,t)=>{const n=await qo(So,{mutation:ua,variables:{username:e,password:t}});window.localStorage.setItem("user",JSON.stringify(n.data.login.user)),window.localStorage.setItem("token",JSON.stringify(n.data.login.token)),o(e=>({...e,...n.data.login.user,token:n.data.login.token}))},signup:async(e,t,n)=>{const r=await qo(So,{mutation:la,variables:{username:e,name:t,password:n}});window.localStorage.setItem("user",JSON.stringify(r.data.signup.user)),window.localStorage.setItem("token",JSON.stringify(r.data.signup.token)),o(e=>({...e,...r.data.signup.user,token:r.data.signup.token}))},logout:()=>{const{user:e}=Ca();return window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),r({}),So.resetStore(),e&&e.username}}})();function Da(e){var t,n,r=e.component;function o(e){return{props:{params:e.componentParams}}}if(r)var i=new r(o(e));return{c(){i&&i.$$.fragment.c(),t=D()},m(e,r){i&&me(i,e,r),w(e,t,r),n=!0},p(e,n){var a={};if(e.componentParams&&(a.params=n.componentParams),r!==(r=n.component)){if(i){ie();const e=i;ce(e.$$.fragment,1,0,()=>{ge(e,1)}),ae()}r?((i=new r(o(n))).$$.fragment.c(),se(i.$$.fragment,1),me(i,t.parentNode,t)):i=null}else r&&i.$set(a)},i(e){n||(i&&se(i.$$.fragment,e),n=!0)},o(e){i&&ce(i.$$.fragment,e),n=!1},d(e){e&&k(t),i&&ge(i,e)}}}function Sa(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ea=ke(Sa(),function(e){const t=()=>{e(Sa())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),Ta=$e(Ea,e=>e.location);$e(Ea,e=>e.querystring);function _a(e){if(!e||e.length<1||"/"!=e.charAt(0))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash="#"+e},0)}function Ma(){setTimeout(()=>{window.history.back()},0)}function Oa(e,t,n){let r;c(e,Ea,e=>{n("$loc",r=e)});let{routes:o={}}=t;class i{constructor(e,t){if(!e||e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,a=[],s="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~r?r:~i?i:o.length)),s+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~r?"?":"")+"\\"+o.substring(i))):s+="/"+o;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,this.component=t,this._pattern=n,this._keys=r}match(e){const t=this._pattern.exec(e);if(null===t)return null;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=t[++r]||null;return n}}const a=Object.keys(o).map(e=>new i(e,o[e]));let s=null,u={};return e.$set=(e=>{"routes"in e&&n("routes",o=e.routes)}),e.$$.update=((e={component:1,$loc:1})=>{if(e.component||e.$loc){n("component",s=null);let e=0;for(;!s&&e<a.length;){const t=a[e].match(r.location);t&&(n("component",s=a[e].component),n("componentParams",u=t)),e++}}}),{routes:o,component:s,componentParams:u}}class Na extends be{constructor(e){super(),ye(this,e,Oa,Da,s,["routes"])}}function qa(e){var t,n;return{c(){t=x("p"),n=C(e.description),T(t,"class","help is-info"),T(t,"id",e.descriptionId)},m(e,r){w(e,t,r),b(t,n)},p(e,r){e.description&&_(n,r.description),e.descriptionId&&T(t,"id",r.descriptionId)},d(e){e&&k(t)}}}function Aa(e){var t,n;return{c(){T(t=x("input"),"name",e.name),T(t,"class","input svelte-dtzzgh"),T(t,"type","text"),T(t,"pattern",e.pattern),T(t,"minlength",e.minlength),T(t,"maxlength",e.maxlength),t.required=e.required,T(t,"aria-describedby",e.descriptionId),T(t,"placeholder",e.placeholder),O(t,"error",e.error),n=[S(t,"input",e.input_1_input_handler),S(t,"input",e.checkValidity),S(t,"invalid",E(e.checkValidity))]},m(n,r){w(n,t,r),t.value=e.value,e.input_1_binding(t)},p(e,n){e.value&&t.value!==n.value&&(t.value=n.value),e.name&&T(t,"name",n.name),e.pattern&&T(t,"pattern",n.pattern),e.minlength&&T(t,"minlength",n.minlength),e.maxlength&&T(t,"maxlength",n.maxlength),e.required&&(t.required=n.required),e.descriptionId&&T(t,"aria-describedby",n.descriptionId),e.placeholder&&T(t,"placeholder",n.placeholder),e.error&&O(t,"error",n.error)},d(r){r&&k(t),e.input_1_binding(null),i(n)}}}function Ra(e){var t,n;return{c(){T(t=x("input"),"name",e.name),T(t,"class","input svelte-dtzzgh"),T(t,"type","password"),T(t,"pattern",e.pattern),T(t,"minlength",e.minlength),T(t,"maxlength",e.maxlength),t.required=e.required,T(t,"aria-describedby",e.descriptionId),T(t,"placeholder",e.placeholder),O(t,"error",e.error),n=[S(t,"input",e.input_1_input_handler_1),S(t,"input",e.checkValidity),S(t,"invalid",E(e.checkValidity))]},m(n,r){w(n,t,r),t.value=e.value,e.input_1_binding_1(t)},p(e,n){e.value&&t.value!==n.value&&(t.value=n.value),e.name&&T(t,"name",n.name),e.pattern&&T(t,"pattern",n.pattern),e.minlength&&T(t,"minlength",n.minlength),e.maxlength&&T(t,"maxlength",n.maxlength),e.required&&(t.required=n.required),e.descriptionId&&T(t,"aria-describedby",n.descriptionId),e.placeholder&&T(t,"placeholder",n.placeholder),e.error&&O(t,"error",n.error)},d(r){r&&k(t),e.input_1_binding_1(null),i(n)}}}function Pa(e){var t,n;return{c(){T(t=x("input"),"name",e.name),T(t,"class","input svelte-dtzzgh"),T(t,"type","date"),T(t,"pattern","^[0-9]4-(1[0-2]|0[1-9])-([1-3][0-9]|0[1-9])$"),t.required=e.required,T(t,"min",e.min),T(t,"max",e.max),T(t,"aria-describedby",e.descriptionId),O(t,"error",e.error),n=[S(t,"input",e.input_1_input_handler_2),S(t,"input",e.checkValidity),S(t,"invalid",E(e.checkValidity))]},m(n,r){w(n,t,r),t.value=e.value,e.input_1_binding_2(t)},p(e,n){e.value&&(t.value=n.value),e.name&&T(t,"name",n.name),e.required&&(t.required=n.required),e.min&&T(t,"min",n.min),e.max&&T(t,"max",n.max),e.descriptionId&&T(t,"aria-describedby",n.descriptionId),e.error&&O(t,"error",n.error)},d(r){r&&k(t),e.input_1_binding_2(null),i(n)}}}function Fa(e){var t,n;return{c(){T(t=x("input"),"name",e.name),T(t,"class","input svelte-dtzzgh"),T(t,"type","datetime-local"),t.required=e.required,T(t,"min",e.min),T(t,"max",e.max),T(t,"aria-describedby",e.descriptionId),O(t,"error",e.error),n=[S(t,"input",e.input_1_input_handler_3),S(t,"input",e.checkValidity),S(t,"invalid",E(e.checkValidity))]},m(n,r){w(n,t,r),t.value=e.value,e.input_1_binding_3(t)},p(e,n){e.value&&(t.value=n.value),e.name&&T(t,"name",n.name),e.required&&(t.required=n.required),e.min&&T(t,"min",n.min),e.max&&T(t,"max",n.max),e.descriptionId&&T(t,"aria-describedby",n.descriptionId),e.error&&O(t,"error",n.error)},d(r){r&&k(t),e.input_1_binding_3(null),i(n)}}}function ja(e){var t,n;return{c(){T(t=x("input"),"name",e.name),T(t,"class","input svelte-dtzzgh"),T(t,"type","number"),t.required=e.required,T(t,"max",e.max),T(t,"min",e.min),T(t,"aria-describedby",e.descriptionId),O(t,"error",e.error),n=[S(t,"input",e.input_1_input_handler_4),S(t,"input",e.checkValidity),S(t,"invalid",E(e.checkValidity))]},m(n,r){w(n,t,r),t.value=e.value,e.input_1_binding_4(t)},p(e,n){e.value&&(t.value=n.value),e.name&&T(t,"name",n.name),e.required&&(t.required=n.required),e.max&&T(t,"max",n.max),e.min&&T(t,"min",n.min),e.descriptionId&&T(t,"aria-describedby",n.descriptionId),e.error&&O(t,"error",n.error)},d(r){r&&k(t),e.input_1_binding_4(null),i(n)}}}function Qa(e){var t,n,r;return{c(){t=x("span"),T(n=x("i"),"class",r="fas fa-"+e.leftIcon),T(t,"class","icon is-small is-left")},m(e,r){w(e,t,r),b(t,n)},p(e,t){e.leftIcon&&r!==(r="fas fa-"+t.leftIcon)&&T(n,"class",r)},d(e){e&&k(t)}}}function La(e){var t,n,r;return{c(){t=x("span"),T(n=x("i"),"class",r="fas fa-"+e.rightIcon),T(t,"class","icon is-small is-right")},m(e,r){w(e,t,r),b(t,n)},p(e,t){e.rightIcon&&r!==(r="fas fa-"+t.rightIcon)&&T(n,"class",r)},d(e){e&&k(t)}}}function Va(e){var t,n;return{c(){t=x("p"),n=C(e.error),T(t,"class","help is-danger")},m(e,r){w(e,t,r),b(t,n)},p(e,t){e.error&&_(n,t.error)},d(e){e&&k(t)}}}function Ua(t){var n,r,o,i,a,s,c,u,l,d,f,p,h,m,g=t.description&&qa(t),v="text"===t.type&&Aa(t),y="password"===t.type&&Ra(t),$="date"===t.type&&Pa(t),D="datetime-local"===t.type&&Fa(t),S="number"===t.type&&ja(t),E=t.leftIcon&&Qa(t),M=t.rightIcon&&La(t),N=t.error&&Va(t);return{c(){n=x("div"),r=x("label"),o=C(t.label),i=I(),g&&g.c(),a=I(),s=x("div"),c=x("div"),v&&v.c(),u=I(),y&&y.c(),l=I(),$&&$.c(),d=I(),D&&D.c(),f=I(),S&&S.c(),p=I(),E&&E.c(),h=I(),M&&M.c(),m=I(),N&&N.c(),T(r,"class","label"),T(c,"class","control"),O(c,"has-icons-left",t.leftIcon),O(c,"has-icons-right",t.rightIcon),T(s,"class","field-body"),T(n,"class","field")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,i),g&&g.m(r,null),b(n,a),b(n,s),b(s,c),v&&v.m(c,null),b(c,u),y&&y.m(c,null),b(c,l),$&&$.m(c,null),b(c,d),D&&D.m(c,null),b(c,f),S&&S.m(c,null),b(c,p),E&&E.m(c,null),b(c,h),M&&M.m(c,null),b(c,m),N&&N.m(c,null)},p(e,t){e.label&&_(o,t.label),t.description?g?g.p(e,t):((g=qa(t)).c(),g.m(r,null)):g&&(g.d(1),g=null),"text"===t.type?v?v.p(e,t):((v=Aa(t)).c(),v.m(c,u)):v&&(v.d(1),v=null),"password"===t.type?y?y.p(e,t):((y=Ra(t)).c(),y.m(c,l)):y&&(y.d(1),y=null),"date"===t.type?$?$.p(e,t):(($=Pa(t)).c(),$.m(c,d)):$&&($.d(1),$=null),"datetime-local"===t.type?D?D.p(e,t):((D=Fa(t)).c(),D.m(c,f)):D&&(D.d(1),D=null),"number"===t.type?S?S.p(e,t):((S=ja(t)).c(),S.m(c,p)):S&&(S.d(1),S=null),t.leftIcon?E?E.p(e,t):((E=Qa(t)).c(),E.m(c,h)):E&&(E.d(1),E=null),t.rightIcon?M?M.p(e,t):((M=La(t)).c(),M.m(c,m)):M&&(M.d(1),M=null),t.error?N?N.p(e,t):((N=Va(t)).c(),N.m(c,null)):N&&(N.d(1),N=null),e.leftIcon&&O(c,"has-icons-left",t.leftIcon),e.rightIcon&&O(c,"has-icons-right",t.rightIcon)},i:e,o:e,d(e){e&&k(n),g&&g.d(),v&&v.d(),y&&y.d(),$&&$.d(),D&&D.d(),S&&S.d(),E&&E.d(),M&&M.d(),N&&N.d()}}}function Ba(e,t,n){let r,o,i,{value:a,showDescription:s=!1,label:c=""}=t,u=!1,{required:l=!1,pattern:d="^.+$",minlength:f=1,maxlength:p=100,type:h="text",description:m="",width:g="40rem",min:v=null,max:y=null,rightIcon:b=null,leftIcon:w=null,placeholder:k=""}=t;return e.$set=(e=>{"value"in e&&n("value",a=e.value),"showDescription"in e&&n("showDescription",s=e.showDescription),"label"in e&&n("label",c=e.label),"required"in e&&n("required",l=e.required),"pattern"in e&&n("pattern",d=e.pattern),"minlength"in e&&n("minlength",f=e.minlength),"maxlength"in e&&n("maxlength",p=e.maxlength),"type"in e&&n("type",h=e.type),"description"in e&&n("description",m=e.description),"width"in e&&n("width",g=e.width),"min"in e&&n("min",v=e.min),"max"in e&&n("max",y=e.max),"rightIcon"in e&&n("rightIcon",b=e.rightIcon),"leftIcon"in e&&n("leftIcon",w=e.leftIcon),"placeholder"in e&&n("placeholder",k=e.placeholder)}),e.$$.update=((e={label:1,name:1})=>{e.label&&n("name",o=c.replace(/\W+(.)/g,(e,t)=>t.toUpperCase())),e.name&&n("descriptionId",i=`description${o}`)}),{input:r,value:a,showDescription:s,label:c,error:u,required:l,pattern:d,minlength:f,maxlength:p,type:h,description:m,width:g,min:v,max:y,rightIcon:b,leftIcon:w,placeholder:k,checkValidity:function(){n("error",u=!r.validity.valid&&r.validationMessage?r.validationMessage:"")},name:o,descriptionId:i,input_1_input_handler:function(){a=this.value,n("value",a)},input_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("input",r=e)})},input_1_input_handler_1:function(){a=this.value,n("value",a)},input_1_binding_1:function(e){Y[e?"unshift":"push"](()=>{n("input",r=e)})},input_1_input_handler_2:function(){a=this.value,n("value",a)},input_1_binding_2:function(e){Y[e?"unshift":"push"](()=>{n("input",r=e)})},input_1_input_handler_3:function(){a=this.value,n("value",a)},input_1_binding_3:function(e){Y[e?"unshift":"push"](()=>{n("input",r=e)})},input_1_input_handler_4:function(){a=function(e){return""===e?void 0:+e}(this.value),n("value",a)},input_1_binding_4:function(e){Y[e?"unshift":"push"](()=>{n("input",r=e)})}}}class Ya extends be{constructor(e){super(),ye(this,e,Ba,Ua,s,["value","showDescription","label","required","pattern","minlength","maxlength","type","description","width","min","max","rightIcon","leftIcon","placeholder"])}}function za(e){var t,n,r,o,i,a,s=e.getMessage(e.errors);return{c(){t=x("p"),n=x("span"),r=x("i"),(o=x("strong")).textContent="Error:",i=C(""),a=C(s),T(r,"class","fas fa-exclamation-triangle svelte-sljdgk"),T(o,"class","svelte-sljdgk"),T(n,"class","error-message svelte-sljdgk"),T(t,"class","error svelte-sljdgk")},m(e,s){w(e,t,s),b(t,n),b(n,r),b(n,o),b(n,i),b(n,a)},p(e,t){e.errors&&s!==(s=t.getMessage(t.errors))&&_(a,s)},d(e){e&&k(t)}}}function Wa(t){var n,r=t.getMessage(t.errors)&&za(t);return{c(){r&&r.c(),n=D()},m(e,t){r&&r.m(e,t),w(e,n,t)},p(e,t){t.getMessage(t.errors)?r?r.p(e,t):((r=za(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&k(n)}}}function Ha(e,t,n){let{errors:r=""}=t;return e.$set=(e=>{"errors"in e&&n("errors",r=e.errors)}),{errors:r,getMessage:e=>!!e&&(Array.isArray(e)?e.map(e=>e.message).join("\n"):e.message?e.message:e)}}class Ga extends be{constructor(e){super(),ye(this,e,Ha,Wa,s,["errors"])}}function Ja(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g,v,y,$,C,D,_,M,N,q=new Ga({props:{errors:e.errors}});function A(t){e.input0_value_binding.call(null,t),c=!0,X(()=>c=!1)}let R={type:"text",label:"Student ID",required:!0,leftIcon:"id-card"};void 0!==e.username&&(R.value=e.username);var P=new Ya({props:R});function F(t){e.input1_value_binding.call(null,t),l=!0,X(()=>l=!1)}Y.push(()=>he(P,"value",A));let j={type:"text",label:"Name",required:!0,leftIcon:"user"};void 0!==e.name&&(j.value=e.name);var Q=new Ya({props:j});function L(t){e.input2_value_binding.call(null,t),f=!0,X(()=>f=!1)}Y.push(()=>he(Q,"value",F));let V={type:"password",label:"Password",required:!0,leftIcon:"key"};void 0!==e.password&&(V.value=e.password);var U=new Ya({props:V});function B(t){e.input3_value_binding.call(null,t),h=!0,X(()=>h=!1)}Y.push(()=>he(U,"value",L));let z={type:"password",label:"Confirm password",leftIcon:"check"};void 0!==e.confirmpass&&(z.value=e.confirmpass);var W=new Ya({props:z});return Y.push(()=>he(W,"value",B)),{c(){t=I(),n=x("div"),r=x("div"),(o=x("h1")).textContent="Create an acount",i=I(),q.$$.fragment.c(),a=I(),s=x("form"),P.$$.fragment.c(),u=I(),Q.$$.fragment.c(),d=I(),U.$$.fragment.c(),p=I(),W.$$.fragment.c(),m=I(),g=x("div"),v=x("div"),(y=x("button")).textContent="Register",$=I(),(C=x("p")).textContent="or",D=I(),(_=x("a")).textContent="Log in with existing account",document.title="Signup",T(o,"class","title"),T(y,"type","submit"),T(y,"class","button is-primary"),O(y,"is-loading",e.loading),T(_,"href","#/login"),T(_,"class","button"),T(v,"class","control"),T(g,"class","field"),s.noValidate=!0,T(r,"class","login"),T(n,"class","container-centered svelte-fb99qz"),N=S(s,"submit",E(e.signup))},m(c,l){w(c,t,l),w(c,n,l),b(n,r),b(r,o),b(r,i),me(q,r,null),b(r,a),b(r,s),me(P,s,null),b(s,u),me(Q,s,null),b(s,d),me(U,s,null),b(s,p),me(W,s,null),b(s,m),b(s,g),b(g,v),b(v,y),e.button_binding(y),b(v,$),b(v,C),b(v,D),b(v,_),e.form_1_binding(s),M=!0},p(e,t){var n={};e.errors&&(n.errors=t.errors),q.$set(n);var r={};!c&&e.username&&(r.value=t.username),P.$set(r);var o={};!l&&e.name&&(o.value=t.name),Q.$set(o);var i={};!f&&e.password&&(i.value=t.password),U.$set(i);var a={};!h&&e.confirmpass&&(a.value=t.confirmpass),W.$set(a),e.loading&&O(y,"is-loading",t.loading)},i(e){M||(se(q.$$.fragment,e),se(P.$$.fragment,e),se(Q.$$.fragment,e),se(U.$$.fragment,e),se(W.$$.fragment,e),M=!0)},o(e){ce(q.$$.fragment,e),ce(P.$$.fragment,e),ce(Q.$$.fragment,e),ce(U.$$.fragment,e),ce(W.$$.fragment,e),M=!1},d(r){r&&(k(t),k(n)),ge(q),ge(P),ge(Q),ge(U),ge(W),e.button_binding(null),e.form_1_binding(null),N()}}}function Ka(e,t,n){let r,o,i="",a="",s="",c="",u="",l=!1;return{username:i,name:a,password:s,confirmpass:c,errors:u,loading:l,submit:r,form:o,signup:async()=>{let e=o.checkValidity();if(s!==c&&(n("errors",u="Passwords do not match."),e=!1),e){n("loading",l=!0),r.disabled=!0,n("submit",r);try{await Ia.signup(i,a,s),n("errors",u=""),Ce.add({text:`Created account for '${i}'`,type:"success"}),_a("/join-course")}catch(e){n("errors",u=e),Ce.add({text:"registration failed.",type:"danger"}),r.disabled=!1,n("submit",r)}finally{n("loading",l=!1)}}else Ce.add({text:"Please fix form errors first.",type:"danger"})},input0_value_binding:function(e){n("username",i=e)},input1_value_binding:function(e){n("name",a=e)},input2_value_binding:function(e){n("password",s=e)},input3_value_binding:function(e){n("confirmpass",c=e)},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("submit",r=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",o=e)})}}}function Xa(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Za(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var es=6e4;function ts(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var r=t.getTime()%es;return n*es+r}function ns(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Xa(e);return t.setHours(0,0,0,0),t}var rs=864e5;function os(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xa(e),r=Xa(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function is(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xa(e),r=Xa(t),o=os(n,r),i=Math.abs(function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xa(e),r=Xa(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(n,r));n.setMonth(n.getMonth()-o*i);var a=o*(i-(os(n,r)===-o));return 0===a?0:a}function as(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xa(e),r=Xa(t);return n.getTime()-r.getTime()}(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var ss={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function cs(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var us={date:cs({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:cs({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:cs({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ls={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ds(e){return function(t,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=o.width?String(o.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var s=e.defaultWidth,c=o.width?String(o.width):e.defaultWidth;r=e.values[c]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function fs(e){return function(t,n){var r=String(t),o=n||{},i=o.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var c,u=s[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(l)?l.findIndex(function(e){return e.test(r)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,function(e){return e.test(r)}),c=e.valueCallback?e.valueCallback(c):c,{value:c=o.valueCallback?o.valueCallback(c):c,rest:r.slice(u.length)}}}var ps,hs={formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof ss[e]?ss[e]:1===t?ss[e].one:ss[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:us,formatRelative:function(e,t,n,r){return ls[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ds({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ds({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:ds({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ds({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ds({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(ps={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},o=n.match(ps.matchPattern);if(!o)return null;var i=o[0],a=n.match(ps.parsePattern);if(!a)return null;var s=ps.valueCallback?ps.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(i.length)}}),era:fs({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:fs({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:fs({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:fs({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function ms(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Xa(e).getTime(),r=Za(t);return new Date(n+r)}(e,-Za(t))}function gs(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var vs=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return gs("yy"===t?r%100:r,t.length)},ys=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):gs(n+1,2)},bs=function(e,t){return gs(e.getUTCDate(),t.length)},ws=function(e,t){return gs(e.getUTCHours()%12||12,t.length)},ks=function(e,t){return gs(e.getUTCHours(),t.length)},xs=function(e,t){return gs(e.getUTCMinutes(),t.length)},$s=function(e,t){return gs(e.getUTCSeconds(),t.length)},Cs=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return gs(Math.floor(r*Math.pow(10,n-3)),t.length)},Is=864e5;function Ds(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Xa(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Ss(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Xa(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Ds(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Ds(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}var Es=6048e5;function Ts(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Xa(e),n=Ds(t).getTime()-function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Ss(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Ds(n)}(t).getTime();return Math.round(n/Es)+1}function _s(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:Za(o),a=null==n.weekStartsOn?i:Za(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Xa(e),c=s.getUTCDay(),u=(c<a?7:0)+c-a;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function Ms(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Xa(e,t),r=n.getUTCFullYear(),o=t||{},i=o.locale,a=i&&i.options&&i.options.firstWeekContainsDate,s=null==a?1:Za(a),c=null==o.firstWeekContainsDate?s:Za(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,c),u.setUTCHours(0,0,0,0);var l=_s(u,t),d=new Date(0);d.setUTCFullYear(r,0,c),d.setUTCHours(0,0,0,0);var f=_s(d,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}var Os=6048e5;function Ns(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Xa(e),r=_s(n,t).getTime()-function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,i=null==o?1:Za(o),a=null==n.firstWeekContainsDate?i:Za(n.firstWeekContainsDate),s=Ms(e,t),c=new Date(0);return c.setUTCFullYear(s,0,a),c.setUTCHours(0,0,0,0),_s(c,t)}(n,t).getTime();return Math.round(r/Os)+1}var qs="midnight",As="noon",Rs="morning",Ps="afternoon",Fs="evening",js="night",Qs={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return vs(e,t)},Y:function(e,t,n,r){var o=Ms(e,r),i=o>0?o:1-o;return"YY"===t?gs(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):gs(i,t.length)},R:function(e,t){return gs(Ss(e),t.length)},u:function(e,t){return gs(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return gs(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return gs(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return ys(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return gs(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=Ns(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):gs(o,t.length)},I:function(e,t,n){var r=Ts(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):gs(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):bs(e,t)},D:function(e,t,n){var r=function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Xa(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/Is)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):gs(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return gs(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return gs(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return gs(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?As:0===o?qs:o/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?Fs:o>=12?Ps:o>=4?Rs:js,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ws(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ks(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):gs(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):gs(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):xs(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):$s(e,t)},S:function(e,t){return Cs(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return Vs(o);case"XXXX":case"XX":return Us(o);case"XXXXX":case"XXX":default:return Us(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Vs(o);case"xxxx":case"xx":return Us(o);case"xxxxx":case"xxx":default:return Us(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ls(o,":");case"OOOO":default:return"GMT"+Us(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ls(o,":");case"zzzz":default:return"GMT"+Us(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return gs(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return gs((r._originalDate||e).getTime(),t.length)}};function Ls(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=t||"";return n+String(o)+a+gs(i,2)}function Vs(e,t){return e%60==0?(e>0?"-":"+")+gs(Math.abs(e)/60,2):Us(e,t)}function Us(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+gs(Math.floor(o/60),2)+n+gs(o%60,2)}function Bs(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Ys(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var zs={p:Ys,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),o=r[1],i=r[2];if(!i)return Bs(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Bs(o,t)).replace("{{time}}",Ys(i,t))}},Ws=["D","DD"],Hs=["YY","YYYY"];function Gs(e){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if("YY"===e)throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if("D"===e)throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if("DD"===e)throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var Js=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ks=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xs=/^'(.*?)'?$/,Zs=/''/g,ec=/[a-zA-Z]/;function tc(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=String(t),o=n||{},i=o.locale||hs,a=i.options&&i.options.firstWeekContainsDate,s=null==a?1:Za(a),c=null==o.firstWeekContainsDate?s:Za(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=i.options&&i.options.weekStartsOn,l=null==u?0:Za(u),d=null==o.weekStartsOn?l:Za(o.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var f=Xa(e);if(!function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Xa(e);return!isNaN(t)}(f))throw new RangeError("Invalid time value");var p=ms(f,ts(f)),h={firstWeekContainsDate:c,weekStartsOn:d,locale:i,_originalDate:f};return r.match(Ks).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,zs[t])(e,i.formatLong,h):e}).join("").match(Js).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return e.match(Xs)[1].replace(Zs,"'");var n,r=Qs[t];if(r)return o.useAdditionalWeekYearTokens||(n=e,-1===Hs.indexOf(n))||Gs(e),!o.useAdditionalDayOfYearTokens&&function(e){return-1!==Ws.indexOf(e)}(e)&&Gs(e),r(p,e,i.localize,h);if(t.match(ec))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e}).join("")}function nc(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e)}var rc=1440,oc=2520,ic=43200,ac=86400;var sc=1440,cc=43200,uc=525600;function lc(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=n||{},o=r.locale||hs;if(!o.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=os(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var a,s,c=nc(r);c.addSuffix=Boolean(r.addSuffix),c.comparison=i,i>0?(a=Xa(t),s=Xa(e)):(a=Xa(e),s=Xa(t));var u,l=null==r.roundingMethod?"round":String(r.roundingMethod);if("floor"===l)u=Math.floor;else if("ceil"===l)u=Math.ceil;else{if("round"!==l)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");u=Math.round}var d,f=as(s,a),p=u((f-(ts(s)-ts(a))/1e3)/60);if("second"===(d=null==r.unit?p<1?"second":p<60?"minute":p<sc?"hour":p<cc?"day":p<uc?"month":"year":String(r.unit)))return o.formatDistance("xSeconds",f,c);if("minute"===d)return o.formatDistance("xMinutes",p,c);if("hour"===d){var h=u(p/60);return o.formatDistance("xHours",h,c)}if("day"===d){var m=u(p/sc);return o.formatDistance("xDays",m,c)}if("month"===d){var g=u(p/cc);return o.formatDistance("xMonths",g,c)}if("year"===d){var v=u(p/uc);return o.formatDistance("xYears",v,c)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function dc(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=n||{},o=r.locale||hs;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=os(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var a,s,c=nc(r);c.addSuffix=Boolean(r.addSuffix),c.comparison=i,i>0?(a=Xa(t),s=Xa(e)):(a=Xa(e),s=Xa(t));var u,l=as(s,a),d=(ts(s)-ts(a))/1e3,f=Math.round((l-d)/60);if(f<2)return r.includeSeconds?l<5?o.formatDistance("lessThanXSeconds",5,c):l<10?o.formatDistance("lessThanXSeconds",10,c):l<20?o.formatDistance("lessThanXSeconds",20,c):l<40?o.formatDistance("halfAMinute",null,c):l<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):0===f?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",f,c);if(f<45)return o.formatDistance("xMinutes",f,c);if(f<90)return o.formatDistance("aboutXHours",1,c);if(f<rc){var p=Math.round(f/60);return o.formatDistance("aboutXHours",p,c)}if(f<oc)return o.formatDistance("xDays",1,c);if(f<ic){var h=Math.round(f/rc);return o.formatDistance("xDays",h,c)}if(f<ac)return u=Math.round(f/ic),o.formatDistance("aboutXMonths",u,c);if((u=is(s,a))<12){var m=Math.round(f/ic);return o.formatDistance("xMonths",m,c)}var g=u%12,v=Math.floor(u/12);return g<3?o.formatDistance("aboutXYears",v,c):g<9?o.formatDistance("overXYears",v,c):o.formatDistance("almostXYears",v+1,c)}(e,Date.now(),t)}function fc(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Xa(e),o=Xa(t),i=n||{},a=i.locale||hs;if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");if(!a.formatRelative)throw new RangeError("locale must contain formatRelative property");var s,c=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=ns(e),r=ns(t),o=n.getTime()-ts(n),i=r.getTime()-ts(r);return Math.round((o-i)/rs)}(r,o);if(isNaN(c))throw new RangeError("Invalid time value");s=c<-6?"other":c<-1?"lastWeek":c<0?"yesterday":c<1?"today":c<2?"tomorrow":c<7?"nextWeek":"other";var u=ms(r,ts(r)),l=ms(o,ts(o));return tc(r,a.formatRelative(s,u,l,i),i)}const pc=oa`
{
  me {
    username
    name
    role
    id
    coursesTeaching {
      id
      name
    }
    coursesAttending {
      id
      name
    }
  }
}`,hc=oa`
query GetMYSessions($id: ID!, $now: DateTime!, $latest: DateTime!){
  sessions( orderBy: startsAt_ASC, where: { AND: [ 
    { OR: [
      { course: { teachers_some: { id: $id } }},
      { course: { students_some: { id: $id } }}
    ]},
    { endsAt_gte: $now, endsAt_lt: $latest }
  ]}){
    ...SessionFields
  }
}
${aa}`,mc=oa`
query Session($id: ID!){
  session(id: $id){
    id
    startsAt
    endsAt
    order
    course {
      id
      name
      term {
        id
        name
      }
    }
    questions {
      id
      text
      order
    }
  }
}`,gc=oa`
{
  terms(orderBy: startDate_ASC) {
    id
    startDate
    endDate
    name
    courses {
      ...CourseFields
    }
  }
}
${ia}`,vc=oa`
query Term($id: ID!){
  term(id:$id) {
    id
    startDate
    endDate
    name
    courses {
      ...CourseFields
    }
  }
}
${ia}`,yc=oa`
{
  terms(orderBy: startDate_ASC) {
    id
    name
  }
}`,bc=(oa`
  query CourseSessions($courseId: ID!){
    sessions(orderBy: startsAt_ASC, where : { course: {id: $courseId}}) {
      ...SessionFields
    }
  }
${aa}`,oa`
  query Course($id: ID!){
    course(id: $id){
      ...CourseFields
      sessions(orderBy: startsAt_DESC) {
        ...SessionFields
      }
    }
  }
  ${aa}
  ${ia}`),wc=oa`
query Courses {
  courses{
    id
    name
    term {
      name
      id
      startDate
    }
    teachers {
      id
      name
    }
    students {
      id
    }
  }
}`,kc=oa`
query Question($id: ID!){
  question(id: $id){
    id
    text
    order
    answers {
      id
      text
      responses {
        id
        student {
          id
        }
        createdAt
      }
    }
    session {
      id
      order
      course {
        id
        name
        term {
          id
          name
        }
      }
    }
  }
}`,xc=oa`
  query Session($id: ID!){
    session(id: $id){
      id
      questions {
        id
        text
        order
        asked
        answers {
          id
          text
        }
      }
    }
  }
`,$c=oa`
  query Responses($questionId: ID!){
    responses(where:{question:{id: $questionId}}){
      ...ResponseFields
    }
  }
${ca}`,Cc=oa`
  subscription Questions($sessionId: ID!) {
  questions(sessionId: $sessionId) {
    ...QuestionFields
  }
}
${sa}`,Ic=oa`
  subscription Reponses($questionId: ID!) {
    responses(questionId: $questionId) {
      ...ResponseFields
    }
  }
${ca}`;function Dc(n){var r,o,s,c,p,h,m,g,v,$;const C=n.$$slots.default,D=u(C,n,null);return{c(){r=x("div"),o=x("div"),c=I(),p=x("div"),h=x("section"),D&&D.c(),T(o,"class","modal-background"),T(h,"class","section svelte-1v8v78e"),T(p,"class","modal-content is-clipped svelte-1v8v78e"),T(r,"class","modal is-active"),$=S(o,"click",n.close)},l(e){D&&D.l(section_nodes)},m(e,t){w(e,r,t),b(r,o),b(r,c),b(r,p),b(p,h),D&&D.m(h,null),v=!0},p(e,t){D&&D.p&&e.$$scope&&D.p(d(C,t,e,null),l(C,t,null))},i(n){v||(n&&K(()=>{s||(s=ue(o,De,{duration:200},!0)),s.run(1)}),se(D,n),K(()=>{g&&g.end(1),m||(m=function(n,r,o){let i,s,c=r(n,o),u=!1,l=0;function d(){i&&F(n,i)}function p(){const{delay:r=0,duration:o=300,easing:a=t,tick:p=e,css:h}=c;h&&(i=P(n,0,1,o,r,a,h,l++)),p(0,1);const m=f()+r,g=m+o;s&&s.abort(),u=!0,K(()=>ne(n,!0,"start")),s=y(e=>{if(u){if(e>=g)return p(1,0),ne(n,!0,"end"),d(),u=!1;if(e>=m){const t=a((e-m)/o);p(t,1-t)}}return u})}let h=!1;return{start(){h||(F(n),a(c)?(c=c(),te().then(p)):p())},invalidate(){h=!1},end(){u&&(d(),u=!1)}}}(p,Se,{duration:200,y:-300})),m.start()}),v=!0)},o(n){n&&(s||(s=ue(o,De,{duration:200},!1)),s.run(0)),ce(D,n),m&&m.invalidate(),g=function(n,r,o){let s,c=r(n,o),u=!0;const l=oe;function d(){const{delay:r=0,duration:o=300,easing:a=t,tick:d=e,css:p}=c;p&&(s=P(n,1,0,o,r,a,p));const h=f()+r,m=h+o;K(()=>ne(n,!1,"start")),y(e=>{if(u){if(e>=m)return d(0,1),ne(n,!1,"end"),--l.r||i(l.c),!1;if(e>=h){const t=a((e-h)/o);d(1-t,t)}}return u})}return l.r+=1,a(c)?te().then(()=>{c=c(),d()}):d(),{end(e){e&&c.tick&&c.tick(1,0),u&&(s&&F(n,s),u=!1)}}}(p,Se,{duration:200,y:300}),v=!1},d(e){e&&(k(r),s&&s.end()),D&&D.d(e),e&&g&&g.end(),$()}}}function Sc(e){var t,n,r=e.open&&Dc(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.open?r?(r.p(e,n),se(r,1)):((r=Dc(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Ec(e,t,n){let{open:r=!1}=t;let{$$slots:o={},$$scope:i}=t;return e.$set=(e=>{"open"in e&&n("open",r=e.open),"$$scope"in e&&n("$$scope",i=e.$$scope)}),{open:r,close:()=>{n("open",r=!1)},$$slots:o,$$scope:i}}class Tc extends be{constructor(e){super(),ye(this,e,Ec,Sc,s,["open"])}}function _c(e,t,n){const r=Object.create(e);return r.term=t[n],r}function Mc(t){var n;return{c(){(n=x("option")).__value="",n.value=n.__value},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Oc(e){var t,n,r=[],o=new Map,i=!e.termId&&Nc(),a=e.result.data.terms;const s=e=>e.term.id;for(var c=0;c<a.length;c+=1){let t=_c(e,a,c),n=s(t);o.set(n,r[c]=qc(n,t))}return{c(){for(i&&i.c(),t=D(),c=0;c<r.length;c+=1)r[c].c();n=D()},m(e,o){for(i&&i.m(e,o),w(e,t,o),c=0;c<r.length;c+=1)r[c].m(e,o);w(e,n,o)},p(e,a){a.termId?i&&(i.d(1),i=null):i||((i=Nc()).c(),i.m(t.parentNode,t));const c=a.result.data.terms;r=pe(r,e,s,1,a,c,o,n.parentNode,de,qc,n,_c)},d(e){for(i&&i.d(e),e&&k(t),c=0;c<r.length;c+=1)r[c].d(e);e&&k(n)}}}function Nc(e){var t;return{c(){(t=x("option")).textContent="-- Select a term --",t.__value="-- Select a term --",t.value=t.__value},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function qc(e,t){var n,r,o,i,a=t.term.name;return{key:e,first:null,c(){n=x("option"),r=C(a),n.__value=o=t.term.id,n.value=n.__value,n.selected=i=t.term.id===t.termId,this.first=n},m(e,t){w(e,n,t),b(n,r)},p(e,t){e.$terms&&a!==(a=t.term.name)&&_(r,a),e.$terms&&o!==(o=t.term.id)&&(n.__value=o),n.value=n.__value,(e.$terms||e.termId)&&i!==(i=t.term.id===t.termId)&&(n.selected=i)},d(e){e&&k(n)}}}function Ac(t){var n;return{c(){(n=x("option")).textContent="Loading...",n.__value="Loading...",n.value=n.__value},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Rc(t){var r,o,a,s;let c={ctx:t,current:null,token:null,pending:Ac,then:Oc,catch:Mc,value:"result",error:"null"};return le(a=t.$terms,c),{c(){r=x("div"),o=x("select"),c.block.c(),void 0===t.termId&&K(()=>t.select_change_handler.call(o)),T(r,"class","select svelte-t5dn19"),s=[S(o,"change",t.select_change_handler),S(o,"change",t.handleChange)]},m(e,n){w(e,r,n),b(r,o),c.block.m(o,c.anchor=null),c.mount=(()=>o),c.anchor=null,M(o,t.termId),t.select_binding(o)},p(e,r){t=r,c.ctx=t,"$terms"in e&&a!==(a=t.$terms)&&le(a,c)||c.block.p(e,n(n({},t),c.resolved)),e.termId&&M(o,t.termId)},i:e,o:e,d(e){e&&k(r),c.block.d(),c.token=null,c=null,t.select_binding(null),i(s)}}}function Pc(e,t,n){let r,o,{termId:i=""}=t;const a=No(So,{query:yc});c(e,a,e=>{n("$terms",r=e)});return e.$set=(e=>{"termId"in e&&n("termId",i=e.termId)}),{termId:i,termSelect:o,terms:a,handleChange:()=>{n("termId",i=o.value)},$terms:r,select_change_handler:function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n("termId",i)},select_binding:function(e){Y[e?"unshift":"push"](()=>{n("termSelect",o=e)})}}}class Fc extends be{constructor(e){super(),ye(this,e,Pc,Rc,s,["termId"])}}function jc(e){var t;return{c(){t=C("Add")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Qc(e){var t;return{c(){t=C("Edit")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Lc(e){var t,n,r,o,a,s,c,u,l,d,f,p,h,m,g,v,y,$,D;function _(e){return e.id?Qc:jc}var M=_(e),N=M(e),q=new Ga({props:{errors:e.errors}});function A(t){e.input0_value_binding.call(null,t),s=!0,X(()=>s=!1)}let R={label:"Name",type:"text",required:!0};void 0!==e.name&&(R.value=e.name);var P=new Ya({props:R});function F(t){e.input1_value_binding.call(null,t),u=!0,X(()=>u=!1)}Y.push(()=>he(P,"value",A));let j={label:"Code",type:"text",required:!0};void 0!==e.code&&(j.value=e.code);var Q=new Ya({props:j});function L(t){e.termselect_termId_binding.call(null,t),p=!0,X(()=>p=!1)}Y.push(()=>he(Q,"value",F));let V={};void 0!==e.termId&&(V.termId=e.termId);var U=new Fc({props:V});return Y.push(()=>he(U,"termId",L)),{c(){t=x("h2"),N.c(),n=C(" a course"),r=I(),q.$$.fragment.c(),o=I(),a=x("form"),P.$$.fragment.c(),c=I(),Q.$$.fragment.c(),l=I(),(d=x("label")).textContent="Term",f=I(),U.$$.fragment.c(),h=I(),m=x("div"),(g=x("button")).textContent="Save",v=I(),y=x("input"),T(t,"class","title"),T(d,"class","label"),T(g,"class","button is-primary"),T(g,"type","submit"),O(g,"is-loading",e.loading),T(y,"class","button"),T(y,"type","reset"),y.value="Cancel",T(m,"class","buttons"),a.noValidate=!0,D=[S(a,"submit",E(e.handleSubmit)),S(a,"reset",e.reset_handler)]},m(i,s){w(i,t,s),N.m(t,null),b(t,n),w(i,r,s),me(q,i,s),w(i,o,s),w(i,a,s),me(P,a,null),b(a,c),me(Q,a,null),b(a,l),b(a,d),b(a,f),me(U,a,null),b(a,h),b(a,m),b(m,g),e.button_binding(g),b(m,v),b(m,y),e.form_1_binding(a),$=!0},p(e,r){M!==(M=_(r))&&(N.d(1),(N=M(r))&&(N.c(),N.m(t,n)));var o={};e.errors&&(o.errors=r.errors),q.$set(o);var i={};!s&&e.name&&(i.value=r.name),P.$set(i);var a={};!u&&e.code&&(a.value=r.code),Q.$set(a);var c={};!p&&e.termId&&(c.termId=r.termId),U.$set(c),e.loading&&O(g,"is-loading",r.loading)},i(e){$||(se(q.$$.fragment,e),se(P.$$.fragment,e),se(Q.$$.fragment,e),se(U.$$.fragment,e),$=!0)},o(e){ce(q.$$.fragment,e),ce(P.$$.fragment,e),ce(Q.$$.fragment,e),ce(U.$$.fragment,e),$=!1},d(n){n&&k(t),N.d(),n&&k(r),ge(q,n),n&&(k(o),k(a)),ge(P),ge(Q),ge(U),e.button_binding(null),e.form_1_binding(null),i(D)}}}function Vc(e,t,n){const r=V();let o,i,{errors:a,loading:s=!1}=t,{id:c="",name:u="",code:l="",termId:d=""}=t;return e.$set=(e=>{"errors"in e&&n("errors",a=e.errors),"loading"in e&&n("loading",s=e.loading),"id"in e&&n("id",c=e.id),"name"in e&&n("name",u=e.name),"code"in e&&n("code",l=e.code),"termId"in e&&n("termId",d=e.termId)}),{errors:a,loading:s,form:o,saveButton:i,id:c,name:u,code:l,termId:d,handleSubmit:()=>{o.checkValidity()?r("submit",{id:c,name:u,termId:d,code:l}):Ce.add({text:"Please fix form errors first.",type:"danger"})},reset_handler:function(t){U(e,t)},input0_value_binding:function(e){n("name",u=e)},input1_value_binding:function(e){n("code",l=e)},termselect_termId_binding:function(e){n("termId",d=e)},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("saveButton",i=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",o=e)})}}}class Uc extends be{constructor(e){super(),ye(this,e,Vc,Lc,s,["errors","loading","id","name","code","termId"])}}function Bc(e){var t,n=new Uc({props:{errors:e.errors,termId:e.termId,loading:e.loading}});return n.$on("reset",e.reset),n.$on("submit",e.save),{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.errors&&(r.errors=t.errors),e.termId&&(r.termId=t.termId),e.loading&&(r.loading=t.loading),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Yc(e){var t,n,r,o,i;function a(t){e.modal_open_binding.call(null,t),r=!0,X(()=>r=!1)}let s={$$slots:{default:[Bc]},$$scope:{ctx:e}};void 0!==e.open&&(s.open=e.open);var c=new Tc({props:s});return Y.push(()=>he(c,"open",a)),{c(){(t=x("button")).innerHTML='<i class="fas fa-plus svelte-9sak9p"></i>Add a course\n\t\t\t',n=I(),c.$$.fragment.c(),T(t,"class","button svelte-9sak9p"),i=S(t,"click",e.click_handler)},m(e,r){w(e,t,r),w(e,n,r),me(c,e,r),o=!0},p(e,t){var n={};(e.$$scope||e.errors||e.termId||e.loading)&&(n.$$scope={changed:e,ctx:t}),!r&&e.open&&(n.open=t.open),c.$set(n)},i(e){o||(se(c.$$.fragment,e),o=!0)},o(e){ce(c.$$.fragment,e),o=!1},d(e){e&&(k(t),k(n)),ge(c,e),i()}}}function zc(e,t,n){let r="",o=!1,i=!1,{termId:a=""}=t;const s=()=>{n("errors",r=""),n("open",o=!1)};return e.$set=(e=>{"termId"in e&&n("termId",a=e.termId)}),{errors:r,open:o,loading:i,termId:a,reset:s,save:async({detail:e})=>{n("loading",i=!0);try{await qo(So,{mutation:da,variables:{...e},refetchQueries:[{query:gc}]}),Ce.add({text:`Saved new course '${e.name}'`,type:"success"}),s()}catch(e){n("errors",r=e),Ce.add({text:"Could not save new course.",type:"danger"})}finally{n("loading",i=!1)}},click_handler:function(){n("open",o=!0)},modal_open_binding:function(e){n("open",o=e)}}}class Wc extends be{constructor(e){super(),ye(this,e,zc,Yc,s,["termId"])}}function Hc(e,t,n){const r=Object.create(e);return r.course=t[n],r}function Gc(e,t,n){const r=Object.create(e);return r.course=t[n],r}function Jc(e,t,n){const r=Object.create(e);return r.course=t[n],r}function Kc(e,t,n){const r=Object.create(e);return r.course=t[n],r}function Xc(e){var t,n,r,o,i=e.teaching&&e.teaching.length&&Zc(e),a=e.attending&&e.attending.length&&tu(e),s="Teacher"===e.$auth.role&&e.notTeaching.length>0&&ru(e),c="Student"===e.$auth.role&&e.notAttending.length>0&&iu(e);return{c(){i&&i.c(),t=I(),a&&a.c(),n=I(),s&&s.c(),r=I(),c&&c.c(),o=D()},m(e,u){i&&i.m(e,u),w(e,t,u),a&&a.m(e,u),w(e,n,u),s&&s.m(e,u),w(e,r,u),c&&c.m(e,u),w(e,o,u)},p(e,u){u.teaching&&u.teaching.length?i?i.p(e,u):((i=Zc(u)).c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),u.attending&&u.attending.length?a?a.p(e,u):((a=tu(u)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),"Teacher"===u.$auth.role&&u.notTeaching.length>0?s?s.p(e,u):((s=ru(u)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),"Student"===u.$auth.role&&u.notAttending.length>0?c?c.p(e,u):((c=iu(u)).c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(e){i&&i.d(e),e&&k(t),a&&a.d(e),e&&k(n),s&&s.d(e),e&&k(r),c&&c.d(e),e&&k(o)}}}function Zc(e){var t,n,r,o=[],i=new Map,a=e.teaching;const s=e=>e.course.id;for(var c=0;c<a.length;c+=1){let t=Kc(e,a,c),n=s(t);i.set(n,o[c]=eu(n,t))}return{c(){for((t=x("h2")).textContent="Teaching",n=I(),c=0;c<o.length;c+=1)o[c].c();r=D(),T(t,"class","title is-5 svelte-1uhc24p")},m(e,i){for(w(e,t,i),w(e,n,i),c=0;c<o.length;c+=1)o[c].m(e,i);w(e,r,i)},p(e,t){const n=t.teaching;o=pe(o,e,s,1,t,n,i,r.parentNode,de,eu,r,Kc)},d(e){for(e&&(k(t),k(n)),c=0;c<o.length;c+=1)o[c].d(e);e&&k(r)}}}function eu(e,t){var n,r,o,i,a=t.course.name;return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(a),T(r,"href",i="#/course/"+t.course.id),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o)},p(e,t){e.teaching&&a!==(a=t.course.name)&&_(o,a),e.teaching&&i!==(i="#/course/"+t.course.id)&&T(r,"href",i)},d(e){e&&k(n)}}}function tu(e){var t,n,r,o=[],i=new Map,a=e.attending;const s=e=>e.course.id;for(var c=0;c<a.length;c+=1){let t=Jc(e,a,c),n=s(t);i.set(n,o[c]=nu(n,t))}return{c(){for((t=x("h2")).textContent="Attending",n=I(),c=0;c<o.length;c+=1)o[c].c();r=D(),T(t,"class","title is-5 svelte-1uhc24p")},m(e,i){for(w(e,t,i),w(e,n,i),c=0;c<o.length;c+=1)o[c].m(e,i);w(e,r,i)},p(e,t){const n=t.attending;o=pe(o,e,s,1,t,n,i,r.parentNode,de,nu,r,Jc)},d(e){for(e&&(k(t),k(n)),c=0;c<o.length;c+=1)o[c].d(e);e&&k(r)}}}function nu(e,t){var n,r,o,i,a=t.course.name;return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(a),T(r,"href",i="#/course/"+t.course.id),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o)},p(e,t){e.attending&&a!==(a=t.course.name)&&_(o,a),e.attending&&i!==(i="#/course/"+t.course.id)&&T(r,"href",i)},d(e){e&&k(n)}}}function ru(e){var t,n,r,o=[],i=new Map,a=e.notTeaching;const s=e=>e.course.id;for(var c=0;c<a.length;c+=1){let t=Gc(e,a,c),n=s(t);i.set(n,o[c]=ou(n,t))}return{c(){for((t=x("h2")).textContent="Not teaching",n=I(),c=0;c<o.length;c+=1)o[c].c();r=D(),T(t,"class","title is-5 svelte-1uhc24p")},m(e,i){for(w(e,t,i),w(e,n,i),c=0;c<o.length;c+=1)o[c].m(e,i);w(e,r,i)},p(e,t){const n=t.notTeaching;o=pe(o,e,s,1,t,n,i,r.parentNode,de,ou,r,Gc)},d(e){for(e&&(k(t),k(n)),c=0;c<o.length;c+=1)o[c].d(e);e&&k(r)}}}function ou(e,t){var n,r,o,i,a=t.course.name;return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(a),T(r,"href",i="#/course/"+t.course.id),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o)},p(e,t){e.notTeaching&&a!==(a=t.course.name)&&_(o,a),e.notTeaching&&i!==(i="#/course/"+t.course.id)&&T(r,"href",i)},d(e){e&&k(n)}}}function iu(e){var t,n,r,o=[],i=new Map,a=e.notAttending;const s=e=>e.course.id;for(var c=0;c<a.length;c+=1){let t=Hc(e,a,c),n=s(t);i.set(n,o[c]=au(n,t))}return{c(){for((t=x("h2")).textContent="Not attending",n=I(),c=0;c<o.length;c+=1)o[c].c();r=D(),T(t,"class","title is-5 svelte-1uhc24p")},m(e,i){for(w(e,t,i),w(e,n,i),c=0;c<o.length;c+=1)o[c].m(e,i);w(e,r,i)},p(e,t){const n=t.notAttending;o=pe(o,e,s,1,t,n,i,r.parentNode,de,au,r,Hc)},d(e){for(e&&(k(t),k(n)),c=0;c<o.length;c+=1)o[c].d(e);e&&k(r)}}}function au(e,t){var n,r,o,i,a=t.course.name;return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(a),T(r,"href",i="#/course/"+t.course.id),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o)},p(e,t){e.notAttending&&a!==(a=t.course.name)&&_(o,a),e.notAttending&&i!==(i="#/course/"+t.course.id)&&T(r,"href",i)},d(e){e&&k(n)}}}function su(t){var n,r=t.courses.length>0&&Xc(t);return{c(){r&&r.c(),n=D()},m(e,t){r&&r.m(e,t),w(e,n,t)},p(e,t){t.courses.length>0?r?r.p(e,t):((r=Xc(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&k(n)}}}function cu(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let o,i,a,s,{courses:u=[]}=t;return e.$set=(e=>{"courses"in e&&n("courses",u=e.courses)}),e.$$.update=((e={courses:1,$auth:1})=>{(e.courses||e.$auth)&&n("teaching",o=u&&u.filter(e=>e.teachers.find(e=>e.id===r.id))),(e.courses||e.$auth)&&n("notTeaching",i=u.filter(e=>!e.teachers.find(e=>e.id===r.id))),(e.courses||e.$auth)&&n("attending",a=u.filter(e=>e.students.find(e=>e.id===r.id))),(e.courses||e.$auth)&&n("notAttending",s=u.filter(e=>!e.students.find(e=>e.id===r.id)))}),{courses:u,teaching:o,$auth:r,notTeaching:i,attending:a,notAttending:s}}class uu extends be{constructor(e){super(),ye(this,e,cu,su,s,["courses"])}}var lu=rn(function(e,t){e.exports=function(){var e=function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},o=function(e){return("0"+e).slice(-2)},i=function(e){return!0===e?1:0};function a(e,t,n){var r;return void 0===n&&(n=!1),function(){var o=this,i=arguments;null!==r&&clearTimeout(r),r=window.setTimeout(function(){r=null,n||e.apply(o,i)},t),n&&!r&&e.apply(o,i)}}var s=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function u(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e,t){var n=u("div","numInputWrapper"),r=u("input","numInput "+e),o=u("span","arrowUp"),i=u("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var a in t)r.setAttribute(a,t[a]);return n.appendChild(r),n.appendChild(o),n.appendChild(i),n}var f=function(){},p=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},h={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*i(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},m={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},g={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[g.w(e,t,n)]},F:function(e,t,n){return p(g.n(e,t,n)-1,!1,t)},G:function(e,t,n){return o(g.h(e,t,n))},H:function(e){return o(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[i(e.getHours()>11)]},M:function(e,t){return p(e.getMonth(),!0,t)},S:function(e){return o(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return o(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return o(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return o(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},v=function(e){var t=e.config,o=void 0===t?n:t,i=e.l10n,a=void 0===i?r:i;return function(e,t,n){var r=n||a;return void 0!==o.formatDate?o.formatDate(e,t,r):t.split("").map(function(t,n,i){return g[t]&&"\\"!==i[n-1]?g[t](e,r,o):"\\"!==t?t:""}).join("")}},y=function(e){var t=e.config,o=void 0===t?n:t,i=e.l10n,a=void 0===i?r:i;return function(e,t,r,i){if(0===e||e){var s,c=i||a,u=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var l=t||(o||n).dateFormat,d=String(e).trim();if("today"===d)s=new Date,r=!0;else if(/Z$/.test(d)||/GMT$/.test(d))s=new Date(e);else if(o&&o.parseDate)s=o.parseDate(e,l);else{s=o&&o.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var f=void 0,p=[],g=0,v=0,y="";g<l.length;g++){var b=l[g],w="\\"===b,k="\\"===l[g-1]||w;if(m[b]&&!k){y+=m[b];var x=new RegExp(y).exec(e);x&&(f=!0)&&p["Y"!==b?"push":"unshift"]({fn:h[b],val:x[++v]})}else w||(y+=".");p.forEach(function(e){var t=e.fn,n=e.val;return s=t(s,n,c)||s})}s=f?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;o.errorHandler(new Error("Invalid date provided: "+u))}}};function b(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var w=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},k={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},o=0,i=t;o<i.length;o++){var a=i[o];r(a)}return e});var x=300;function $(f,h){var g={config:e({},n,I.defaultConfig),l10n:r};function $(e){return e.bind(g)}function C(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer){var t=(g.days.offsetWidth+1)*e.showMonths;g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display")}})}function D(e){0===g.selectedDates.length&&ae(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==g.amPM&&e.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[i(g.amPM.textContent===g.l10n.amPM[0])]);var r=parseFloat(n.getAttribute("min")),a=parseFloat(n.getAttribute("max")),s=parseFloat(n.getAttribute("step")),c=parseInt(n.value,10),u=e.delta||(t?38===e.which?1:-1:0),l=c+s*u;if(void 0!==n.value&&2===n.value.length){var d=n===g.hourElement,f=n===g.minuteElement;l<r?(l=a+l+i(!d)+(i(d)&&i(!g.amPM)),f&&F(void 0,-1,g.hourElement)):l>a&&(l=n===g.hourElement?l-a-i(!g.amPM):r,f&&F(void 0,1,g.hourElement)),g.amPM&&d&&(1===s?l+c===23:Math.abs(l-c)>s)&&(g.amPM.textContent=g.l10n.amPM[i(g.amPM.textContent===g.l10n.amPM[0])]),n.value=o(l)}}(e);var t=g._input.value;S(),ke(),g._input.value!==t&&g._debouncedChange()}function S(){if(void 0!==g.hourElement&&void 0!==g.minuteElement){var e,t,n=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(g.minuteElement.value,10)||0)%60,o=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0;void 0!==g.amPM&&(e=n,t=g.amPM.textContent,n=e%12+12*i(t===g.l10n.amPM[1]));var a=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===b(g.latestSelectedDateObj,g.config.minDate,!0),s=void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===b(g.latestSelectedDateObj,g.config.maxDate,!0);if(s){var c=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate;(n=Math.min(n,c.getHours()))===c.getHours()&&(r=Math.min(r,c.getMinutes())),r===c.getMinutes()&&(o=Math.min(o,c.getSeconds()))}if(a){var u=void 0!==g.config.minTime?g.config.minTime:g.config.minDate;(n=Math.max(n,u.getHours()))===u.getHours()&&(r=Math.max(r,u.getMinutes())),r===u.getMinutes()&&(o=Math.max(o,u.getSeconds()))}_(n,r,o)}}function E(e){var t=e||g.latestSelectedDateObj;t&&_(t.getHours(),t.getMinutes(),t.getSeconds())}function T(){var e=g.config.defaultHour,t=g.config.defaultMinute,n=g.config.defaultSeconds;if(void 0!==g.config.minDate){var r=g.config.minDate.getHours(),o=g.config.minDate.getMinutes();(e=Math.max(e,r))===r&&(t=Math.max(o,t)),e===r&&t===o&&(n=g.config.minDate.getSeconds())}if(void 0!==g.config.maxDate){var i=g.config.maxDate.getHours(),a=g.config.maxDate.getMinutes();(e=Math.min(e,i))===i&&(t=Math.min(a,t)),e===i&&t===a&&(n=g.config.maxDate.getSeconds())}_(e,t,n)}function _(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=o(g.config.time_24hr?e:(12+e)%12+12*i(e%12==0)),g.minuteElement.value=o(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[i(e>=12)]),void 0!==g.secondElement&&(g.secondElement.value=o(n)))}function M(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&ee(t)}function O(e,t,n,r){return t instanceof Array?t.forEach(function(t){return O(e,t,n,r)}):e instanceof Array?e.forEach(function(e){return O(e,t,n,r)}):(e.addEventListener(t,n,r),void g._handlers.push({element:e,event:t,handler:n,options:r}))}function N(e){return function(t){1===t.which&&e(t)}}function q(){ge("onChange")}function A(){if(g.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),function(t){return O(t,"click",g[e])})}),g.isMobile)!function(){var e=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=u("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=e,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",g.selectedDates.length>0&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(e){}O(g.mobileInput,"change",function(e){g.setDate(e.target.value,!1,g.mobileFormatStr),ge("onChange"),ge("onClose")})}();else{var e=a(ie,50);g._debouncedChange=a(q,x),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(g.daysContainer,"mouseover",function(e){"range"===g.config.mode&&oe(e.target)}),O(window.document.body,"keydown",re),g.config.inline||g.config.static||O(window,"resize",e),void 0!==window.ontouchstart?O(window.document,"touchstart",Z):O(window.document,"mousedown",N(Z)),O(window.document,"focus",Z,{capture:!0}),!0===g.config.clickOpens&&(O(g._input,"focus",g.open),O(g._input,"mousedown",N(g.open))),void 0!==g.daysContainer&&(O(g.monthNav,"mousedown",N(xe)),O(g.monthNav,["keyup","increment"],M),O(g.daysContainer,"mousedown",N(fe))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(O(g.timeContainer,["increment"],D),O(g.timeContainer,"blur",D,{capture:!0}),O(g.timeContainer,"mousedown",N(P)),O([g.hourElement,g.minuteElement],["focus","click"],function(e){return e.target.select()}),void 0!==g.secondElement&&O(g.secondElement,"focus",function(){return g.secondElement&&g.secondElement.select()}),void 0!==g.amPM&&O(g.amPM,"mousedown",N(function(e){D(e),q()})))}}function R(e,t){var n=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now),r=g.currentYear,o=g.currentMonth;try{void 0!==n&&(g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,g.config.errorHandler(e)}t&&g.currentYear!==r&&(ge("onYearChange"),z()),!t||g.currentYear===r&&g.currentMonth===o||ge("onMonthChange"),g.redraw()}function P(e){~e.target.className.indexOf("arrow")&&F(e,e.target.classList.contains("arrowUp")?1:-1)}function F(e,t,n){var r=e&&e.target,o=n||r&&r.parentNode&&r.parentNode.firstChild,i=ve("increment");i.delta=t,o&&o.dispatchEvent(i)}function j(){var e=window.document.createDocumentFragment();if(g.calendarContainer=u("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,!g.config.noCalendar){if(e.appendChild((g.monthNav=u("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=u("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=u("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,H(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(c(g.prevMonthNav,"flatpickr-disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(c(g.nextMonthNav,"flatpickr-disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],be(),g.monthNav)),g.innerContainer=u("div","flatpickr-innerContainer"),g.config.weekNumbers){var t=function(){g.calendarContainer.classList.add("hasWeeks");var e=u("div","flatpickr-weekwrapper");e.appendChild(u("span","flatpickr-weekday",g.l10n.weekAbbreviation));var t=u("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,r=t.weekNumbers;g.innerContainer.appendChild(n),g.weekNumbers=r,g.weekWrapper=n}g.rContainer=u("div","flatpickr-rContainer"),g.rContainer.appendChild(G()),g.daysContainer||(g.daysContainer=u("div","flatpickr-days"),g.daysContainer.tabIndex=-1),Y(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)}g.config.enableTime&&e.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=u("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var e=u("span","flatpickr-time-separator",":"),t=d("flatpickr-hour",{"aria-label":g.l10n.hourAriaLabel});g.hourElement=t.getElementsByTagName("input")[0];var n=d("flatpickr-minute",{"aria-label":g.l10n.minuteAriaLabel});if(g.minuteElement=n.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=o(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(g.config.defaultHour)),g.minuteElement.value=o(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(t),g.timeContainer.appendChild(e),g.timeContainer.appendChild(n),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds){g.timeContainer.classList.add("hasSeconds");var r=d("flatpickr-second");g.secondElement=r.getElementsByTagName("input")[0],g.secondElement.value=o(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(u("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(r)}return g.config.time_24hr||(g.amPM=u("span","flatpickr-am-pm",g.l10n.amPM[i((g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour)>11)]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),c(g.calendarContainer,"rangeMode","range"===g.config.mode),c(g.calendarContainer,"animate",!0===g.config.animate),c(g.calendarContainer,"multiMonth",g.config.showMonths>1),g.calendarContainer.appendChild(e);var a=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType;if((g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!a&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)){var s=u("div","flatpickr-wrapper");g.element.parentNode&&g.element.parentNode.insertBefore(s,g.element),s.appendChild(g.element),g.altInput&&s.appendChild(g.altInput),s.appendChild(g.calendarContainer)}g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}function Q(e,t,n,r){var o=te(t,!0),i=u("span","flatpickr-day "+e,t.getDate().toString());return i.dateObj=t,i.$i=r,i.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===b(t,g.now)&&(g.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),o?(i.tabIndex=-1,ye(t)&&(i.classList.add("selected"),g.selectedDateElem=i,"range"===g.config.mode&&(c(i,"startRange",g.selectedDates[0]&&0===b(t,g.selectedDates[0],!0)),c(i,"endRange",g.selectedDates[1]&&0===b(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===g.config.mode&&function(e){return!("range"!==g.config.mode||g.selectedDates.length<2)&&b(e,g.selectedDates[0])>=0&&b(e,g.selectedDates[1])<=0}(t)&&!ye(t)&&i.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),ge("onDayCreate",i),i}function L(e){e.focus(),"range"===g.config.mode&&oe(e)}function V(e){for(var t=e>0?0:g.config.showMonths-1,n=e>0?g.config.showMonths:-1,r=t;r!=n;r+=e)for(var o=g.daysContainer.children[r],i=e>0?0:o.children.length-1,a=e>0?o.children.length:-1,s=i;s!=a;s+=e){var c=o.children[s];if(-1===c.className.indexOf("hidden")&&te(c.dateObj))return c}}function U(e,t){var n=ne(document.activeElement||document.body),r=void 0!==e?e:n?document.activeElement:void 0!==g.selectedDateElem&&ne(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&ne(g.todayDateElem)?g.todayDateElem:V(t>0?1:-1);return void 0===r?g._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():g.currentMonth,r=t>0?g.config.showMonths:-1,o=t>0?1:-1,i=n-g.currentMonth;i!=r;i+=o)for(var a=g.daysContainer.children[i],s=n-g.currentMonth===i?e.$i+t:t<0?a.children.length-1:0,c=a.children.length,u=s;u>=0&&u<c&&u!=(t>0?c:-1);u+=o){var l=a.children[u];if(-1===l.className.indexOf("hidden")&&te(l.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return L(l)}g.changeMonth(o),U(V(o),0)}(r,t):L(r)}function B(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,r=g.utils.getDaysInMonth((t-1+12)%12),o=g.utils.getDaysInMonth(t),i=window.document.createDocumentFragment(),a=g.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",c=a?"nextMonthDay hidden":"nextMonthDay",l=r+1-n,d=0;l<=r;l++,d++)i.appendChild(Q(s,new Date(e,t-1,l),l,d));for(l=1;l<=o;l++,d++)i.appendChild(Q("",new Date(e,t,l),l,d));for(var f=o+1;f<=42-n&&(1===g.config.showMonths||d%7!=0);f++,d++)i.appendChild(Q(c,new Date(e,t+1,f%o),f,d));var p=u("div","dayContainer");return p.appendChild(i),p}function Y(){if(void 0!==g.daysContainer){l(g.daysContainer),g.weekNumbers&&l(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(B(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&oe()}}function z(){if(!(g.config.showMonths>1||"dropdown"!==g.config.monthSelectorType)){var e=function(e){return!(void 0!==g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&e<g.config.minDate.getMonth()||void 0!==g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()&&e>g.config.maxDate.getMonth())};g.monthsDropdownContainer.tabIndex=-1,g.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=u("option","flatpickr-monthDropdown-month");n.value=new Date(g.currentYear,t).getMonth().toString(),n.textContent=p(t,g.config.shorthandCurrentMonth,g.l10n),n.tabIndex=-1,g.currentMonth===t&&(n.selected=!0),g.monthsDropdownContainer.appendChild(n)}}}function W(){var e,t=u("div","flatpickr-month"),n=window.document.createDocumentFragment();g.config.showMonths>1||"static"===g.config.monthSelectorType?e=u("span","cur-month"):(g.monthsDropdownContainer=u("select","flatpickr-monthDropdown-months"),O(g.monthsDropdownContainer,"change",function(e){var t=e.target,n=parseInt(t.value,10);g.changeMonth(n-g.currentMonth),ge("onMonthChange")}),z(),e=g.monthsDropdownContainer);var r=d("cur-year",{tabindex:"-1"}),o=r.getElementsByTagName("input")[0];o.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&o.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(o.setAttribute("max",g.config.maxDate.getFullYear().toString()),o.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear());var i=u("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(r),n.appendChild(i),t.appendChild(n),{container:t,yearElement:o,monthElement:e}}function H(){l(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e=g.config.showMonths;e--;){var t=W();g.yearElements.push(t.yearElement),g.monthElements.push(t.monthElement),g.monthNav.appendChild(t.container)}g.monthNav.appendChild(g.nextMonthNav)}function G(){g.weekdayContainer?l(g.weekdayContainer):g.weekdayContainer=u("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=u("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return J(),g.weekdayContainer}function J(){var e=g.l10n.firstDayOfWeek,t=g.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function K(e,t){void 0===t&&(t=!0);var n=t?e:e-g.currentMonth;n<0&&!0===g._hidePrevMonthArrow||n>0&&!0===g._hideNextMonthArrow||(g.currentMonth+=n,(g.currentMonth<0||g.currentMonth>11)&&(g.currentYear+=g.currentMonth>11?1:-1,g.currentMonth=(g.currentMonth+12)%12,ge("onYearChange"),z()),Y(),ge("onMonthChange"),be())}function X(e){return!(!g.config.appendTo||!g.config.appendTo.contains(e))||g.calendarContainer.contains(e)}function Z(e){if(g.isOpen&&!g.config.inline){var t=function(e){if("function"==typeof e.composedPath){var t=e.composedPath();return t[0]}return e.target}(e),n=X(t),r=t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput)),o="blur"===e.type?r&&e.relatedTarget&&!X(e.relatedTarget):!r&&!n&&!X(e.relatedTarget),i=!g.config.ignoredFocusElements.some(function(e){return e.contains(t)});o&&i&&(g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw()))}}function ee(e){if(!(!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear())){var t=e,n=g.currentYear!==t;g.currentYear=t||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),n&&(g.redraw(),ge("onYearChange"),z())}}function te(e,t){void 0===t&&(t=!0);var n=g.parseDate(e,void 0,t);if(g.config.minDate&&n&&b(n,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&n&&b(n,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime)>0)return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var r=g.config.enable.length>0,o=r?g.config.enable:g.config.disable,i=0,a=void 0;i<o.length;i++){if("function"==typeof(a=o[i])&&a(n))return r;if(a instanceof Date&&void 0!==n&&a.getTime()===n.getTime())return r;if("string"==typeof a&&void 0!==n){var s=g.parseDate(a,void 0,!0);return s&&s.getTime()===n.getTime()?r:!r}if("object"==typeof a&&void 0!==n&&a.from&&a.to&&n.getTime()>=a.from.getTime()&&n.getTime()<=a.to.getTime())return r}return!r}function ne(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&g.daysContainer.contains(e)}function re(e){var t=e.target===g._input,n=g.config.allowInput,r=g.isOpen&&(!n||!t),o=g.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat),e.target.blur();g.open()}else if(X(e.target)||r||o){var i=!!g.timeContainer&&g.timeContainer.contains(e.target);switch(e.keyCode){case 13:i?(e.preventDefault(),D(),de()):fe(e);break;case 27:e.preventDefault(),de();break;case 8:case 46:t&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:if(i||t)g.hourElement&&g.hourElement.focus();else if(e.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&ne(document.activeElement))){var a=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),K(a),U(V(1),0)):U(void 0,a)}break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;g.daysContainer&&void 0!==e.target.$i||e.target===g.input?e.ctrlKey?(e.stopPropagation(),ee(g.currentYear-s),U(V(1),0)):i||U(void 0,7*s):e.target===g.currentYearElement?ee(g.currentYear-s):g.config.enableTime&&(!i&&g.hourElement&&g.hourElement.focus(),D(e),g._debouncedChange());break;case 9:if(i){var c=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].concat(g.pluginElements).filter(function(e){return e}),u=c.indexOf(e.target);if(-1!==u){var l=c[u+(e.shiftKey?-1:1)];e.preventDefault(),(l||g._input).focus()}}else!g.config.noCalendar&&g.daysContainer&&g.daysContainer.contains(e.target)&&e.shiftKey&&(e.preventDefault(),g._input.focus())}}if(void 0!==g.amPM&&e.target===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],S(),ke();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],S(),ke()}(t||X(e.target))&&ge("onKeyDown",e)}function oe(e){if(1===g.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():g.days.firstElementChild.dateObj.getTime(),n=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),r=Math.min(t,g.selectedDates[0].getTime()),o=Math.max(t,g.selectedDates[0].getTime()),i=!1,a=0,s=0,c=r;c<o;c+=k.DAY)te(new Date(c),!0)||(i=i||c>r&&c<o,c<n&&(!a||c>a)?a=c:c>n&&(!s||c<s)&&(s=c));for(var u=0;u<g.config.showMonths;u++)for(var l=g.daysContainer.children[u],d=function(r,o){var c=l.children[r],u=c.dateObj,d=u.getTime(),f=a>0&&d<a||s>0&&d>s;return f?(c.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){c.classList.remove(e)}),"continue"):i&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(e){c.classList.remove(e)}),void(void 0!==e&&(e.classList.add(t<=g.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&d===n?c.classList.add("startRange"):n>t&&d===n&&c.classList.add("endRange"),d>=a&&(0===s||d<=s)&&w(d,n,t)&&c.classList.add("inRange"))))},f=0,p=l.children.length;f<p;f++)d(f)}}function ie(){!g.isOpen||g.config.static||g.config.inline||ue()}function ae(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!0),T(),ke()}function se(e){return function(t){var n=g.config["_"+e+"Date"]=g.parseDate(t,g.config.dateFormat),r=g.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(g["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),g.selectedDates&&(g.selectedDates=g.selectedDates.filter(function(e){return te(e)}),g.selectedDates.length||"min"!==e||E(n),ke()),g.daysContainer&&(le(),void 0!==n?g.currentYearElement[e]=n.getFullYear().toString():g.currentYearElement.removeAttribute(e),g.currentYearElement.disabled=!!r&&void 0!==n&&r.getFullYear()===n.getFullYear())}}function ce(){"object"!=typeof g.config.locale&&void 0===I.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=e({},I.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?I.l10ns[g.config.locale]:void 0),m.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")";var t=e({},h,JSON.parse(JSON.stringify(f.dataset||{})));void 0===t.time_24hr&&void 0===I.defaultConfig.time_24hr&&(g.config.time_24hr=g.l10n.time_24hr),g.formatDate=v(g),g.parseDate=y({config:g.config,l10n:g.l10n})}function ue(e){if(void 0!==g.calendarContainer){ge("onPreCalendarPosition");var t=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),r=g.calendarContainer.offsetWidth,o=g.config.position.split(" "),i=o[0],a=o.length>1?o[1]:null,s=t.getBoundingClientRect(),u=window.innerHeight-s.bottom,l="above"===i||"below"!==i&&u<n&&s.top>n,d=window.pageYOffset+s.top+(l?-n-2:t.offsetHeight+2);if(c(g.calendarContainer,"arrowTop",!l),c(g.calendarContainer,"arrowBottom",l),!g.config.inline){var f=window.pageXOffset+s.left-(null!=a&&"center"===a?(r-s.width)/2:0),p=window.document.body.offsetWidth-s.right,h=f+r>window.document.body.offsetWidth,m=p+r>window.document.body.offsetWidth;if(c(g.calendarContainer,"rightMost",h),!g.config.static)if(g.calendarContainer.style.top=d+"px",h)if(m){var v=document.styleSheets[0];if(void 0===v)return;var y=window.document.body.offsetWidth,b=Math.max(0,y/2-r/2),w=v.cssRules.length,k="{left:"+s.left+"px;right:auto;}";c(g.calendarContainer,"rightMost",!1),c(g.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+k,w),g.calendarContainer.style.left=b+"px",g.calendarContainer.style.right="auto"}else g.calendarContainer.style.left="auto",g.calendarContainer.style.right=p+"px";else g.calendarContainer.style.left=f+"px",g.calendarContainer.style.right="auto"}}}function le(){g.config.noCalendar||g.isMobile||(be(),Y())}function de(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function fe(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=t,r=g.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(r.getMonth()<g.currentMonth||r.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode;if(g.selectedDateElem=n,"single"===g.config.mode)g.selectedDates=[r];else if("multiple"===g.config.mode){var i=ye(r);i?g.selectedDates.splice(parseInt(i),1):g.selectedDates.push(r)}else"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=r,g.selectedDates.push(r),0!==b(r,g.selectedDates[0],!0)&&g.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(S(),o){var a=g.currentYear!==r.getFullYear();g.currentYear=r.getFullYear(),g.currentMonth=r.getMonth(),a&&(ge("onYearChange"),z()),ge("onMonthChange")}if(be(),Y(),ke(),g.config.enableTime&&setTimeout(function(){return g.showTimeInput=!0},50),o||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():L(n),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect){var s="single"===g.config.mode&&!g.config.enableTime,c="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime;(s||c)&&de()}q()}}g.parseDate=y({config:g.config,l10n:g.l10n}),g._handlers=[],g.pluginElements=[],g.loadedPlugins=[],g._bind=O,g._setHoursFromDate=E,g._positionCalendar=ue,g.changeMonth=K,g.changeYear=ee,g.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],g.latestSelectedDateObj=void 0,!0===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),g.showTimeInput=!1,!0===g.config.enableTime&&T(),g.redraw(),e&&ge("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),ge("onClose")},g._createElement=u,g.destroy=function(){void 0!==g.config&&ge("onDestroy");for(var e=g._handlers.length;e--;){var t=g._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete g[e]}catch(e){}})},g.isEnabled=te,g.jumpToDate=R,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void ge("onOpen");if(!g._input.disabled&&!g.config.inline){var n=g.isOpen;g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),ge("onOpen"),ue(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&ae(),!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return g.hourElement.select()},50))}},g.redraw=le,g.set=function(e,n){if(null!==e&&"object"==typeof e)for(var r in Object.assign(g.config,e),e)void 0!==pe[r]&&pe[r].forEach(function(e){return e()});else g.config[e]=n,void 0!==pe[e]?pe[e].forEach(function(e){return e()}):t.indexOf(e)>-1&&(g.config[e]=s(n));g.redraw(),ke(!1)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);he(e,n),g.showTimeInput=g.selectedDates.length>0,g.latestSelectedDateObj=g.selectedDates[g.selectedDates.length-1],g.redraw(),R(),E(),0===g.selectedDates.length&&g.clear(!1),ke(t),t&&ge("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var pe={locale:[ce,J],showMonths:[H,C,G],minDate:[R],maxDate:[R]};function he(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return g.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map(function(e){return g.parseDate(e,t)});break;case"range":n=e.split(g.l10n.rangeSeparator).map(function(e){return g.parseDate(e,t)})}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=n.filter(function(e){return e instanceof Date&&te(e,!1)}),"range"===g.config.mode&&g.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function me(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ge(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&n.length>0)for(var r=0;n[r]&&r<n.length;r++)n[r](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(ve("change")),g.input.dispatchEvent(ve("input")))}}function ve(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ye(e){for(var t=0;t<g.selectedDates.length;t++)if(0===b(g.selectedDates[t],e))return""+t;return!1}function be(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach(function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.config.showMonths>1||"static"===g.config.monthSelectorType?g.monthElements[t].textContent=p(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ":g.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()}),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function we(e){return g.selectedDates.map(function(t){return g.formatDate(t,e)}).filter(function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t}).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function ke(e){void 0===e&&(e=!0),void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=we(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=we(g.config.altFormat)),!1!==e&&ge("onValueUpdate")}function xe(e){var t=g.prevMonthNav.contains(e.target),n=g.nextMonthNav.contains(e.target);t||n?K(t?-1:1):g.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):e.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return function(){g.element=g.input=f,g.isOpen=!1,function(){var r=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=e({},h,JSON.parse(JSON.stringify(f.dataset||{}))),i={};g.config.parseDate=o.parseDate,g.config.formatDate=o.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=me(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=me(e)}});var a="time"===o.mode;if(!o.dateFormat&&(o.enableTime||a)){var c=I.defaultConfig.dateFormat||n.dateFormat;i.dateFormat=o.noCalendar||a?"H:i"+(o.enableSeconds?":S":""):c+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||a)&&!o.altFormat){var u=I.defaultConfig.altFormat||n.altFormat;i.altFormat=o.noCalendar||a?"h:i"+(o.enableSeconds?":S K":" K"):u+" h:i"+(o.enableSeconds?":S":"")+" K"}o.altInputClass||(g.config.altInputClass=g.input.className+" "+g.config.altInputClass),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:se("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:se("max")});var l=function(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i")}};Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:l("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:l("max")}),"time"===o.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,i,o);for(var d=0;d<r.length;d++)g.config[r[d]]=!0===g.config[r[d]]||"true"===g.config[r[d]];t.filter(function(e){return void 0!==g.config[e]}).forEach(function(e){g.config[e]=s(g.config[e]||[]).map($)}),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var d=0;d<g.config.plugins.length;d++){var p=g.config.plugins[d](g)||{};for(var m in p)t.indexOf(m)>-1?g.config[m]=s(p[m]).map($).concat(g.config[m]):void 0===o[m]&&(g.config[m]=p[m])}ge("onParseConfig")}(),ce(),g.input=g.config.wrap?f.querySelector("[data-input]"):f,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=u(g.input.nodeName,g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),function(){g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date;var e=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null);e&&he(e,g.config.dateFormat),g._initialDate=g.selectedDates.length>0?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),g.selectedDates.length>0&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(g.config.minDate.getHours()>0||g.config.minDate.getMinutes()>0||g.config.minDate.getSeconds()>0),g.maxDateHasTime=!!g.config.maxDate&&(g.config.maxDate.getHours()>0||g.config.maxDate.getMinutes()>0||g.config.maxDate.getSeconds()>0),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(e){g._showTimeInput=e,g.calendarContainer&&c(g.calendarContainer,"showTimeInput",e),g.isOpen&&ue()}})}(),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||j(),A(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&E(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),ke(!1)),C(),g.showTimeInput=g.selectedDates.length>0||g.config.noCalendar;var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!g.isMobile&&r&&ue(),ge("onReady")}(),g}function C(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),r=[],o=0;o<n.length;o++){var i=n[o];try{if(null!==i.getAttribute("data-fp-omit"))continue;void 0!==i._flatpickr&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=$(i,t||{}),r.push(i._flatpickr)}catch(e){console.error(e)}}return 1===r.length?r[0]:r}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return C(this,e)},HTMLElement.prototype.flatpickr=function(e){return C([this],e)});var I=function(e,t){return"string"==typeof e?C(window.document.querySelectorAll(e),t):e instanceof Node?C([e],t):C(e,t)};return I.defaultConfig={},I.l10ns={en:e({},r),default:e({},r)},I.localize=function(t){I.l10ns.default=e({},I.l10ns.default,t)},I.setDefaults=function(t){I.defaultConfig=e({},I.defaultConfig,t)},I.parseDate=y({}),I.formatDate=v({}),I.compareDates=b,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return C(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=I),I}()});function du(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}du('.flatpickr-calendar {\n  background: transparent;\n  opacity: 0;\n  display: none;\n  text-align: center;\n  visibility: hidden;\n  padding: 0;\n  -webkit-animation: none;\n          animation: none;\n  direction: ltr;\n  border: 0;\n  font-size: 14px;\n  line-height: 24px;\n  border-radius: 5px;\n  position: absolute;\n  width: 307.875px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -ms-touch-action: manipulation;\n      touch-action: manipulation;\n  background: #fff;\n  -webkit-box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0,0,0,0.08);\n          box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0,0,0,0.08);\n}\n.flatpickr-calendar.open,\n.flatpickr-calendar.inline {\n  opacity: 1;\n  max-height: 640px;\n  visibility: visible;\n}\n.flatpickr-calendar.open {\n  display: inline-block;\n  z-index: 99999;\n}\n.flatpickr-calendar.animate.open {\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n          animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n}\n.flatpickr-calendar.inline {\n  display: block;\n  position: relative;\n  top: 2px;\n}\n.flatpickr-calendar.static {\n  position: absolute;\n  top: calc(100% + 2px);\n}\n.flatpickr-calendar.static.open {\n  z-index: 999;\n  display: block;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7) {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1) {\n  -webkit-box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n          box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-calendar .hasWeeks .dayContainer,\n.flatpickr-calendar .hasTime .dayContainer {\n  border-bottom: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.flatpickr-calendar .hasWeeks .dayContainer {\n  border-left: 0;\n}\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\n  height: 40px;\n  border-top: 1px solid #e6e6e6;\n}\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\n  height: auto;\n}\n.flatpickr-calendar:before,\n.flatpickr-calendar:after {\n  position: absolute;\n  display: block;\n  pointer-events: none;\n  border: solid transparent;\n  content: \'\';\n  height: 0;\n  width: 0;\n  left: 22px;\n}\n.flatpickr-calendar.rightMost:before,\n.flatpickr-calendar.rightMost:after {\n  left: auto;\n  right: 22px;\n}\n.flatpickr-calendar:before {\n  border-width: 5px;\n  margin: 0 -5px;\n}\n.flatpickr-calendar:after {\n  border-width: 4px;\n  margin: 0 -4px;\n}\n.flatpickr-calendar.arrowTop:before,\n.flatpickr-calendar.arrowTop:after {\n  bottom: 100%;\n}\n.flatpickr-calendar.arrowTop:before {\n  border-bottom-color: #e6e6e6;\n}\n.flatpickr-calendar.arrowTop:after {\n  border-bottom-color: #fff;\n}\n.flatpickr-calendar.arrowBottom:before,\n.flatpickr-calendar.arrowBottom:after {\n  top: 100%;\n}\n.flatpickr-calendar.arrowBottom:before {\n  border-top-color: #e6e6e6;\n}\n.flatpickr-calendar.arrowBottom:after {\n  border-top-color: #fff;\n}\n.flatpickr-calendar:focus {\n  outline: 0;\n}\n.flatpickr-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.flatpickr-months {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-months .flatpickr-month {\n  background: transparent;\n  color: rgba(0,0,0,0.9);\n  fill: rgba(0,0,0,0.9);\n  height: 34px;\n  line-height: 1;\n  text-align: center;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.flatpickr-months .flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month {\n  text-decoration: none;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  height: 34px;\n  padding: 10px;\n  z-index: 3;\n  color: rgba(0,0,0,0.9);\n  fill: rgba(0,0,0,0.9);\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,\n.flatpickr-months .flatpickr-next-month.flatpickr-disabled {\n  display: none;\n}\n.flatpickr-months .flatpickr-prev-month i,\n.flatpickr-months .flatpickr-next-month i {\n  position: relative;\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-prev-month {\n/*\n      /*rtl:begin:ignore*/\n/*\n      */\n  left: 0;\n/*\n      /*rtl:end:ignore*/\n/*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-next-month {\n/*\n      /*rtl:begin:ignore*/\n/*\n      */\n  right: 0;\n/*\n      /*rtl:end:ignore*/\n/*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,\n.flatpickr-months .flatpickr-next-month:hover {\n  color: #959ea9;\n}\n.flatpickr-months .flatpickr-prev-month:hover svg,\n.flatpickr-months .flatpickr-next-month:hover svg {\n  fill: #f64747;\n}\n.flatpickr-months .flatpickr-prev-month svg,\n.flatpickr-months .flatpickr-next-month svg {\n  width: 14px;\n  height: 14px;\n}\n.flatpickr-months .flatpickr-prev-month svg path,\n.flatpickr-months .flatpickr-next-month svg path {\n  -webkit-transition: fill 0.1s;\n  transition: fill 0.1s;\n  fill: inherit;\n}\n.numInputWrapper {\n  position: relative;\n  height: auto;\n}\n.numInputWrapper input,\n.numInputWrapper span {\n  display: inline-block;\n}\n.numInputWrapper input {\n  width: 100%;\n}\n.numInputWrapper input::-ms-clear {\n  display: none;\n}\n.numInputWrapper input::-webkit-outer-spin-button,\n.numInputWrapper input::-webkit-inner-spin-button {\n  margin: 0;\n  -webkit-appearance: none;\n}\n.numInputWrapper span {\n  position: absolute;\n  right: 0;\n  width: 14px;\n  padding: 0 4px 0 2px;\n  height: 50%;\n  line-height: 50%;\n  opacity: 0;\n  cursor: pointer;\n  border: 1px solid rgba(57,57,57,0.15);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.numInputWrapper span:hover {\n  background: rgba(0,0,0,0.1);\n}\n.numInputWrapper span:active {\n  background: rgba(0,0,0,0.2);\n}\n.numInputWrapper span:after {\n  display: block;\n  content: "";\n  position: absolute;\n}\n.numInputWrapper span.arrowUp {\n  top: 0;\n  border-bottom: 0;\n}\n.numInputWrapper span.arrowUp:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid rgba(57,57,57,0.6);\n  top: 26%;\n}\n.numInputWrapper span.arrowDown {\n  top: 50%;\n}\n.numInputWrapper span.arrowDown:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid rgba(57,57,57,0.6);\n  top: 40%;\n}\n.numInputWrapper span svg {\n  width: inherit;\n  height: auto;\n}\n.numInputWrapper span svg path {\n  fill: rgba(0,0,0,0.5);\n}\n.numInputWrapper:hover {\n  background: rgba(0,0,0,0.05);\n}\n.numInputWrapper:hover span {\n  opacity: 1;\n}\n.flatpickr-current-month {\n  font-size: 135%;\n  line-height: inherit;\n  font-weight: 300;\n  color: inherit;\n  position: absolute;\n  width: 75%;\n  left: 12.5%;\n  padding: 7.48px 0 0 0;\n  line-height: 1;\n  height: 34px;\n  display: inline-block;\n  text-align: center;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n          transform: translate3d(0px, 0px, 0px);\n}\n.flatpickr-current-month span.cur-month {\n  font-family: inherit;\n  font-weight: 700;\n  color: inherit;\n  display: inline-block;\n  margin-left: 0.5ch;\n  padding: 0;\n}\n.flatpickr-current-month span.cur-month:hover {\n  background: rgba(0,0,0,0.05);\n}\n.flatpickr-current-month .numInputWrapper {\n  width: 6ch;\n  width: 7ch\\0;\n  display: inline-block;\n}\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\n  border-bottom-color: rgba(0,0,0,0.9);\n}\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\n  border-top-color: rgba(0,0,0,0.9);\n}\n.flatpickr-current-month input.cur-year {\n  background: transparent;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: inherit;\n  cursor: text;\n  padding: 0 0 0 0.5ch;\n  margin: 0;\n  display: inline-block;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  line-height: inherit;\n  height: auto;\n  border: 0;\n  border-radius: 0;\n  vertical-align: initial;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-current-month input.cur-year:focus {\n  outline: 0;\n}\n.flatpickr-current-month input.cur-year[disabled],\n.flatpickr-current-month input.cur-year[disabled]:hover {\n  font-size: 100%;\n  color: rgba(0,0,0,0.5);\n  background: transparent;\n  pointer-events: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months {\n  appearance: menulist;\n  background: transparent;\n  border: none;\n  border-radius: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: pointer;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  height: auto;\n  line-height: inherit;\n  margin: -1px 0 0 0;\n  outline: none;\n  padding: 0 0 0 0.5ch;\n  position: relative;\n  vertical-align: initial;\n  -webkit-box-sizing: border-box;\n  -webkit-appearance: menulist;\n  -moz-appearance: menulist;\n  width: auto;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:focus,\n.flatpickr-current-month .flatpickr-monthDropdown-months:active {\n  outline: none;\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months:hover {\n  background: rgba(0,0,0,0.05);\n}\n.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month {\n  background-color: transparent;\n  outline: none;\n  padding: 0;\n}\n.flatpickr-weekdays {\n  background: transparent;\n  text-align: center;\n  overflow: hidden;\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 28px;\n}\n.flatpickr-weekdays .flatpickr-weekdaycontainer {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\nspan.flatpickr-weekday {\n  cursor: default;\n  font-size: 90%;\n  background: transparent;\n  color: rgba(0,0,0,0.54);\n  line-height: 1;\n  margin: 0;\n  text-align: center;\n  display: block;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  font-weight: bolder;\n}\n.dayContainer,\n.flatpickr-weeks {\n  padding: 1px 0 0 0;\n}\n.flatpickr-days {\n  position: relative;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  width: 307.875px;\n}\n.flatpickr-days:focus {\n  outline: 0;\n}\n.dayContainer {\n  padding: 0;\n  outline: 0;\n  text-align: left;\n  width: 307.875px;\n  min-width: 307.875px;\n  max-width: 307.875px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  display: inline-block;\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n          transform: translate3d(0px, 0px, 0px);\n  opacity: 1;\n}\n.dayContainer + .dayContainer {\n  -webkit-box-shadow: -1px 0 0 #e6e6e6;\n          box-shadow: -1px 0 0 #e6e6e6;\n}\n.flatpickr-day {\n  background: none;\n  border: 1px solid transparent;\n  border-radius: 150px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #393939;\n  cursor: pointer;\n  font-weight: 400;\n  width: 14.2857143%;\n  -webkit-flex-basis: 14.2857143%;\n      -ms-flex-preferred-size: 14.2857143%;\n          flex-basis: 14.2857143%;\n  max-width: 39px;\n  height: 39px;\n  line-height: 39px;\n  margin: 0;\n  display: inline-block;\n  position: relative;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  text-align: center;\n}\n.flatpickr-day.inRange,\n.flatpickr-day.prevMonthDay.inRange,\n.flatpickr-day.nextMonthDay.inRange,\n.flatpickr-day.today.inRange,\n.flatpickr-day.prevMonthDay.today.inRange,\n.flatpickr-day.nextMonthDay.today.inRange,\n.flatpickr-day:hover,\n.flatpickr-day.prevMonthDay:hover,\n.flatpickr-day.nextMonthDay:hover,\n.flatpickr-day:focus,\n.flatpickr-day.prevMonthDay:focus,\n.flatpickr-day.nextMonthDay:focus {\n  cursor: pointer;\n  outline: 0;\n  background: #e6e6e6;\n  border-color: #e6e6e6;\n}\n.flatpickr-day.today {\n  border-color: #959ea9;\n}\n.flatpickr-day.today:hover,\n.flatpickr-day.today:focus {\n  border-color: #959ea9;\n  background: #959ea9;\n  color: #fff;\n}\n.flatpickr-day.selected,\n.flatpickr-day.startRange,\n.flatpickr-day.endRange,\n.flatpickr-day.selected.inRange,\n.flatpickr-day.startRange.inRange,\n.flatpickr-day.endRange.inRange,\n.flatpickr-day.selected:focus,\n.flatpickr-day.startRange:focus,\n.flatpickr-day.endRange:focus,\n.flatpickr-day.selected:hover,\n.flatpickr-day.startRange:hover,\n.flatpickr-day.endRange:hover,\n.flatpickr-day.selected.prevMonthDay,\n.flatpickr-day.startRange.prevMonthDay,\n.flatpickr-day.endRange.prevMonthDay,\n.flatpickr-day.selected.nextMonthDay,\n.flatpickr-day.startRange.nextMonthDay,\n.flatpickr-day.endRange.nextMonthDay {\n  background: #569ff7;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  color: #fff;\n  border-color: #569ff7;\n}\n.flatpickr-day.selected.startRange,\n.flatpickr-day.startRange.startRange,\n.flatpickr-day.endRange.startRange {\n  border-radius: 50px 0 0 50px;\n}\n.flatpickr-day.selected.endRange,\n.flatpickr-day.startRange.endRange,\n.flatpickr-day.endRange.endRange {\n  border-radius: 0 50px 50px 0;\n}\n.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),\n.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {\n  -webkit-box-shadow: -10px 0 0 #569ff7;\n          box-shadow: -10px 0 0 #569ff7;\n}\n.flatpickr-day.selected.startRange.endRange,\n.flatpickr-day.startRange.startRange.endRange,\n.flatpickr-day.endRange.startRange.endRange {\n  border-radius: 50px;\n}\n.flatpickr-day.inRange {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n          box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover,\n.flatpickr-day.prevMonthDay,\n.flatpickr-day.nextMonthDay,\n.flatpickr-day.notAllowed,\n.flatpickr-day.notAllowed.prevMonthDay,\n.flatpickr-day.notAllowed.nextMonthDay {\n  color: rgba(57,57,57,0.3);\n  background: transparent;\n  border-color: transparent;\n  cursor: default;\n}\n.flatpickr-day.flatpickr-disabled,\n.flatpickr-day.flatpickr-disabled:hover {\n  cursor: not-allowed;\n  color: rgba(57,57,57,0.1);\n}\n.flatpickr-day.week.selected {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #569ff7, 5px 0 0 #569ff7;\n          box-shadow: -5px 0 0 #569ff7, 5px 0 0 #569ff7;\n}\n.flatpickr-day.hidden {\n  visibility: hidden;\n}\n.rangeMode .flatpickr-day {\n  margin-top: 1px;\n}\n.flatpickr-weekwrapper {\n  float: left;\n}\n.flatpickr-weekwrapper .flatpickr-weeks {\n  padding: 0 12px;\n  -webkit-box-shadow: 1px 0 0 #e6e6e6;\n          box-shadow: 1px 0 0 #e6e6e6;\n}\n.flatpickr-weekwrapper .flatpickr-weekday {\n  float: none;\n  width: 100%;\n  line-height: 28px;\n}\n.flatpickr-weekwrapper span.flatpickr-day,\n.flatpickr-weekwrapper span.flatpickr-day:hover {\n  display: block;\n  width: 100%;\n  max-width: none;\n  color: rgba(57,57,57,0.3);\n  background: transparent;\n  cursor: default;\n  border: none;\n}\n.flatpickr-innerContainer {\n  display: block;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n.flatpickr-rContainer {\n  display: inline-block;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.flatpickr-time {\n  text-align: center;\n  outline: 0;\n  display: block;\n  height: 0;\n  line-height: 40px;\n  max-height: 40px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-time:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.flatpickr-time .numInputWrapper {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  width: 40%;\n  height: 40px;\n  float: left;\n}\n.flatpickr-time .numInputWrapper span.arrowUp:after {\n  border-bottom-color: #393939;\n}\n.flatpickr-time .numInputWrapper span.arrowDown:after {\n  border-top-color: #393939;\n}\n.flatpickr-time.hasSeconds .numInputWrapper {\n  width: 26%;\n}\n.flatpickr-time.time24hr .numInputWrapper {\n  width: 49%;\n}\n.flatpickr-time input {\n  background: transparent;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  border: 0;\n  border-radius: 0;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: inherit;\n  line-height: inherit;\n  color: #393939;\n  font-size: 14px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-appearance: textfield;\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n.flatpickr-time input.flatpickr-hour {\n  font-weight: bold;\n}\n.flatpickr-time input.flatpickr-minute,\n.flatpickr-time input.flatpickr-second {\n  font-weight: 400;\n}\n.flatpickr-time input:focus {\n  outline: 0;\n  border: 0;\n}\n.flatpickr-time .flatpickr-time-separator,\n.flatpickr-time .flatpickr-am-pm {\n  height: inherit;\n  float: left;\n  line-height: inherit;\n  color: #393939;\n  font-weight: bold;\n  width: 2%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-align-self: center;\n      -ms-flex-item-align: center;\n          align-self: center;\n}\n.flatpickr-time .flatpickr-am-pm {\n  outline: 0;\n  width: 18%;\n  cursor: pointer;\n  text-align: center;\n  font-weight: 400;\n}\n.flatpickr-time input:hover,\n.flatpickr-time .flatpickr-am-pm:hover,\n.flatpickr-time input:focus,\n.flatpickr-time .flatpickr-am-pm:focus {\n  background: #eee;\n}\n.flatpickr-input[readonly] {\n  cursor: pointer;\n}\n@-webkit-keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n            transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n            transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0);\n  }\n}\n');function fu(t){var n,r;return{c(){T(n=x("input"),"type","date"),T(n,"class",t.className+" svelte-4yoq4p"),T(n,"placeholder",t.placeholder),r=S(n,"input",t.input_input_handler)},m(e,r){w(e,n,r),n.value=t.value,t.input_binding(n)},p(e,t){e.value&&(n.value=t.value),e.className&&T(n,"class",t.className+" svelte-4yoq4p"),e.placeholder&&T(n,"placeholder",t.placeholder)},i:e,o:e,d(e){e&&k(n),t.input_binding(null),r()}}}function pu(e,t,n){const r=V();let o,i,{value:a,placeholder:s="",className:c="",options:u={}}=t;const l=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);var d;L(()=>{n("fp",i=lu(o,f(u)))}),d=(()=>{i&&"destroy"in i&&i.destroy()}),Q().$$.on_destroy.push(d);const f=e=>{e=Object.assign({},e);for(const t of l){const n=(e,n,o)=>{r(h(t),[e,n,o])};t in e?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n)):e[t]=[n]}return e.onChange&&!e.onChange.includes(p)&&e.onChange.push(p),e},p=e=>{Array.isArray(e)&&1===e.length&&(e=e[0]),n("value",a=e)},h=e=>e.charAt(2).toLowerCase()+e.substring(3);return e.$set=(e=>{"value"in e&&n("value",a=e.value),"placeholder"in e&&n("placeholder",s=e.placeholder),"className"in e&&n("className",c=e.className),"options"in e&&n("options",u=e.options)}),e.$$.update=((e={fp:1,value:1})=>{(e.fp||e.value)&&i&&a&&i.setDate(a)}),{dateInput:o,value:a,placeholder:s,className:c,options:u,input_input_handler:function(){a=this.value,n("value",a)},input_binding:function(e){Y[e?"unshift":"push"](()=>{n("dateInput",o=e)})}}}du('.flatpickr-calendar {\n  opacity: 0;\n  display: none;\n  text-align: center;\n  visibility: hidden;\n  padding: 0;\n  -webkit-animation: none;\n  animation: none;\n  direction: ltr;\n  border: 0;\n  font-size: 14px;\n  line-height: 24px;\n  border-radius: 4px;\n  position: absolute;\n  width: 307.875px;\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n  background: rgba(0, 0, 0, 0.9);\n}\n.flatpickr-calendar.open,\n.flatpickr-calendar.inline {\n  opacity: 1;\n  max-height: 640px;\n  visibility: visible;\n}\n.flatpickr-calendar.open {\n  display: inline-block;\n  z-index: 99999;\n}\n.flatpickr-calendar.animate.open {\n  -webkit-animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n  animation: fpFadeInDown 300ms cubic-bezier(0.23, 1, 0.32, 1);\n}\n.flatpickr-calendar.inline {\n  display: block;\n  position: relative;\n  top: 4px;\n}\n.flatpickr-calendar.static {\n  position: absolute;\n  top: calc(100% + 4px);\n}\n.flatpickr-calendar.static.open {\n  z-index: 999;\n  display: block;\n}\n.flatpickr-calendar.multiMonth\n  .flatpickr-days\n  .dayContainer:nth-child(n + 1)\n  .flatpickr-day.inRange:nth-child(7n + 7) {\n  -webkit-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.flatpickr-calendar.multiMonth\n  .flatpickr-days\n  .dayContainer:nth-child(n + 2)\n  .flatpickr-day.inRange:nth-child(7n + 1) {\n  -webkit-box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n  box-shadow: -2px 0 0 #e6e6e6, 5px 0 0 #e6e6e6;\n}\n.flatpickr-calendar .hasWeeks .dayContainer,\n.flatpickr-calendar .hasTime .dayContainer {\n  border-bottom: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.flatpickr-calendar .hasWeeks .dayContainer {\n  border-left: 0;\n}\n.flatpickr-calendar.showTimeInput.hasTime .flatpickr-time {\n  height: 40px;\n  border-top: 1px solid #20222c;\n}\n.flatpickr-calendar.noCalendar.hasTime .flatpickr-time {\n  height: auto;\n}\n.flatpickr-calendar:before,\n.flatpickr-calendar:after {\n  position: absolute;\n  display: block;\n  pointer-events: none;\n  border: solid transparent;\n  content: "";\n  height: 0;\n  width: 0;\n  left: 22px;\n}\n.flatpickr-calendar.rightMost:before,\n.flatpickr-calendar.rightMost:after {\n  left: auto;\n  right: 22px;\n}\n.flatpickr-calendar:before {\n  border-width: 5px;\n  margin: 0 -5px;\n}\n.flatpickr-calendar:after {\n  border-width: 4px;\n  margin: 0 -4px;\n}\n.flatpickr-calendar.arrowTop:before,\n.flatpickr-calendar.arrowTop:after {\n  bottom: 100%;\n}\n.flatpickr-calendar.arrowTop:before {\n  border-bottom-color: #20222c;\n}\n.flatpickr-calendar.arrowTop:after {\n  border-bottom-color: #3f4458;\n}\n.flatpickr-calendar.arrowBottom:before,\n.flatpickr-calendar.arrowBottom:after {\n  top: 100%;\n}\n.flatpickr-calendar.arrowBottom:before {\n  border-top-color: #20222c;\n}\n.flatpickr-calendar.arrowBottom:after {\n  border-top-color: #3f4458;\n}\n.flatpickr-calendar:focus {\n  outline: 0;\n}\n.flatpickr-wrapper {\n  position: relative;\n  display: inline-block;\n}\n.flatpickr-months {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-months .flatpickr-month {\n  background: transparent;\n  color: #fff;\n  fill: #fff;\n  height: 28px;\n  line-height: 1;\n  text-align: center;\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n.flatpickr-months .flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month {\n  text-decoration: none;\n  cursor: pointer;\n  position: absolute;\n  top: 0px;\n  line-height: 16px;\n  height: 28px;\n  padding: 10px;\n  z-index: 3;\n  color: #fff;\n  fill: #fff;\n}\n.flatpickr-months .flatpickr-prev-month.disabled,\n.flatpickr-months .flatpickr-next-month.disabled {\n  display: none;\n}\n.flatpickr-months .flatpickr-prev-month i,\n.flatpickr-months .flatpickr-next-month i {\n  position: relative;\n}\n.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-prev-month {\n  /*\n      /*rtl:begin:ignore*/\n  /*\n      */\n  left: 0;\n  /*\n      /*rtl:end:ignore*/\n  /*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,\n.flatpickr-months .flatpickr-next-month.flatpickr-next-month {\n  /*\n      /*rtl:begin:ignore*/\n  /*\n      */\n  right: 0;\n  /*\n      /*rtl:end:ignore*/\n  /*\n      */\n}\n/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,\n.flatpickr-months .flatpickr-next-month:hover {\n  color: #eee;\n}\n.flatpickr-months .flatpickr-prev-month:hover svg,\n.flatpickr-months .flatpickr-next-month:hover svg {\n  fill: #f64747;\n}\n.flatpickr-months .flatpickr-prev-month svg,\n.flatpickr-months .flatpickr-next-month svg {\n  width: 14px;\n  height: 14px;\n}\n.flatpickr-months .flatpickr-prev-month svg path,\n.flatpickr-months .flatpickr-next-month svg path {\n  -webkit-transition: fill 0.1s;\n  transition: fill 0.1s;\n  fill: inherit;\n}\n.numInputWrapper {\n  position: relative;\n  height: auto;\n}\n.numInputWrapper input,\n.numInputWrapper span {\n  display: inline-block;\n}\n.numInputWrapper input {\n  width: 100%;\n}\n.numInputWrapper input::-ms-clear {\n  display: none;\n}\n.numInputWrapper span {\n  position: absolute;\n  right: 0;\n  width: 14px;\n  padding: 0 4px 0 2px;\n  height: 50%;\n  line-height: 50%;\n  opacity: 0;\n  cursor: pointer;\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.numInputWrapper span:hover {\n  background: rgba(192, 187, 167, 0.1);\n}\n.numInputWrapper span:active {\n  background: rgba(192, 187, 167, 0.2);\n}\n.numInputWrapper span:after {\n  display: block;\n  content: "";\n  position: absolute;\n}\n.numInputWrapper span.arrowUp {\n  top: 0;\n  border-bottom: 0;\n}\n.numInputWrapper span.arrowUp:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid rgba(255, 255, 255, 0.6);\n  top: 26%;\n}\n.numInputWrapper span.arrowDown {\n  top: 50%;\n}\n.numInputWrapper span.arrowDown:after {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid rgba(255, 255, 255, 0.6);\n  top: 40%;\n}\n.numInputWrapper span svg {\n  width: inherit;\n  height: auto;\n}\n.numInputWrapper span svg path {\n  fill: rgba(255, 255, 255, 0.5);\n}\n.numInputWrapper:hover {\n  background: rgba(192, 187, 167, 0.05);\n}\n.numInputWrapper:hover span {\n  opacity: 1;\n}\n.flatpickr-current-month {\n  font-size: 135%;\n  line-height: inherit;\n  font-weight: 300;\n  color: inherit;\n  position: absolute;\n  width: 75%;\n  left: 12.5%;\n  padding: 6.16px 0 0 0;\n  line-height: 1;\n  height: 28px;\n  display: inline-block;\n  text-align: center;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n  transform: translate3d(0px, 0px, 0px);\n}\n.flatpickr-current-month span.cur-month {\n  font-family: inherit;\n  font-weight: 700;\n  color: inherit;\n  display: inline-block;\n  margin-left: 0.5ch;\n  padding: 0;\n}\n.flatpickr-current-month span.cur-month:hover {\n  background: rgba(192, 187, 167, 0.05);\n}\n.flatpickr-current-month .numInputWrapper {\n  width: 6ch;\n  width: 7ch\\0;\n  display: inline-block;\n}\n.flatpickr-current-month .numInputWrapper span.arrowUp:after {\n  border-bottom-color: #fff;\n}\n.flatpickr-current-month .numInputWrapper span.arrowDown:after {\n  border-top-color: #fff;\n}\n.flatpickr-current-month input.cur-year {\n  background: transparent;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: text;\n  padding: 0 0 0 0.5ch;\n  margin: 0;\n  display: inline-block;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: 300;\n  line-height: inherit;\n  height: auto;\n  border: 0;\n  border-radius: 0;\n  vertical-align: initial;\n}\n.flatpickr-current-month input.cur-year:focus {\n  outline: 0;\n}\n.flatpickr-current-month input.cur-year[disabled],\n.flatpickr-current-month input.cur-year[disabled]:hover {\n  font-size: 100%;\n  color: rgba(255, 255, 255, 0.5);\n  background: transparent;\n  pointer-events: none;\n}\n.flatpickr-weekdays {\n  background: transparent;\n  text-align: center;\n  overflow: hidden;\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  height: 28px;\n}\n.flatpickr-weekdays .flatpickr-weekdaycontainer {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\nspan.flatpickr-weekday {\n  cursor: default;\n  font-size: 90%;\n  background: transparent;\n  color: #fff;\n  line-height: 1;\n  margin: 0;\n  text-align: center;\n  display: block;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  font-weight: bolder;\n}\n.dayContainer,\n.flatpickr-weeks {\n  padding: 1px 0 0 0;\n}\n.flatpickr-days {\n  position: relative;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  width: 307.875px;\n}\n.flatpickr-days:focus {\n  outline: 0;\n}\n.dayContainer {\n  padding: 0;\n  outline: 0;\n  text-align: left;\n  width: 307.875px;\n  min-width: 307.875px;\n  max-width: 307.875px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  display: -ms-flexbox;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-around;\n  justify-content: space-around;\n  -webkit-transform: translate3d(0px, 0px, 0px);\n  transform: translate3d(0px, 0px, 0px);\n  opacity: 1;\n}\n.dayContainer + .dayContainer {\n  -webkit-box-shadow: -1px 0 0 #20222c;\n  box-shadow: -1px 0 0 #20222c;\n}\n.flatpickr-day {\n  background: none;\n  border: 1px solid transparent;\n  border-radius: 150px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: rgba(255, 255, 255, 0.95);\n  cursor: pointer;\n  font-weight: 400;\n  width: 14.2857143%;\n  -webkit-flex-basis: 14.2857143%;\n  -ms-flex-preferred-size: 14.2857143%;\n  flex-basis: 14.2857143%;\n  max-width: 39px;\n  height: 39px;\n  line-height: 39px;\n  margin: 0;\n  display: inline-block;\n  position: relative;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  text-align: center;\n}\n.flatpickr-day.inRange,\n.flatpickr-day.prevMonthDay.inRange,\n.flatpickr-day.nextMonthDay.inRange,\n.flatpickr-day.today.inRange,\n.flatpickr-day.prevMonthDay.today.inRange,\n.flatpickr-day.nextMonthDay.today.inRange,\n.flatpickr-day:hover,\n.flatpickr-day.prevMonthDay:hover,\n.flatpickr-day.nextMonthDay:hover,\n.flatpickr-day:focus,\n.flatpickr-day.prevMonthDay:focus,\n.flatpickr-day.nextMonthDay:focus {\n  cursor: pointer;\n  outline: 0;\n  background: #98003c;\n  border-color: #98003c;\n}\n.flatpickr-day.today {\n  border-color: #eee;\n}\n.flatpickr-day.today:hover,\n.flatpickr-day.today:focus {\n  border-color: #eee;\n  background: #eee;\n  color: #3f4458;\n}\n.flatpickr-day.selected,\n.flatpickr-day.startRange,\n.flatpickr-day.endRange,\n.flatpickr-day.selected.inRange,\n.flatpickr-day.startRange.inRange,\n.flatpickr-day.endRange.inRange,\n.flatpickr-day.selected:focus,\n.flatpickr-day.startRange:focus,\n.flatpickr-day.endRange:focus,\n.flatpickr-day.selected:hover,\n.flatpickr-day.startRange:hover,\n.flatpickr-day.endRange:hover,\n.flatpickr-day.selected.prevMonthDay,\n.flatpickr-day.startRange.prevMonthDay,\n.flatpickr-day.endRange.prevMonthDay,\n.flatpickr-day.selected.nextMonthDay,\n.flatpickr-day.startRange.nextMonthDay,\n.flatpickr-day.endRange.nextMonthDay {\n  background: #cb2d6f;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  color: #fff;\n  border-color: #cb2d6f;\n}\n.flatpickr-day.selected.startRange,\n.flatpickr-day.startRange.startRange,\n.flatpickr-day.endRange.startRange {\n  border-radius: 50px 0 0 50px;\n}\n.flatpickr-day.selected.endRange,\n.flatpickr-day.startRange.endRange,\n.flatpickr-day.endRange.endRange {\n  border-radius: 0 50px 50px 0;\n}\n.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n + 1)),\n.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n + 1)),\n.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n + 1)) {\n  -webkit-box-shadow: -10px 0 0 #98003c;\n  box-shadow: -10px 0 0 #98003c;\n}\n.flatpickr-day.selected.startRange.endRange,\n.flatpickr-day.startRange.startRange.endRange,\n.flatpickr-day.endRange.startRange.endRange {\n  border-radius: 50px;\n}\n.flatpickr-day.inRange {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #98003c, 5px 0 0 #98003c;\n  box-shadow: -5px 0 0 #98003c, 5px 0 0 #98003c;\n}\n.flatpickr-day.disabled,\n.flatpickr-day.disabled:hover,\n.flatpickr-day.prevMonthDay,\n.flatpickr-day.nextMonthDay,\n.flatpickr-day.notAllowed,\n.flatpickr-day.notAllowed.prevMonthDay,\n.flatpickr-day.notAllowed.nextMonthDay {\n  color: rgba(255, 255, 255, 0.3);\n  background: transparent;\n  border-color: transparent;\n  cursor: default;\n}\n.flatpickr-day.disabled,\n.flatpickr-day.disabled:hover {\n  cursor: not-allowed;\n  color: rgba(255, 255, 255, 0.1);\n}\n.flatpickr-day.week.selected {\n  border-radius: 0;\n  -webkit-box-shadow: -5px 0 0 #80cbc4, 5px 0 0 #80cbc4;\n  box-shadow: -5px 0 0 #80cbc4, 5px 0 0 #80cbc4;\n}\n.flatpickr-day.hidden {\n  visibility: hidden;\n}\n.rangeMode .flatpickr-day {\n  margin-top: 1px;\n}\n.flatpickr-weekwrapper {\n  display: inline-block;\n  float: left;\n}\n.flatpickr-weekwrapper .flatpickr-weeks {\n  padding: 0 12px;\n  -webkit-box-shadow: 1px 0 0 #20222c;\n  box-shadow: 1px 0 0 #20222c;\n}\n.flatpickr-weekwrapper .flatpickr-weekday {\n  float: none;\n  width: 100%;\n  line-height: 28px;\n}\n.flatpickr-weekwrapper span.flatpickr-day,\n.flatpickr-weekwrapper span.flatpickr-day:hover {\n  display: block;\n  width: 100%;\n  max-width: none;\n  color: rgba(255, 255, 255, 0.3);\n  background: transparent;\n  cursor: default;\n  border: none;\n}\n.flatpickr-innerContainer {\n  display: block;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.flatpickr-rContainer {\n  display: inline-block;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.flatpickr-time {\n  text-align: center;\n  outline: 0;\n  display: block;\n  height: 0;\n  line-height: 40px;\n  max-height: 40px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.flatpickr-time:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.flatpickr-time .numInputWrapper {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  width: 40%;\n  height: 40px;\n  float: left;\n}\n.flatpickr-time .numInputWrapper span.arrowUp:after {\n  border-bottom-color: rgba(255, 255, 255, 0.95);\n}\n.flatpickr-time .numInputWrapper span.arrowDown:after {\n  border-top-color: rgba(255, 255, 255, 0.95);\n}\n.flatpickr-time.hasSeconds .numInputWrapper {\n  width: 26%;\n}\n.flatpickr-time.time24hr .numInputWrapper {\n  width: 49%;\n}\n.flatpickr-time input {\n  background: transparent;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: 0;\n  border-radius: 0;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: inherit;\n  line-height: inherit;\n  color: rgba(255, 255, 255, 0.95);\n  font-size: 14px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.flatpickr-time input.flatpickr-hour {\n  font-weight: bold;\n}\n.flatpickr-time input.flatpickr-minute,\n.flatpickr-time input.flatpickr-second {\n  font-weight: 400;\n}\n.flatpickr-time input:focus {\n  outline: 0;\n  border: 0;\n}\n.flatpickr-time .flatpickr-time-separator,\n.flatpickr-time .flatpickr-am-pm {\n  height: inherit;\n  display: inline-block;\n  float: left;\n  line-height: inherit;\n  color: rgba(255, 255, 255, 0.95);\n  font-weight: bold;\n  width: 2%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-align-self: center;\n  -ms-flex-item-align: center;\n  align-self: center;\n}\n.flatpickr-time .flatpickr-am-pm {\n  outline: 0;\n  width: 18%;\n  cursor: pointer;\n  text-align: center;\n  font-weight: 400;\n}\n.flatpickr-time input:hover,\n.flatpickr-time .flatpickr-am-pm:hover,\n.flatpickr-time input:focus,\n.flatpickr-time .flatpickr-am-pm:focus {\n  background: #707999;\n}\n.flatpickr-input[readonly] {\n  cursor: pointer;\n}\n@-webkit-keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes fpFadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -20px, 0);\n    transform: translate3d(0, -20px, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n');class hu extends be{constructor(e){super(),ye(this,e,pu,fu,s,["value","placeholder","className","options"])}}function mu(e){var t;return{c(){t=C("Create")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function gu(e){var t;return{c(){t=C("Edit")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function vu(e){var t,n,r,o,a,s,c,u,l,d,f,p,h,m,g,v,y;function $(e){return e.defaultDate?gu:mu}var D=$(e),_=D(e),M=new Ga({props:{errors:e.errors}});function N(t){e.input0_value_binding.call(null,t),s=!0,X(()=>s=!1)}let q={label:"Name",placeholder:"i.e. 'Autumn 1978'",required:!0};void 0!==e.name&&(q.value=e.name);var A=new Ya({props:q});function R(t){e.datepicker_value_binding.call(null,t),d=!0,X(()=>d=!1)}Y.push(()=>he(A,"value",N));let P={placeholder:"Pick two dates below",className:"input",options:e.options};void 0!==e.defaultDate&&(P.value=e.defaultDate);var F=new hu({props:P});return Y.push(()=>he(F,"value",R)),F.$on("change",e.change_handler),{c(){t=x("h1"),_.c(),n=C(" semester"),r=I(),o=x("form"),M.$$.fragment.c(),a=I(),A.$$.fragment.c(),c=I(),(u=x("label")).textContent="Start and end dates",l=I(),F.$$.fragment.c(),f=I(),p=x("div"),(h=x("button")).textContent="Save term",m=I(),g=x("input"),T(t,"class","title"),T(u,"class","label"),T(h,"type","submit"),T(h,"class","button is-primary"),O(h,"is-loading",e.loading),T(g,"type","reset"),T(g,"class","button"),g.value="Cancel",T(p,"class","buttons svelte-oih4d0"),o.noValidate=!0,T(o,"class","svelte-oih4d0"),y=[S(o,"submit",E(e.handleSubmit)),S(o,"reset",e.reset_handler)]},m(i,s){w(i,t,s),_.m(t,null),b(t,n),w(i,r,s),w(i,o,s),me(M,o,null),b(o,a),me(A,o,null),b(o,c),b(o,u),b(o,l),me(F,o,null),b(o,f),b(o,p),b(p,h),e.button_binding(h),b(p,m),b(p,g),e.form_1_binding(o),v=!0},p(e,r){D!==(D=$(r))&&(_.d(1),(_=D(r))&&(_.c(),_.m(t,n)));var o={};e.errors&&(o.errors=r.errors),M.$set(o);var i={};!s&&e.name&&(i.value=r.name),A.$set(i);var a={};e.options&&(a.options=r.options),!d&&e.defaultDate&&(a.value=r.defaultDate),F.$set(a),e.loading&&O(h,"is-loading",r.loading)},i(e){v||(se(M.$$.fragment,e),se(A.$$.fragment,e),se(F.$$.fragment,e),v=!0)},o(e){ce(M.$$.fragment,e),ce(A.$$.fragment,e),ce(F.$$.fragment,e),v=!1},d(n){n&&k(t),_.d(),n&&(k(r),k(o)),ge(M),ge(A),ge(F),e.button_binding(null),e.form_1_binding(null),i(y)}}}function yu(e,t,n){let r,o,i,a,{errors:s,loading:c,name:u="",defaultDate:l=null}=t;const d=V(),f=e=>{2===e.length&&(i=e[0].toISOString(),a=new Date(e[1].setHours(23,59,59,999)).toISOString())};return e.$set=(e=>{"errors"in e&&n("errors",s=e.errors),"loading"in e&&n("loading",c=e.loading),"name"in e&&n("name",u=e.name),"defaultDate"in e&&n("defaultDate",l=e.defaultDate)}),e.$$.update=((e={saveButton:1,loading:1})=>{(e.saveButton||e.loading)&&r&&(r.disabled=c,n("saveButton",r),n("loading",c))}),{saveButton:r,form:o,errors:s,loading:c,name:u,defaultDate:l,options:{inline:!0,mode:"range",enableTime:!1,altInput:!0,altFormat:"M j, Y",dateFormat:"Y-m-d"},handleChange:f,handleSubmit:()=>{o.checkValidity()?d("submit",{name:u,startDate:i,endDate:a}):Ce.add({text:"Please fix form errors first.",type:"danger"})},reset_handler:function(t){U(e,t)},input0_value_binding:function(e){n("name",u=e)},datepicker_value_binding:function(e){n("defaultDate",l=e)},change_handler:function(e){return f(...e.detail)},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("saveButton",r=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",o=e)})}}}class bu extends be{constructor(e){super(),ye(this,e,yu,vu,s,["errors","loading","name","defaultDate"])}}function wu(e){var t,n=new bu({props:{errors:e.errors,loading:e.loading}});return n.$on("reset",e.reset),n.$on("submit",e.save),{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.errors&&(r.errors=t.errors),e.loading&&(r.loading=t.loading),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function ku(e){var t,n,r,o,i;function a(t){e.modal_open_binding.call(null,t),r=!0,X(()=>r=!1)}let s={$$slots:{default:[wu]},$$scope:{ctx:e}};void 0!==e.open&&(s.open=e.open);var c=new Tc({props:s});return Y.push(()=>he(c,"open",a)),{c(){(t=x("button")).innerHTML='<i class="fas fa-plus svelte-9sak9p"></i>Create a term',n=I(),c.$$.fragment.c(),T(t,"class","button is-primary svelte-9sak9p"),i=S(t,"click",e.click_handler)},m(e,r){w(e,t,r),w(e,n,r),me(c,e,r),o=!0},p(e,t){var n={};(e.$$scope||e.errors||e.loading)&&(n.$$scope={changed:e,ctx:t}),!r&&e.open&&(n.open=t.open),c.$set(n)},i(e){o||(se(c.$$.fragment,e),o=!0)},o(e){ce(c.$$.fragment,e),o=!1},d(e){e&&(k(t),k(n)),ge(c,e),i()}}}function xu(e,t,n){let r=!1,o="",i=!1;const a=()=>{n("errors",o=""),n("open",i=!1)};return{loading:r,errors:o,open:i,reset:a,save:async({detail:e})=>{n("loading",r=!0);try{await qo(So,{mutation:ga,variables:{...e},update:(e,{data:{createTerm:t}})=>{const n=e.readQuery({query:gc});n.terms.push(t),e.writeQuery({query:gc,data:n})}}),Ce.add({text:`Saved new term '${e.name}'`,type:"success"}),a()}catch(e){n("errors",o=e),Ce.add({text:"Could not save new term.",type:"danger"})}finally{n("loading",r=!1)}},click_handler:function(){n("open",i=!0)},modal_open_binding:function(e){n("open",i=e)}}}class $u extends be{constructor(e){super(),ye(this,e,xu,ku,s,[])}}function Cu(e,t,n){const r=Object.create(e);return r.term=t[n],r}function Iu(e){var t,n,r=e.currentTerm.courses&&Su(e);return{c(){t=x("section"),r&&r.c(),T(t,"class","term svelte-h2b9fs")},m(e,o){w(e,t,o),r&&r.m(t,null),n=!0},p(e,n){n.currentTerm.courses?r?(r.p(e,n),se(r,1)):((r=Su(n)).c(),se(r,1),r.m(t,null)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){e&&k(t),r&&r.d()}}}function Du(t){var n;return{c(){(n=x("p")).textContent="There is no term currently in session."},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Su(e){var t,n,r,o,i,a,s,c=e.currentTerm.name,u=new uu({props:{courses:e.currentTerm.courses}}),l="Teacher"===e.$auth.role&&Eu(e);return{c(){t=x("h2"),n=C("Current term: "),r=C(c),o=I(),u.$$.fragment.c(),i=I(),l&&l.c(),a=D(),T(t,"class","title is-4")},m(e,c){w(e,t,c),b(t,n),b(t,r),w(e,o,c),me(u,e,c),w(e,i,c),l&&l.m(e,c),w(e,a,c),s=!0},p(e,t){s&&!e.currentTerm||c===(c=t.currentTerm.name)||_(r,c);var n={};e.currentTerm&&(n.courses=t.currentTerm.courses),u.$set(n),"Teacher"===t.$auth.role?l?(l.p(e,t),se(l,1)):((l=Eu(t)).c(),se(l,1),l.m(a.parentNode,a)):l&&(ie(),ce(l,1,1,()=>{l=null}),ae())},i(e){s||(se(u.$$.fragment,e),se(l),s=!0)},o(e){ce(u.$$.fragment,e),ce(l),s=!1},d(e){e&&(k(t),k(o)),ge(u,e),e&&k(i),l&&l.d(e),e&&k(a)}}}function Eu(e){var t,n=new Wc({props:{termId:e.currentTerm.id}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.currentTerm&&(r.termId=t.currentTerm.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Tu(e){var t,n,r,o,i,a=[],s=new Map,c=[Mu,_u],u=[];function l(e){return e.nextTerm?1:0}t=l(e),n=u[t]=c[t](e);var d=e.otherTerms;const f=e=>e.term.id;for(var p=0;p<d.length;p+=1){let t=Cu(e,d,p),n=f(t);s.set(n,a[p]=qu(n,t))}return{c(){for(n.c(),r=I(),p=0;p<a.length;p+=1)a[p].c();o=D()},m(e,n){for(u[t].m(e,n),w(e,r,n),p=0;p<a.length;p+=1)a[p].m(e,n);w(e,o,n),i=!0},p(e,i){var d=t;(t=l(i))===d?u[t].p(e,i):(ie(),ce(u[d],1,1,()=>{u[d]=null}),ae(),(n=u[t])||(n=u[t]=c[t](i)).c(),se(n,1),n.m(r.parentNode,r));const p=i.otherTerms;ie(),a=pe(a,e,f,1,i,p,s,o.parentNode,fe,qu,o,Cu),ae()},i(e){if(!i){se(n);for(var t=0;t<d.length;t+=1)se(a[t]);i=!0}},o(e){for(ce(n),p=0;p<a.length;p+=1)ce(a[p]);i=!1},d(e){for(u[t].d(e),e&&k(r),p=0;p<a.length;p+=1)a[p].d(e);e&&k(o)}}}function _u(e){var t,n,r=e.nextTerm.courses&&Ou(e);return{c(){t=x("section"),r&&r.c(),T(t,"class","term svelte-h2b9fs")},m(e,o){w(e,t,o),r&&r.m(t,null),n=!0},p(e,n){n.nextTerm.courses?r?(r.p(e,n),se(r,1)):((r=Ou(n)).c(),se(r,1),r.m(t,null)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){e&&k(t),r&&r.d()}}}function Mu(t){var n,r,o,i=new $u({});return{c(){(n=x("p")).textContent="There are also no upcoming terms recorded yet.",r=I(),i.$$.fragment.c()},m(e,t){w(e,n,t),w(e,r,t),me(i,e,t),o=!0},p:e,i(e){o||(se(i.$$.fragment,e),o=!0)},o(e){ce(i.$$.fragment,e),o=!1},d(e){e&&(k(n),k(r)),ge(i,e)}}}function Ou(e){var t,n,r,o,i,a,s=e.nextTerm.name,c=new uu({props:{courses:e.nextTerm.courses}}),u=new Wc({props:{termId:e.nextTerm.id}});return{c(){t=x("h2"),n=C("Next term: "),r=C(s),o=I(),c.$$.fragment.c(),i=I(),u.$$.fragment.c(),T(t,"class","title is-4")},m(e,s){w(e,t,s),b(t,n),b(t,r),w(e,o,s),me(c,e,s),w(e,i,s),me(u,e,s),a=!0},p(e,t){a&&!e.nextTerm||s===(s=t.nextTerm.name)||_(r,s);var n={};e.nextTerm&&(n.courses=t.nextTerm.courses),c.$set(n);var o={};e.nextTerm&&(o.termId=t.nextTerm.id),u.$set(o)},i(e){a||(se(c.$$.fragment,e),se(u.$$.fragment,e),a=!0)},o(e){ce(c.$$.fragment,e),ce(u.$$.fragment,e),a=!1},d(e){e&&(k(t),k(o)),ge(c,e),e&&k(i),ge(u,e)}}}function Nu(e){var t,n=new uu({props:{courses:e.term.courses}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.otherTerms&&(r.courses=t.term.courses),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function qu(e,t){var n,r,o,i,a,s,c,u=t.term.name,l=t.term.courses&&t.term.courses.length>0&&Nu(t),d=new Wc({props:{termId:t.term.id}});return{key:e,first:null,c(){n=x("section"),r=x("h2"),o=C(u),i=I(),l&&l.c(),a=I(),d.$$.fragment.c(),s=I(),T(r,"class","title is-4"),T(n,"class","term svelte-h2b9fs"),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),l&&l.m(n,null),b(n,a),me(d,n,null),b(n,s),c=!0},p(e,t){c&&!e.otherTerms||u===(u=t.term.name)||_(o,u),t.term.courses&&t.term.courses.length>0?l?(l.p(e,t),se(l,1)):((l=Nu(t)).c(),se(l,1),l.m(n,a)):l&&(ie(),ce(l,1,1,()=>{l=null}),ae());var r={};e.otherTerms&&(r.termId=t.term.id),d.$set(r)},i(e){c||(se(l),se(d.$$.fragment,e),c=!0)},o(e){ce(l),ce(d.$$.fragment,e),c=!1},d(e){e&&k(n),l&&l.d(),ge(d)}}}function Au(e){var t;return{c(){(t=x("a")).textContent="Join a course",T(t,"href","#/join-course"),T(t,"class","button")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Ru(e){var t,n,r,o,i,a,s=[Du,Iu],c=[];function u(e){return e.currentTerm?1:0}t=u(e),n=c[t]=s[t](e);var l="Teacher"===e.$auth.role&&Tu(e),d="Student"===e.$auth.role&&Au();return{c(){n.c(),r=I(),l&&l.c(),o=I(),d&&d.c(),i=D()},m(e,n){c[t].m(e,n),w(e,r,n),l&&l.m(e,n),w(e,o,n),d&&d.m(e,n),w(e,i,n),a=!0},p(e,a){var f=t;(t=u(a))===f?c[t].p(e,a):(ie(),ce(c[f],1,1,()=>{c[f]=null}),ae(),(n=c[t])||(n=c[t]=s[t](a)).c(),se(n,1),n.m(r.parentNode,r)),"Teacher"===a.$auth.role?l?(l.p(e,a),se(l,1)):((l=Tu(a)).c(),se(l,1),l.m(o.parentNode,o)):l&&(ie(),ce(l,1,1,()=>{l=null}),ae()),"Student"===a.$auth.role?d||((d=Au()).c(),d.m(i.parentNode,i)):d&&(d.d(1),d=null)},i(e){a||(se(n),se(l),a=!0)},o(e){ce(n),ce(l),a=!1},d(e){c[t].d(e),e&&k(r),l&&l.d(e),e&&k(o),d&&d.d(e),e&&k(i)}}}function Pu(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{terms:o}=t;const i=(new Date).toJSON();let a,s,u;return e.$set=(e=>{"terms"in e&&n("terms",o=e.terms)}),e.$$.update=((e={terms:1,currentTerm:1,nextTerm:1})=>{e.terms&&n("currentTerm",a=o&&o.find(e=>e.startDate<i&&e.endDate>i)),e.terms&&n("nextTerm",s=o&&o.find(e=>e.startDate>i)),(e.terms||e.currentTerm||e.nextTerm)&&n("otherTerms",u=o&&o.filter(e=>(!a||e.id!==a.id)&&(!s||e.id!==s.id)))}),{terms:o,currentTerm:a,nextTerm:s,otherTerms:u,$auth:r}}class Fu extends be{constructor(e){super(),ye(this,e,Pu,Ru,s,["terms"])}}function ju(t){var n,r,o,i,a,s,c,u;return{c(){n=x("div"),r=$("svg"),o=$("path"),i=I(),a=x("p"),s=C("Loading "),c=C(t.what),u=C(" ..."),T(o,"fill","currentColor"),T(o,"d","M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"),T(r,"aria-hidden","true"),T(r,"focusable","false"),T(r,"data-prefix","fas"),T(r,"data-icon","circle-notch"),T(r,"class","svg-inline--fa fa-circle-notch fa-w-16 fa-spin spinner svelte-16ssi7j"),T(r,"role","img"),T(r,"xmlns","http://www.w3.org/2000/svg"),T(r,"viewBox","0 0 512 512"),T(n,"class","svelte-16ssi7j")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),b(n,a),b(a,s),b(a,c),b(a,u)},p(e,t){e.what&&_(c,t.what)},i:e,o:e,d(e){e&&k(n)}}}function Qu(e,t,n){let{what:r="things"}=t;return e.$set=(e=>{"what"in e&&n("what",r=e.what)}),{what:r}}class Lu extends be{constructor(e){super(),ye(this,e,Qu,ju,s,["what"])}}function Vu(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$termsCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Uu(e){var t,n,r=e.result.data&&Bu(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result.data?r?(r.p(e,n),se(r,1)):((r=Bu(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Bu(e){var t,n=new Fu({props:{terms:e.result.data.terms}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$termsCache&&(r.terms=t.result.data.terms),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Yu(t){var n,r=new Lu({props:{what:"terms and courses"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function zu(e){var t,r,o;let i={ctx:e,current:null,token:null,pending:Yu,then:Uu,catch:Vu,value:"result",error:"errors",blocks:[,,,]};return le(r=e.$termsCache,i),{c(){t=D(),i.block.c()},m(e,n){w(e,t,n),i.block.m(e,i.anchor=n),i.mount=(()=>t.parentNode),i.anchor=t,o=!0},p(t,o){e=o,i.ctx=e,"$termsCache"in t&&r!==(r=e.$termsCache)&&le(r,i)||i.block.p(t,n(n({},e),i.resolved))},i(e){o||(se(i.block),o=!0)},o(e){for(let e=0;e<3;e+=1){ce(i.blocks[e])}o=!1},d(e){e&&k(t),i.block.d(e),i.token=null,i=null}}}function Wu(e,t,n){let r;const o=No(So,{query:gc});return c(e,o,e=>{n("$termsCache",r=e)}),{termsCache:o,$termsCache:r}}class Hu extends be{constructor(e){super(),ye(this,e,Wu,zu,s,[])}}const Gu=xe(),Ju=xe(),Ku=xe(),Xu=ke(new Date,e=>{const t=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(t)}),Zu=ke(new Date,e=>{const t=setInterval(()=>{e(new Date)},15e3);return()=>clearInterval(t)}),el=ke(new Date,e=>{const t=setInterval(()=>{e(new Date)},72e5);return()=>clearInterval(t)});function tl(e){var t,n,r,o,i=e.responses.length;return{c(){t=C(i),n=C(" votes ("),r=C(e.percentage),o=C("%)")},m(e,i){w(e,t,i),w(e,n,i),w(e,r,i),w(e,o,i)},p(e,n){e.responses&&i!==(i=n.responses.length)&&_(t,i),e.percentage&&_(r,n.percentage)},d(e){e&&(k(t),k(n),k(r),k(o))}}}function nl(t){var n,r,o,i,a=t.answer.text,s=t.responses.length>0&&tl(t);return{c(){n=x("li"),r=x("strong"),o=C(a),i=I(),s&&s.c()},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),s&&s.m(n,null)},p(e,t){e.answer&&a!==(a=t.answer.text)&&_(o,a),t.responses.length>0?s?s.p(e,t):((s=tl(t)).c(),s.m(n,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&k(n),s&&s.d()}}}function rl(e,t,n){let r,{answer:o,responses:i,totalResponses:a}=t;return e.$set=(e=>{"answer"in e&&n("answer",o=e.answer),"responses"in e&&n("responses",i=e.responses),"totalResponses"in e&&n("totalResponses",a=e.totalResponses)}),e.$$.update=((e={responses:1,totalResponses:1})=>{(e.responses||e.totalResponses)&&n("percentage",r=0!==i.length&&a?parseInt(i.length/a*100):0)}),{answer:o,responses:i,totalResponses:a,percentage:r}}class ol extends be{constructor(e){super(),ye(this,e,rl,nl,s,["answer","responses","totalResponses"])}}function il(e,t,n){const r=Object.create(e);return r.answer=t[n],r}function al(e,t){var n,r;function o(...e){return t.func(t,...e)}var i=new ol({props:{answer:t.answer,responses:t.responses.filter(o),totalResponses:t.responses.length}});return{key:e,first:null,c(){n=D(),i.$$.fragment.c(),this.first=n},m(e,t){w(e,n,t),me(i,e,t),r=!0},p(e,n){t=n;var r={};e.question&&(r.answer=t.answer),(e.responses||e.question)&&(r.responses=t.responses.filter(o)),e.responses&&(r.totalResponses=t.responses.length),i.$set(r)},i(e){r||(se(i.$$.fragment,e),r=!0)},o(e){ce(i.$$.fragment,e),r=!1},d(e){e&&k(n),ge(i,e)}}}function sl(e){var t,n,r,o,i,a,s=e.responses.length,c=[],u=new Map,l=e.question.answers;const d=e=>e.answer.id;for(var f=0;f<l.length;f+=1){let t=il(e,l,f),n=d(t);u.set(n,c[f]=al(n,t))}return{c(){for(t=x("div"),n=x("p"),r=C(s),o=C(" responses total:"),i=I(),f=0;f<c.length;f+=1)c[f].c();T(n,"class","svelte-3b0qz6"),T(t,"class","answers svelte-3b0qz6")},m(e,s){for(w(e,t,s),b(t,n),b(n,r),b(n,o),b(t,i),f=0;f<c.length;f+=1)c[f].m(t,null);a=!0},p(e,n){a&&!e.responses||s===(s=n.responses.length)||_(r,s);const o=n.question.answers;ie(),c=pe(c,e,d,1,n,o,u,t,fe,al,null,il),ae()},i(e){if(!a){for(var t=0;t<l.length;t+=1)se(c[t]);a=!0}},o(e){for(f=0;f<c.length;f+=1)ce(c[f]);a=!1},d(e){for(e&&k(t),f=0;f<c.length;f+=1)c[f].d()}}}function cl(e,t,n){let{question:r}=t,o=[];return L(async()=>{const e=await So.query({query:$c,variables:{questionId:r.id}});n("responses",o=e.data.responses),So.subscribe({query:Ic,variables:{questionId:r.id}}).subscribe({next(e){n("responses",o=[...o,e.data.responses])}})}),e.$set=(e=>{"question"in e&&n("question",r=e.question)}),{question:r,responses:o,func:function({answer:e},t){return t.answer.id===e.id}}}class ul extends be{constructor(e){super(),ye(this,e,cl,sl,s,["question"])}}function ll(e){var t;return{c(){(t=x("span")).innerHTML='<i class="fas fa-check"></i>',T(t,"class","is-pulled-right")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function dl(e){var t,n,r,o,i,a,s,c,u,l=e.asked||e.question.asked?"Send again":"Send",d=new ul({props:{question:e.question}}),f=e.question.asked&&fl(e);return{c(){d.$$.fragment.c(),t=I(),n=x("div"),f&&f.c(),r=I(),o=x("button"),i=x("i"),a=I(),s=C(l),T(i,"class","fas fa-paper-plane svelte-17fxqzj"),T(o,"class","button is-primary svelte-17fxqzj"),O(o,"is-loading",e.loading),T(n,"class","buttons svelte-17fxqzj"),u=S(o,"click",e.send)},m(e,u){me(d,e,u),w(e,t,u),w(e,n,u),f&&f.m(n,null),b(n,r),b(n,o),b(o,i),b(o,a),b(o,s),c=!0},p(e,t){var i={};e.question&&(i.question=t.question),d.$set(i),t.question.asked?f?f.p(e,t):((f=fl(t)).c(),f.m(n,r)):f&&(f.d(1),f=null),c&&!e.asked&&!e.question||l===(l=t.asked||t.question.asked?"Send again":"Send")||_(s,l),e.loading&&O(o,"is-loading",t.loading)},i(e){c||(se(d.$$.fragment,e),c=!0)},o(e){ce(d.$$.fragment,e),c=!1},d(e){ge(d,e),e&&(k(t),k(n)),f&&f.d(),u()}}}function fl(e){var t,n,r,o=fc(new Date(e.question.asked),new Date);return{c(){t=x("span"),n=C("Asked "),r=C(o)},m(e,o){w(e,t,o),b(t,n),b(t,r)},p(e,t){e.question&&o!==(o=fc(new Date(t.question.asked),new Date))&&_(r,o)},d(e){e&&k(t)}}}function pl(e){var t,n,r,o,i,a,s,c,u,l=e.question.order+1,d=e.question.text,f=!e.isCurrent&&ll(),p=e.isCurrent&&dl(e);return{c(){t=x("li"),n=x("div"),r=C(l),o=C(". "),i=C(d),a=I(),f&&f.c(),s=I(),p&&p.c(),T(n,"class","question svelte-17fxqzj"),T(t,"class","svelte-17fxqzj"),O(t,"current",e.isCurrent),u=S(n,"click",e.select)},m(e,u){w(e,t,u),b(t,n),b(n,r),b(n,o),b(n,i),b(n,a),f&&f.m(n,null),b(t,s),p&&p.m(t,null),c=!0},p(e,o){c&&!e.question||l===(l=o.question.order+1)||_(r,l),c&&!e.question||d===(d=o.question.text)||_(i,d),o.isCurrent?f&&(f.d(1),f=null):f||((f=ll()).c(),f.m(n,null)),o.isCurrent?p?(p.p(e,o),se(p,1)):((p=dl(o)).c(),se(p,1),p.m(t,null)):p&&(ie(),ce(p,1,1,()=>{p=null}),ae()),e.isCurrent&&O(t,"current",o.isCurrent)},i(e){c||(se(p),c=!0)},o(e){ce(p),c=!1},d(e){e&&k(t),f&&f.d(),p&&p.d(),u()}}}function hl(e,t,n){let r;c(e,Ku,e=>{n("$currentQuestion",r=e)});let{question:o}=t,i=!1,a=!1;let s;return e.$set=(e=>{"question"in e&&n("question",o=e.question)}),e.$$.update=((e={$currentQuestion:1,question:1})=>{(e.$currentQuestion||e.question)&&n("isCurrent",s=r&&r.id===o.id)}),{question:o,asked:i,loading:a,select:()=>{Ku.set(o)},send:async()=>{n("loading",a=!0);try{qo(So,{mutation:wa,variables:{id:o.id}}),n("asked",i=!0),Ce.add({text:"Successfully sent question",type:"success"})}catch(e){console.error(e),Ce.add({text:"Could not send question",type:"danger"})}finally{n("loading",a=!1)}},isCurrent:s}}class ml extends be{constructor(e){super(),ye(this,e,hl,pl,s,["question"])}}function gl(e,t,n){const r=Object.create(e);return r.question=t[n],r}function vl(e){var t,n,r=[],o=new Map,i=e.questions;const a=e=>e.question.id;for(var s=0;s<i.length;s+=1){let t=gl(e,i,s),n=a(t);o.set(n,r[s]=yl(n,t))}return{c(){for(s=0;s<r.length;s+=1)r[s].c();t=D()},m(e,o){for(s=0;s<r.length;s+=1)r[s].m(e,o);w(e,t,o),n=!0},p(e,n){const i=n.questions;ie(),r=pe(r,e,a,1,n,i,o,t.parentNode,fe,yl,t,gl),ae()},i(e){if(!n){for(var t=0;t<i.length;t+=1)se(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)ce(r[s]);n=!1},d(e){for(s=0;s<r.length;s+=1)r[s].d(e);e&&k(t)}}}function yl(e,t){var n,r,o=new ml({props:{question:t.question}});return{key:e,first:null,c(){n=D(),o.$$.fragment.c(),this.first=n},m(e,t){w(e,n,t),me(o,e,t),r=!0},p(e,t){var n={};e.questions&&(n.question=t.question),o.$set(n)},i(e){r||(se(o.$$.fragment,e),r=!0)},o(e){ce(o.$$.fragment,e),r=!1},d(e){e&&k(n),ge(o,e)}}}function bl(e){var t,n,r,o,i,a,s=e.questions&&e.questions.length&&vl(e);return{c(){t=x("section"),(n=x("h2")).textContent="Questions",r=I(),(o=x("p")).textContent="Click a question to expand.",i=I(),s&&s.c(),T(n,"class","title is-4"),T(t,"class","question-list svelte-1pqeslw")},m(e,c){w(e,t,c),b(t,n),b(t,r),b(t,o),b(t,i),s&&s.m(t,null),a=!0},p(e,n){n.questions&&n.questions.length?s?(s.p(e,n),se(s,1)):((s=vl(n)).c(),se(s,1),s.m(t,null)):s&&(ie(),ce(s,1,1,()=>{s=null}),ae())},i(e){a||(se(s),a=!0)},o(e){ce(s),a=!1},d(e){e&&k(t),s&&s.d()}}}function wl(e,t,n){let{questions:r}=t;return e.$set=(e=>{"questions"in e&&n("questions",r=e.questions)}),{questions:r}}class kl extends be{constructor(e){super(),ye(this,e,wl,bl,s,["questions"])}}function xl(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$sessionCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function $l(e){var t,n,r=e.result.data.session&&Cl(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result.data.session?r?(r.p(e,n),se(r,1)):((r=Cl(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Cl(e){var t,n=new kl({props:{questions:e.result.data.session.questions}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$sessionCache&&(r.questions=t.result.data.session.questions),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Il(t){var n,r=new Lu({props:{what:"Session data and questions"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Dl(e){var t,r,o;let i={ctx:e,current:null,token:null,pending:Il,then:$l,catch:xl,value:"result",error:"errors",blocks:[,,,]};return le(r=e.$sessionCache,i),{c(){t=D(),i.block.c()},m(e,n){w(e,t,n),i.block.m(e,i.anchor=n),i.mount=(()=>t.parentNode),i.anchor=t,o=!0},p(t,o){e=o,i.ctx=e,"$sessionCache"in t&&r!==(r=e.$sessionCache)&&le(r,i)||i.block.p(t,n(n({},e),i.resolved))},i(e){o||(se(i.block),o=!0)},o(e){for(let e=0;e<3;e+=1){ce(i.blocks[e])}o=!1},d(e){e&&k(t),i.block.d(e),i.token=null,i=null}}}function Sl(e,t,n){let r,o;c(e,Gu,e=>{n("$nowSession",r=e)});const i=No(So,{query:xc,variables:{id:r.id}});return c(e,i,e=>{n("$sessionCache",o=e)}),{sessionCache:i,$sessionCache:o}}class El extends be{constructor(e){super(),ye(this,e,Sl,Dl,s,[])}}function Tl(e,t,n){const r=Object.create(e);return r.answer=t[n],r}function _l(t){var n,r=[],o=new Map,i=t.question.answers;const a=e=>e.answer.id;for(var s=0;s<i.length;s+=1){let e=Tl(t,i,s),n=a(e);o.set(n,r[s]=Nl(n,e))}return{c(){for(n=x("ul"),s=0;s<r.length;s+=1)r[s].c()},m(e,t){for(w(e,n,t),s=0;s<r.length;s+=1)r[s].m(n,null)},p(e,t){const i=t.question.answers;r=pe(r,e,a,1,t,i,o,n,de,Nl,null,Tl)},i:e,o:e,d(e){for(e&&k(n),s=0;s<r.length;s+=1)r[s].d()}}}function Ml(t){var n,r,o;return{c(){n=x("p"),r=C("You Answered: "),o=C(t.answered)},m(e,t){w(e,n,t),b(n,r),b(n,o)},p(e,t){e.answered&&_(o,t.answered)},i:e,o:e,d(e){e&&k(n)}}}function Ol(t){var n,r=new Lu({props:{what:"response"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Nl(e,t){var n,r,o,i,a,s=t.answer.text;function c(){return t.click_handler(t)}return{key:e,first:null,c(){n=x("li"),r=x("button"),o=C(s),i=I(),T(r,"class","button is-primary svelte-uhoexw"),T(n,"class","svelte-uhoexw"),a=S(r,"click",c),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i)},p(e,n){t=n,e.question&&s!==(s=t.answer.text)&&_(o,s)},d(e){e&&k(n),a()}}}function ql(e){var t,n,r,o,i,a,s,c,u=e.question.text,l=new Ga({props:{errors:e.errors}}),d=[Ol,Ml,_l],f=[];function p(e){return e.loading?0:e.answered?1:2}return a=p(e),s=f[a]=d[a](e),{c(){t=x("section"),n=x("h2"),r=C(u),o=I(),l.$$.fragment.c(),i=I(),s.c(),T(n,"class","title"),T(t,"class","question svelte-uhoexw")},m(e,s){w(e,t,s),b(t,n),b(n,r),b(t,o),me(l,t,null),b(t,i),f[a].m(t,null),c=!0},p(e,n){c&&!e.question||u===(u=n.question.text)||_(r,u);var o={};e.errors&&(o.errors=n.errors),l.$set(o);var i=a;(a=p(n))===i?f[a].p(e,n):(ie(),ce(f[i],1,1,()=>{f[i]=null}),ae(),(s=f[a])||(s=f[a]=d[a](n)).c(),se(s,1),s.m(t,null))},i(e){c||(se(l.$$.fragment,e),se(s),c=!0)},o(e){ce(l.$$.fragment,e),ce(s),c=!1},d(e){e&&k(t),ge(l),f[a].d()}}}function Al(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{question:o}=t,i="",a=!1,s="";const u=async e=>{n("loading",a=!0);try{await qo(So,{mutation:$a,variables:{questionId:o.id,answerId:e.id,studentId:r.id,sessionId:o.session.id}}),n("answered",i=e.text)}catch(e){n("errors",s=e)}finally{n("loading",a=!1)}};return e.$set=(e=>{"question"in e&&n("question",o=e.question)}),{question:o,answered:i,loading:a,errors:s,respond:u,click_handler:function({answer:e}){u(e)}}}class Rl extends be{constructor(e){super(),ye(this,e,Al,ql,s,["question"])}}function Pl(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function Fl(e){var t,n=new Rl({props:{question:e.result.data.questions}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$newQuestions&&(r.question=t.result.data.questions),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function jl(t){var n;return{c(){n=C("Waiting for questions...")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Ql(e){var t,r,o;let i={ctx:e,current:null,token:null,pending:jl,then:Fl,catch:Pl,value:"result",error:"null",blocks:[,,,]};return le(r=e.$newQuestions,i),{c(){t=D(),i.block.c()},m(e,n){w(e,t,n),i.block.m(e,i.anchor=n),i.mount=(()=>t.parentNode),i.anchor=t,o=!0},p(t,o){e=o,i.ctx=e,"$newQuestions"in t&&r!==(r=e.$newQuestions)&&le(r,i)||i.block.p(t,n(n({},e),i.resolved))},i(e){o||(se(i.block),o=!0)},o(e){for(let e=0;e<3;e+=1){ce(i.blocks[e])}o=!1},d(e){e&&k(t),i.block.d(e),i.token=null,i=null}}}function Ll(e,t,n){let r,o;c(e,Gu,e=>{n("$nowSession",r=e)});const i=(a=So,s={query:Cc,variables:{sessionId:r.id}},Mo(a.subscribe(s)));var a,s;return c(e,i,e=>{n("$newQuestions",o=e)}),{newQuestions:i,$newQuestions:o}}class Vl extends be{constructor(e){super(),ye(this,e,Ll,Ql,s,[])}}function Ul(e){var t,n,r,o,i,a,s,c=e.formatDate(new e.Date(e.$nowSession.endsAt));return{c(){t=x("p"),n=C("This class was scheduled to end "),r=C(c),o=C("."),i=I(),(a=x("button")).textContent="Exit class",T(a,"class","button is-primary"),s=S(a,"click",e.exit)},m(e,s){w(e,t,s),b(t,n),b(t,r),b(t,o),w(e,i,s),w(e,a,s)},p(e,t){e.$nowSession&&c!==(c=t.formatDate(new t.Date(t.$nowSession.endsAt)))&&_(r,c)},d(e){e&&(k(t),k(i),k(a)),s()}}}function Bl(e){var t,n=new El({});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Yl(e){var t,n=new Vl({});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function zl(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g=e.$nowSession.course.name,v=e.$nowSession.order,y=e.formatDate(new e.Date(e.$nowSession.startsAt),{addSuffix:!0}),$=e.classIsOver&&Ul(e),S="Teacher"===e.$auth.role&&Bl(),E="Student"===e.$auth.role&&Yl();return{c(){t=x("h1"),n=C(g),r=I(),o=x("p"),i=C("Lesson "),a=C(v),s=I(),c=x("p"),u=C("Started "),l=C(y),d=I(),$&&$.c(),f=I(),S&&S.c(),p=I(),E&&E.c(),h=D(),T(t,"class","title"),T(o,"class","subtitle")},m(e,g){w(e,t,g),b(t,n),w(e,r,g),w(e,o,g),b(o,i),b(o,a),w(e,s,g),w(e,c,g),b(c,u),b(c,l),w(e,d,g),$&&$.m(e,g),w(e,f,g),S&&S.m(e,g),w(e,p,g),E&&E.m(e,g),w(e,h,g),m=!0},p(e,t){m&&!e.$nowSession||g===(g=t.$nowSession.course.name)||_(n,g),m&&!e.$nowSession||v===(v=t.$nowSession.order)||_(a,v),m&&!e.$nowSession||y===(y=t.formatDate(new t.Date(t.$nowSession.startsAt),{addSuffix:!0}))||_(l,y),t.classIsOver?$?$.p(e,t):(($=Ul(t)).c(),$.m(f.parentNode,f)):$&&($.d(1),$=null),"Teacher"===t.$auth.role?S?se(S,1):((S=Bl()).c(),se(S,1),S.m(p.parentNode,p)):S&&(ie(),ce(S,1,1,()=>{S=null}),ae()),"Student"===t.$auth.role?E?se(E,1):((E=Yl()).c(),se(E,1),E.m(h.parentNode,h)):E&&(ie(),ce(E,1,1,()=>{E=null}),ae())},i(e){m||(se(S),se(E),m=!0)},o(e){ce(S),ce(E),m=!1},d(e){e&&(k(t),k(r),k(o),k(s),k(c),k(d)),$&&$.d(e),e&&k(f),S&&S.d(e),e&&k(p),E&&E.d(e),e&&k(h)}}}function Wl(e,t,n){let r,o,i;c(e,Gu,e=>{n("$nowSession",r=e)}),c(e,Zu,e=>{n("$every15Seconds",o=e)}),c(e,Ia,e=>{n("$auth",i=e)});let a;return e.$$.update=((e={$nowSession:1,$every15Seconds:1})=>{(e.$nowSession||e.$every15Seconds)&&n("classIsOver",a=r.endsAt<o.toJSON())}),{formatDate:e=>{const t=fc(new Date(e),new Date);return t.charAt(0).toUpperCase()+t.slice(1)},exit:()=>{r.set()},Date:Date,$nowSession:r,classIsOver:a,$auth:i}}class Hl extends be{constructor(e){super(),ye(this,e,Wl,zl,s,[])}}function Gl(t){var n,r=new Hu({});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Jl(t){var n,r,o,i,a,s,c,u,l,d,f,p,h=t.$imminentSession.course.name,m=t.$imminentSession.order,g=lc(new Date(t.$imminentSession.startsAt),new Date,{addSuffix:!0});return{c(){n=x("section"),r=x("h2"),o=C(h),i=I(),a=x("h2"),s=C("Lesson "),c=C(m),u=I(),(l=x("p")).textContent="starts in...",d=I(),f=x("p"),p=C(g),T(r,"class","title is-3"),T(a,"class","subtitle is-5"),T(f,"class","big svelte-1oj9jv2"),T(n,"class","countdown svelte-1oj9jv2")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),b(n,a),b(a,s),b(a,c),b(n,u),b(n,l),b(n,d),b(n,f),b(f,p)},p(e,t){e.$imminentSession&&h!==(h=t.$imminentSession.course.name)&&_(o,h),e.$imminentSession&&m!==(m=t.$imminentSession.order)&&_(c,m),e.$imminentSession&&g!==(g=lc(new Date(t.$imminentSession.startsAt),new Date,{addSuffix:!0}))&&_(p,g)},i:e,o:e,d(e){e&&k(n)}}}function Kl(t){var n,r=new Hl({});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Xl(e){var t,n,r,o,i,a=[Kl,Jl,Gl],s=[];function c(e){return e.$nowSession?0:e.$imminentSession?1:2}return n=c(e),r=s[n]=a[n](e),{c(){t=I(),r.c(),o=D(),document.title="Dashboard"},m(e,r){w(e,t,r),s[n].m(e,r),w(e,o,r),i=!0},p(e,t){var i=n;(n=c(t))===i?s[n].p(e,t):(ie(),ce(s[i],1,1,()=>{s[i]=null}),ae(),(r=s[n])||(r=s[n]=a[n](t)).c(),se(r,1),r.m(o.parentNode,o))},i(e){i||(se(r),i=!0)},o(e){ce(r),i=!1},d(e){e&&k(t),s[n].d(e),e&&k(o)}}}function Zl(e,t,n){let r,o;return c(e,Gu,e=>{n("$nowSession",r=e)}),c(e,Ju,e=>{n("$imminentSession",o=e)}),{$nowSession:r,$imminentSession:o}}function ed(t){var n,r,o,i,a,s,c,u,l,d,f,p,h,m,g;return{c(){n=x("div"),r=x("section"),(o=x("h1")).innerHTML='<i class="fas fa-frown-open"></i>404\n\t\t\t    ',i=I(),(a=x("h2")).textContent="resource not found",s=I(),c=x("p"),u=C("The path '"),l=C(t.$location),d=C("' leads nowhere"),f=I(),(p=x("p")).innerHTML='It might be wise to return to the <a href="#/">main page</a>.',h=I(),(m=x("button")).innerHTML='<i class="fas fa-backward"></i>go back',T(o,"class","title is-1 primary svelte-vcg24b"),T(a,"class","subtitle is-3"),T(m,"class","button is-link svelte-vcg24b"),T(n,"class","container svelte-vcg24b"),g=S(m,"click",t.click_handler)},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,i),b(r,a),b(r,s),b(r,c),b(c,u),b(c,l),b(c,d),b(r,f),b(r,p),b(r,h),b(r,m)},p(e,t){e.$location&&_(l,t.$location)},i:e,o:e,d(e){e&&k(n),g()}}}function td(e,t,n){let r;return c(e,Ta,e=>{n("$location",r=e)}),{$location:r,click_handler:function(){return Ma()}}}function nd(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g=new Ga({props:{errors:e.errors}});function v(t){e.input_value_binding.call(null,t),d=!0,X(()=>d=!1)}let y={label:"Code word",required:!0};void 0!==e.code&&(y.value=e.code);var $=new Ya({props:y});return Y.push(()=>he($,"value",v)),{c(){t=x("div"),n=x("div"),(r=x("h1")).textContent="Join a course",o=I(),(i=x("p")).textContent="Simply enter the code word given by your instructor and you'll be added to\n      the course roster.",a=I(),s=x("br"),c=I(),g.$$.fragment.c(),u=I(),l=x("form"),$.$$.fragment.c(),f=I(),(p=x("button")).textContent="Join!",T(r,"class","title"),T(p,"type","submit"),T(p,"class","button is-primary"),O(p,"is-loading",e.loading),l.noValidate=!0,T(n,"class","join-course"),T(t,"class","container-centered svelte-fb99qz"),m=S(l,"submit",E(e.join))},m(d,m){w(d,t,m),b(t,n),b(n,r),b(n,o),b(n,i),b(n,a),b(n,s),b(n,c),me(g,n,null),b(n,u),b(n,l),me($,l,null),b(l,f),b(l,p),e.button_binding(p),e.form_1_binding(l),h=!0},p(e,t){var n={};e.errors&&(n.errors=t.errors),g.$set(n);var r={};!d&&e.code&&(r.value=t.code),$.$set(r),e.loading&&O(p,"is-loading",t.loading)},i(e){h||(se(g.$$.fragment,e),se($.$$.fragment,e),h=!0)},o(e){ce(g.$$.fragment,e),ce($.$$.fragment,e),h=!1},d(n){n&&k(t),ge(g),ge($),e.button_binding(null),e.form_1_binding(null),m()}}}function rd(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let o,i,a="",s=!1,u="";return{code:a,form:o,submit:i,loading:s,errors:u,join:async()=>{if(o.checkValidity()){n("loading",s=!0),i.disabled=!0,n("submit",i);try{const e=await qo(So,{mutation:pa,variables:{id:r.id,code:a}});n("errors",u=""),Ce.add({text:`Student ${r.name} added to ${e.data.addStudentToCourse.name}`,type:"success"}),_a("/")}catch(e){n("errors",u=e),Ce.add({text:"registration failed.",type:"danger"})}finally{n("loading",s=!1),i.disabled=!1,n("submit",i)}}else Ce.add({text:"Please fix form errors first.",type:"danger"})},input_value_binding:function(e){n("code",a=e)},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("submit",i=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",o=e)})}}}function od(e){var t,n;const r=e.$$slots.default,o=u(r,e,null);return{c(){t=x("dl"),o&&o.c(),T(t,"class","svelte-1usf7k9")},l(e){o&&o.l(dl_nodes)},m(e,r){w(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&e.$$scope&&o.p(d(r,t,e,null),l(r,t,null))},i(e){n||(se(o,e),n=!0)},o(e){ce(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function id(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$set=(e=>{"$$scope"in e&&n("$$scope",o=e.$$scope)}),{$$slots:r,$$scope:o}}class ad extends be{constructor(e){super(),ye(this,e,id,od,s,[])}}function sd(e,t,n){const r=Object.create(e);return r.course=t[n],r}function cd(e,t,n){const r=Object.create(e);return r.course=t[n],r}function ud(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$me&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function ld(e){var t,n,r=e.result.data&&e.result.data.me&&dd(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result.data&&n.result.data.me?r?(r.p(e,n),se(r,1)):((r=dd(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function dd(e){var t,n=new ad({props:{$$slots:{default:[gd]},$$scope:{ctx:e}}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};(e.$$scope||e.$me)&&(r.$$scope={changed:e,ctx:t}),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function fd(e){var t,n,r,o,i,a=e.result.data.me.coursesAttending.length,s=[],c=new Map,u=e.result.data.me.coursesAttending;const l=e=>e.course.id;for(var d=0;d<u.length;d+=1){let t=cd(e,u,d),n=l(t);c.set(n,s[d]=pd(n,t))}return{c(){for((t=x("dt")).textContent="Courses attending:",n=I(),r=x("dd"),o=C(a),i=C(" total \n        "),d=0;d<s.length;d+=1)s[d].c()},m(e,a){for(w(e,t,a),w(e,n,a),w(e,r,a),b(r,o),b(r,i),d=0;d<s.length;d+=1)s[d].m(r,null)},p(e,t){e.$me&&a!==(a=t.result.data.me.coursesAttending.length)&&_(o,a);const n=t.result.data.me.coursesAttending;s=pe(s,e,l,1,t,n,c,r,de,pd,null,cd)},d(e){for(e&&(k(t),k(n),k(r)),d=0;d<s.length;d+=1)s[d].d()}}}function pd(e,t){var n,r,o=t.course.name;return{key:e,first:null,c(){n=x("li"),r=C(o),this.first=n},m(e,t){w(e,n,t),b(n,r)},p(e,t){e.$me&&o!==(o=t.course.name)&&_(r,o)},d(e){e&&k(n)}}}function hd(e){var t,n,r,o,i,a=e.result.data.me.coursesTeaching.length,s=[],c=new Map,u=e.result.data.me.coursesTeaching;const l=e=>e.course.id;for(var d=0;d<u.length;d+=1){let t=sd(e,u,d),n=l(t);c.set(n,s[d]=md(n,t))}return{c(){for((t=x("dt")).textContent="Courses teaching:",n=I(),r=x("dd"),o=C(a),i=C(" total \n        "),d=0;d<s.length;d+=1)s[d].c()},m(e,a){for(w(e,t,a),w(e,n,a),w(e,r,a),b(r,o),b(r,i),d=0;d<s.length;d+=1)s[d].m(r,null)},p(e,t){e.$me&&a!==(a=t.result.data.me.coursesTeaching.length)&&_(o,a);const n=t.result.data.me.coursesTeaching;s=pe(s,e,l,1,t,n,c,r,de,md,null,sd)},d(e){for(e&&(k(t),k(n),k(r)),d=0;d<s.length;d+=1)s[d].d()}}}function md(e,t){var n,r,o=t.course.name;return{key:e,first:null,c(){n=x("li"),r=C(o),this.first=n},m(e,t){w(e,n,t),b(n,r)},p(e,t){e.$me&&o!==(o=t.course.name)&&_(r,o)},d(e){e&&k(n)}}}function gd(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g,v,y,$,S,E,T,M,O=e.result.data.me.role,N="Student"===e.result.data.me.role?"Student ID:":"Username:",q=e.result.data.me.username,A=e.result.data.me.name,R=e.result.data.me.id,P=e.result.data.me.coursesAttending.length>0&&fd(e),F=e.result.data.me.coursesTeaching.length>0&&hd(e);return{c(){(t=x("dt")).textContent="Role:",n=I(),r=x("dd"),o=C(O),i=I(),a=x("dt"),s=C(N),c=I(),u=x("dd"),l=C(q),d=I(),(f=x("dt")).textContent="Name:",p=I(),h=x("dd"),m=C(A),g=I(),(v=x("dt")).textContent="ID:",y=I(),$=x("dd"),S=C(R),E=I(),P&&P.c(),T=I(),F&&F.c(),M=D()},m(e,k){w(e,t,k),w(e,n,k),w(e,r,k),b(r,o),w(e,i,k),w(e,a,k),b(a,s),w(e,c,k),w(e,u,k),b(u,l),w(e,d,k),w(e,f,k),w(e,p,k),w(e,h,k),b(h,m),w(e,g,k),w(e,v,k),w(e,y,k),w(e,$,k),b($,S),w(e,E,k),P&&P.m(e,k),w(e,T,k),F&&F.m(e,k),w(e,M,k)},p(e,t){e.$me&&O!==(O=t.result.data.me.role)&&_(o,O),e.$me&&N!==(N="Student"===t.result.data.me.role?"Student ID:":"Username:")&&_(s,N),e.$me&&q!==(q=t.result.data.me.username)&&_(l,q),e.$me&&A!==(A=t.result.data.me.name)&&_(m,A),e.$me&&R!==(R=t.result.data.me.id)&&_(S,R),t.result.data.me.coursesAttending.length>0?P?P.p(e,t):((P=fd(t)).c(),P.m(T.parentNode,T)):P&&(P.d(1),P=null),t.result.data.me.coursesTeaching.length>0?F?F.p(e,t):((F=hd(t)).c(),F.m(M.parentNode,M)):F&&(F.d(1),F=null)},d(e){e&&(k(t),k(n),k(r),k(i),k(a),k(c),k(u),k(d),k(f),k(p),k(h),k(g),k(v),k(y),k($),k(E)),P&&P.d(e),e&&k(T),F&&F.d(e),e&&k(M)}}}function vd(t){var n,r=new Lu({props:{what:"User"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function yd(e){var t,r,o,i,a;let s={ctx:e,current:null,token:null,pending:vd,then:ld,catch:ud,value:"result",error:"errors",blocks:[,,,]};return le(i=e.$me,s),{c(){(t=x("h1")).textContent="User Profile",r=I(),o=D(),s.block.c(),T(t,"class","title")},m(e,n){w(e,t,n),w(e,r,n),w(e,o,n),s.block.m(e,s.anchor=n),s.mount=(()=>o.parentNode),s.anchor=o,a=!0},p(t,r){e=r,s.ctx=e,"$me"in t&&i!==(i=e.$me)&&le(i,s)||s.block.p(t,n(n({},e),s.resolved))},i(e){a||(se(s.block),a=!0)},o(e){for(let e=0;e<3;e+=1){ce(s.blocks[e])}a=!1},d(e){e&&(k(t),k(r),k(o)),s.block.d(e),s.token=null,s=null}}}function bd(e,t,n){let r;const o=No(So,{query:pc});return c(e,o,e=>{n("$me",r=e)}),{me:o,$me:r}}function wd(e){var t,n=new Wc({props:{termId:e.term.id}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.term&&(r.termId=t.term.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function kd(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h=e.term.name,m=e.format(e.term.startDate),g=e.format(e.term.endDate);document.title=t=e.term.name;var v=new uu({props:{courses:e.term.courses}}),y="Teacher"===e.$auth.role&&wd(e);return{c(){n=I(),r=x("h1"),o=C(h),i=I(),a=x("p"),s=C(m),c=C(" to "),u=C(g),l=I(),d=x("section"),v.$$.fragment.c(),f=I(),y&&y.c(),T(r,"class","title is-3"),T(a,"class","subtitle"),T(d,"class","term svelte-h2b9fs")},m(e,t){w(e,n,t),w(e,r,t),b(r,o),w(e,i,t),w(e,a,t),b(a,s),b(a,c),b(a,u),w(e,l,t),w(e,d,t),me(v,d,null),b(d,f),y&&y.m(d,null),p=!0},p(e,n){p&&!e.term||t===(t=n.term.name)||(document.title=t),p&&!e.term||h===(h=n.term.name)||_(o,h),p&&!e.term||m===(m=n.format(n.term.startDate))||_(s,m),p&&!e.term||g===(g=n.format(n.term.endDate))||_(u,g);var r={};e.term&&(r.courses=n.term.courses),v.$set(r),"Teacher"===n.$auth.role?y?(y.p(e,n),se(y,1)):((y=wd(n)).c(),se(y,1),y.m(d,null)):y&&(ie(),ce(y,1,1,()=>{y=null}),ae())},i(e){p||(se(v.$$.fragment,e),se(y),p=!0)},o(e){ce(v.$$.fragment,e),ce(y),p=!1},d(e){e&&(k(n),k(r),k(i),k(a),k(l),k(d)),ge(v),y&&y.d()}}}function xd(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{term:o}=t;return e.$set=(e=>{"term"in e&&n("term",o=e.term)}),{term:o,format:e=>{const t=fc(new Date(e),new Date);return t.charAt(0).toUpperCase()+t.slice(1)},$auth:r}}class $d extends be{constructor(e){super(),ye(this,e,xd,kd,s,["term"])}}function Cd(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$termCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Id(e){var t,n,r=e.result&&e.result.data&&e.result.data.term&&Dd(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result&&n.result.data&&n.result.data.term?r?(r.p(e,n),se(r,1)):((r=Dd(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Dd(e){var t,n,r,o=new $d({props:{term:e.result.data.term}});return{c(){(t=x("nav")).innerHTML='<ul><li><a href="#/terms">Terms</a></li></ul>',n=I(),o.$$.fragment.c(),T(t,"class","breadcrumb"),T(t,"aria-label","breadcrumbs")},m(e,i){w(e,t,i),w(e,n,i),me(o,e,i),r=!0},p(e,t){var n={};e.$termCache&&(n.term=t.result.data.term),o.$set(n)},i(e){r||(se(o.$$.fragment,e),r=!0)},o(e){ce(o.$$.fragment,e),r=!1},d(e){e&&(k(t),k(n)),ge(o,e)}}}function Sd(t){var n,r=new Lu({props:{what:"session"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Ed(e){var t,r,o,i;let a={ctx:e,current:null,token:null,pending:Sd,then:Id,catch:Cd,value:"result",error:"errors",blocks:[,,,]};return le(o=e.$termCache,a),{c(){t=I(),r=D(),a.block.c(),document.title="Term Details"},m(e,n){w(e,t,n),w(e,r,n),a.block.m(e,a.anchor=n),a.mount=(()=>r.parentNode),a.anchor=r,i=!0},p(t,r){e=r,a.ctx=e,"$termCache"in t&&o!==(o=e.$termCache)&&le(o,a)||a.block.p(t,n(n({},e),a.resolved))},i(e){i||(se(a.block),i=!0)},o(e){for(let e=0;e<3;e+=1){ce(a.blocks[e])}i=!1},d(e){e&&(k(t),k(r)),a.block.d(e),a.token=null,a=null}}}function Td(e,t,n){let r,{params:o={}}=t;const i=No(So,{query:vc,variables:{id:o.id}});return c(e,i,e=>{n("$termCache",r=e)}),e.$set=(e=>{"params"in e&&n("params",o=e.params)}),{params:o,termCache:i,$termCache:r}}function _d(e){var t,n=new $u({});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Md(e){var t,n,r,o,i,a,s,c="Teacher"===e.$auth.role&&_d(),u=new Hu({});return{c(){t=I(),(n=x("nav")).innerHTML='<ul><li><a href="#/">Home</a></li> <li class="is-active"><a href="#/terms" aria-current="page">Terms</a></li></ul>',r=I(),(o=x("h1")).textContent="All Terms",i=I(),c&&c.c(),a=I(),u.$$.fragment.c(),document.title="Terms",T(n,"class","breadcrumb"),T(n,"aria-label","breadcrumbs"),T(o,"class","title is-3")},m(e,l){w(e,t,l),w(e,n,l),w(e,r,l),w(e,o,l),w(e,i,l),c&&c.m(e,l),w(e,a,l),me(u,e,l),s=!0},p(e,t){"Teacher"===t.$auth.role?c?se(c,1):((c=_d()).c(),se(c,1),c.m(a.parentNode,a)):c&&(ie(),ce(c,1,1,()=>{c=null}),ae())},i(e){s||(se(c),se(u.$$.fragment,e),s=!0)},o(e){ce(c),ce(u.$$.fragment,e),s=!1},d(e){e&&(k(t),k(n),k(r),k(o),k(i)),c&&c.d(e),e&&k(a),ge(u,e)}}}function Od(e,t,n){let r;return c(e,Ia,e=>{n("$auth",r=e)}),{$auth:r}}function Nd(t){var n,r;return{c(){(n=x("button")).innerHTML='<i class="fas fa-user-plus svelte-1t38rqh"></i>Join',T(n,"class","button is-small svelte-1t38rqh"),O(n,"is-loading",t.loading),r=S(n,"click",t.joinCourse)},m(e,t){w(e,n,t)},p(e,t){e.loading&&O(n,"is-loading",t.loading)},i:e,o:e,d(e){e&&k(n),r()}}}function qd(e,t,n){let{user:r,course:o}=t,i=!1;return e.$set=(e=>{"user"in e&&n("user",r=e.user),"course"in e&&n("course",o=e.course)}),{user:r,course:o,loading:i,joinCourse:async()=>{n("loading",i=!0);try{const e=await qo(So,{mutation:ha,variables:{id:r,courseId:o.id}});Ce.add({text:`Successfully added teacher to ${e.data.addTeacherToCourse.name}`,type:"success"})}catch(e){console.error(e),Ce.add({text:"Failed to add teacher to course",type:"danger"})}finally{n("loading",i=!1)}}}}class Ad extends be{constructor(e){super(),ye(this,e,qd,Nd,s,["user","course"])}}function Rd(e){var t,n,r,o,i=new Ga({props:{errors:e.errors}});return{c(){(t=x("button")).textContent="Leave",n=I(),i.$$.fragment.c(),T(t,"class","button is-small"),O(t,"is-loading",e.loading),o=S(t,"click",e.leaveCourse)},m(e,o){w(e,t,o),w(e,n,o),me(i,e,o),r=!0},p(e,n){e.loading&&O(t,"is-loading",n.loading);var r={};e.errors&&(r.errors=n.errors),i.$set(r)},i(e){r||(se(i.$$.fragment,e),r=!0)},o(e){ce(i.$$.fragment,e),r=!1},d(e){e&&(k(t),k(n)),ge(i,e),o()}}}function Pd(e,t,n){let{user:r,course:o}=t,i=!1,a="";return e.$set=(e=>{"user"in e&&n("user",r=e.user),"course"in e&&n("course",o=e.course)}),{user:r,course:o,loading:i,errors:a,leaveCourse:async()=>{n("loading",i=!0);try{const e=await qo(So,{mutation:ma,variables:{id:r,courseId:o.id}});n("errors",a=""),Ce.add({text:`Successfully removed teacher from ${e.data.removeTeacherFromCourse.name}`,type:"success"})}catch(e){n("errors",a=e),Ce.add({text:"Failed remove teacher from course course",type:"danger"})}finally{n("loading",i=!1)}}}}class Fd extends be{constructor(e){super(),ye(this,e,Pd,Rd,s,["user","course"])}}function jd(t){var n,r;return{c(){(n=x("button")).innerHTML='<i class="fas fa-trash svelte-1t38rqh"></i>Delete Course',T(n,"class","button svelte-1t38rqh"),O(n,"is_loading",Qd),r=S(n,"click",t.remove)},m(e,t){w(e,n,t)},p(e,t){e.loading&&O(n,"is_loading",Qd)},i:e,o:e,d(e){e&&k(n),r()}}}const Qd=!1;function Ld(e,t,n){let{course:r}=t;const o=V();return e.$set=(e=>{"course"in e&&n("course",r=e.course)}),{course:r,remove:async()=>{try{await qo(So,{mutation:fa,variables:{id:r.id},update:(e,{data:{deleteCourse:t}})=>{const n=e.readQuery({query:gc});let o=null;const i=n.terms.findIndex(e=>(o=e.courses.findIndex(e=>e.id===r.id))>-1);n.terms[i].courses.splice(o,1),e.writeQuery({query:gc,data:n})}}),Ce.add({text:"Course delete successfully",type:"success"}),o("delete")}catch(e){Ce.add({text:"Course could not be deleted",type:"danger"})}}}}class Vd extends be{constructor(e){super(),ye(this,e,Ld,jd,s,["course"])}}function Ud(e){var t;return{c(){t=C("Create")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Bd(e){var t;return{c(){t=C("Edit")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Yd(e){var t,n,r,o,a,s,c,u,l,d,f,p,h,m,g;function v(e){return e.session.id?Bd:Ud}var y=v(e),$=y(e),D=new Ga({props:{errors:e.errors}});function _(t){e.input0_value_binding.call(null,t),s=!0,X(()=>s=!1)}let M={label:"Start time",type:"datetime-local",required:!0,min:tc(new Date,"yyyy-MM-dd'T'HH:mm")};void 0!==e.startsAt&&(M.value=e.startsAt);var N=new Ya({props:M});function q(t){e.input1_value_binding.call(null,t),u=!0,X(()=>u=!1)}Y.push(()=>he(N,"value",_));let A={label:"End time",type:"datetime-local",required:!0,min:tc(new Date,"yyyy-MM-dd'T'HH:mm")};void 0!==e.endsAt&&(A.value=e.endsAt);var R=new Ya({props:A});return Y.push(()=>he(R,"value",q)),{c(){t=x("h1"),$.c(),n=C(" Session"),r=I(),o=x("form"),D.$$.fragment.c(),a=I(),N.$$.fragment.c(),c=I(),R.$$.fragment.c(),l=I(),d=x("div"),(f=x("button")).textContent="Save session",p=I(),h=x("input"),T(t,"class","title"),T(f,"type","submit"),T(f,"class","button is-primary"),O(f,"is-loading",e.loading),T(h,"type","reset"),T(h,"class","button"),h.value="Cancel",T(d,"class","buttons svelte-oih4d0"),o.noValidate=!0,T(o,"class","svelte-oih4d0"),g=[S(o,"submit",E(e.handleSubmit)),S(o,"reset",e.reset_handler)]},m(i,s){w(i,t,s),$.m(t,null),b(t,n),w(i,r,s),w(i,o,s),me(D,o,null),b(o,a),me(N,o,null),b(o,c),me(R,o,null),b(o,l),b(o,d),b(d,f),e.button_binding(f),b(d,p),b(d,h),e.form_1_binding(o),m=!0},p(e,r){y!==(y=v(r))&&($.d(1),($=y(r))&&($.c(),$.m(t,n)));var o={};e.errors&&(o.errors=r.errors),D.$set(o);var i={};e.format&&(i.min=tc(new Date,"yyyy-MM-dd'T'HH:mm")),!s&&e.startsAt&&(i.value=r.startsAt),N.$set(i);var a={};e.format&&(a.min=tc(new Date,"yyyy-MM-dd'T'HH:mm")),!u&&e.endsAt&&(a.value=r.endsAt),R.$set(a),e.loading&&O(f,"is-loading",r.loading)},i(e){m||(se(D.$$.fragment,e),se(N.$$.fragment,e),se(R.$$.fragment,e),m=!0)},o(e){ce(D.$$.fragment,e),ce(N.$$.fragment,e),ce(R.$$.fragment,e),m=!1},d(n){n&&k(t),$.d(),n&&(k(r),k(o)),ge(D),ge(N),ge(R),e.button_binding(null),e.form_1_binding(null),i(g)}}}function zd(e,t,n){let r,o,{session:i={},startsAt:a="",endsAt:s="",errors:c,loading:u}=t;const l=V();return e.$set=(e=>{"session"in e&&n("session",i=e.session),"startsAt"in e&&n("startsAt",a=e.startsAt),"endsAt"in e&&n("endsAt",s=e.endsAt),"errors"in e&&n("errors",c=e.errors),"loading"in e&&n("loading",u=e.loading)}),e.$$.update=((e={saveButton:1,loading:1})=>{(e.saveButton||e.loading)&&r&&(r.disabled=u,n("saveButton",r),n("loading",u))}),{saveButton:r,form:o,session:i,startsAt:a,endsAt:s,errors:c,loading:u,handleSubmit:()=>{o.checkValidity()?l("submit",{startsAt:a,endsAt:s}):Ce.add({text:"Please fix form errors first.",type:"danger"})},reset_handler:function(t){U(e,t)},input0_value_binding:function(e){n("startsAt",a=e)},input1_value_binding:function(e){n("endsAt",s=e)},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("saveButton",r=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",o=e)})}}}class Wd extends be{constructor(e){super(),ye(this,e,zd,Yd,s,["session","startsAt","endsAt","errors","loading"])}}function Hd(e){var t,n=new Wd({props:{errors:e.errors,loading:e.loading}});return n.$on("reset",e.reset),n.$on("submit",e.save),{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.errors&&(r.errors=t.errors),e.loading&&(r.loading=t.loading),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Gd(e){var t,n,r,o,i;function a(t){e.modal_open_binding.call(null,t),r=!0,X(()=>r=!1)}let s={$$slots:{default:[Hd]},$$scope:{ctx:e}};void 0!==e.open&&(s.open=e.open);var c=new Tc({props:s});return Y.push(()=>he(c,"open",a)),{c(){(t=x("button")).innerHTML='<i class="fas fa-plus svelte-9sak9p"></i>Add a new session',n=I(),c.$$.fragment.c(),T(t,"class","button is-primary svelte-9sak9p"),i=S(t,"click",e.click_handler)},m(e,r){w(e,t,r),w(e,n,r),me(c,e,r),o=!0},p(e,t){var n={};(e.$$scope||e.errors||e.loading)&&(n.$$scope={changed:e,ctx:t}),!r&&e.open&&(n.open=t.open),c.$set(n)},i(e){o||(se(c.$$.fragment,e),o=!0)},o(e){ce(c.$$.fragment,e),o=!1},d(e){e&&(k(t),k(n)),ge(c,e),i()}}}function Jd(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{courseId:o}=t,i=!1,a="",s=!1;const u=()=>{n("errors",a=""),n("open",s=!1)};return e.$set=(e=>{"courseId"in e&&n("courseId",o=e.courseId)}),{courseId:o,loading:i,errors:a,open:s,reset:u,save:async({detail:e})=>{n("loading",i=!0),e.startsAt=new Date(e.startsAt).toISOString(),e.endsAt=new Date(e.endsAt).toISOString();const t=(new Date).toJSON(),s=new Date((new Date).getTime()+864e5).toJSON();try{if(e.startsAt<t||e.endsAt<t)throw new Error("New sessions must be in the future.");if(e.startsAt>e.endsAt)throw new Error("Session ends before it starts.");await qo(So,{mutation:va,variables:{...e,courseId:o},refetchQueries:[{query:bc,variables:{id:o}},{query:hc,variables:{id:r.id,now:t,latest:s}}]}),Ce.add({text:"Saved new session",type:"success"}),u()}catch(e){n("errors",a=e),Ce.add({text:"Could not save new session.",type:"danger"})}finally{n("loading",i=!1)}},click_handler:function(){n("open",s=!0)},modal_open_binding:function(e){n("open",s=e)}}}class Kd extends be{constructor(e){super(),ye(this,e,Jd,Gd,s,["courseId"])}}function Xd(e,t,n){const r=Object.create(e);return r.session=t[n],r}function Zd(e,t,n){const r=Object.create(e);return r.session=t[n],r}function ef(t){var n,r,o,i=t.isEnrolled?"":"n't";return{c(){n=C("You are"),r=C(i),o=C(" enrolled in this class.")},m(e,t){w(e,n,t),w(e,r,t),w(e,o,t)},p(e,t){e.isEnrolled&&i!==(i=t.isEnrolled?"":"n't")&&_(r,i)},i:e,o:e,d(e){e&&(k(n),k(r),k(o))}}}function tf(e){var t,n,r,o,i,a,s,c,u,l=e.isCourseTeacher?"":"n't",d=[rf,nf],f=[];function p(e){return e.isCourseTeacher?1:0}return a=p(e),s=f[a]=d[a](e),{c(){t=x("span"),n=C("You are"),r=C(l),o=C(" a teacher for this class."),i=I(),s.c(),c=D(),T(t,"class","svelte-xkfhrw")},m(e,s){w(e,t,s),b(t,n),b(t,r),b(t,o),w(e,i,s),f[a].m(e,s),w(e,c,s),u=!0},p(e,t){u&&!e.isCourseTeacher||l===(l=t.isCourseTeacher?"":"n't")||_(r,l);var n=a;(a=p(t))===n?f[a].p(e,t):(ie(),ce(f[n],1,1,()=>{f[n]=null}),ae(),(s=f[a])||(s=f[a]=d[a](t)).c(),se(s,1),s.m(c.parentNode,c))},i(e){u||(se(s),u=!0)},o(e){ce(s),u=!1},d(e){e&&(k(t),k(i)),f[a].d(e),e&&k(c)}}}function nf(e){var t,n=new Fd({props:{user:e.$auth.id,course:e.course}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$auth&&(r.user=t.$auth.id),e.course&&(r.course=t.course),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function rf(e){var t,n=new Ad({props:{user:e.$auth.id,course:e.course}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$auth&&(r.user=t.$auth.id),e.course&&(r.course=t.course),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function of(e){var t,n,r,o,i,a=e.future.length>0&&af(e),s=new Kd({props:{courseId:e.course.id}});return{c(){t=x("div"),(n=x("h3")).textContent="Current and future sessions",r=I(),a&&a.c(),o=I(),s.$$.fragment.c(),T(n,"class","title is-5"),T(t,"class","sessions svelte-xkfhrw")},m(e,c){w(e,t,c),b(t,n),b(t,r),a&&a.m(t,null),b(t,o),me(s,t,null),i=!0},p(e,n){n.future.length>0?a?a.p(e,n):((a=af(n)).c(),a.m(t,o)):a&&(a.d(1),a=null);var r={};e.course&&(r.courseId=n.course.id),s.$set(r)},i(e){i||(se(s.$$.fragment,e),i=!0)},o(e){ce(s.$$.fragment,e),i=!1},d(e){e&&k(t),a&&a.d(),ge(s)}}}function af(e){var t,n=[],r=new Map,o=e.future;const i=e=>e.session.id;for(var a=0;a<o.length;a+=1){let t=Zd(e,o,a),s=i(t);r.set(s,n[a]=sf(s,t))}return{c(){for(a=0;a<n.length;a+=1)n[a].c();t=D()},m(e,r){for(a=0;a<n.length;a+=1)n[a].m(e,r);w(e,t,r)},p(e,o){const a=o.future;n=pe(n,e,i,1,o,a,r,t.parentNode,de,sf,t,Zd)},d(e){for(a=0;a<n.length;a+=1)n[a].d(e);e&&k(t)}}}function sf(e,t){var n,r,o,i,a,s,c,u=t.session.order,l=t.formatDate(t.session.startsAt);return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(u),i=C(". "),a=C(l),c=I(),T(r,"href",s="#/session/"+t.session.id),T(n,"class","svelte-xkfhrw"),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,i),b(r,a),b(n,c)},p(e,t){e.future&&u!==(u=t.session.order)&&_(o,u),e.future&&l!==(l=t.formatDate(t.session.startsAt))&&_(a,l),e.future&&s!==(s="#/session/"+t.session.id)&&T(r,"href",s)},d(e){e&&k(n)}}}function cf(e){var t,n,r,o=[],i=new Map,a=e.past;const s=e=>e.session.id;for(var c=0;c<a.length;c+=1){let t=Xd(e,a,c),n=s(t);i.set(n,o[c]=uf(n,t))}return{c(){for(t=x("div"),(n=x("h3")).textContent="Past sessions",r=I(),c=0;c<o.length;c+=1)o[c].c();T(n,"class","title is-5"),T(t,"class","sessions svelte-xkfhrw")},m(e,i){for(w(e,t,i),b(t,n),b(t,r),c=0;c<o.length;c+=1)o[c].m(t,null)},p(e,n){const r=n.past;o=pe(o,e,s,1,n,r,i,t,de,uf,null,Xd)},d(e){for(e&&k(t),c=0;c<o.length;c+=1)o[c].d()}}}function uf(e,t){var n,r,o,i,a,s,c,u=t.session.order,l=t.formatDate(t.session.startsAt);return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(u),i=C(". "),a=C(l),c=I(),T(r,"href",s="#/session/"+t.session.id),T(n,"class","svelte-xkfhrw"),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,i),b(r,a),b(n,c)},p(e,t){e.past&&u!==(u=t.session.order)&&_(o,u),e.past&&l!==(l=t.formatDate(t.session.startsAt))&&_(a,l),e.past&&s!==(s="#/session/"+t.session.id)&&T(r,"href",s)},d(e){e&&k(n)}}}function lf(e){var t,n,r=(!e.course.sessions||0===e.course.sessions.length)&&df(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.course.sessions&&0!==n.course.sessions.length?r&&(ie(),ce(r,1,1,()=>{r=null}),ae()):r?(r.p(e,n),se(r,1)):((r=df(n)).c(),se(r,1),r.m(t.parentNode,t))},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function df(e){var t,n=new Vd({props:{course:e.course}});return n.$on("delete",e.delete_handler),{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.course&&(r.course=t.course),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function ff(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g,v,y,$,D,S,E,M,O=e.course.name,N=e.teacherNames.length>0?e.teacherNames.join(", "):"none",q=e.course.students.length;document.title=t=e.course.name;var A=[tf,ef],R=[];function P(e){return"Teacher"===e.$auth.role?0:1}s=P(e),c=R[s]=A[s](e);var F="Teacher"===e.$auth.role&&of(e),j=e.past.length>0&&cf(e),Q="Teacher"===e.$auth.role&&lf(e);return{c(){n=I(),r=x("h1"),o=C(O),i=I(),a=x("p"),c.c(),u=I(),l=x("div"),d=x("dl"),(f=x("dt")).textContent="Teacher(s):",p=x("dd"),h=C(N),m=I(),(g=x("dt")).textContent="Students:",v=x("dd"),y=C(q),$=I(),F&&F.c(),D=I(),j&&j.c(),S=I(),E=x("div"),Q&&Q.c(),T(r,"class","title is-3"),T(a,"class","subtitle svelte-xkfhrw"),T(f,"class","svelte-xkfhrw"),T(p,"class","svelte-xkfhrw"),T(g,"class","svelte-xkfhrw"),T(v,"class","svelte-xkfhrw"),T(d,"class","svelte-xkfhrw"),T(E,"class","buttons svelte-xkfhrw"),T(l,"class","course-details svelte-xkfhrw")},m(e,t){w(e,n,t),w(e,r,t),b(r,o),w(e,i,t),w(e,a,t),R[s].m(a,null),w(e,u,t),w(e,l,t),b(l,d),b(d,f),b(d,p),b(p,h),b(p,m),b(d,g),b(d,v),b(v,y),b(l,$),F&&F.m(l,null),b(l,D),j&&j.m(l,null),b(l,S),b(l,E),Q&&Q.m(E,null),M=!0},p(e,n){M&&!e.course||t===(t=n.course.name)||(document.title=t),M&&!e.course||O===(O=n.course.name)||_(o,O);var r=s;(s=P(n))===r?R[s].p(e,n):(ie(),ce(R[r],1,1,()=>{R[r]=null}),ae(),(c=R[s])||(c=R[s]=A[s](n)).c(),se(c,1),c.m(a,null)),M&&!e.teacherNames||N===(N=n.teacherNames.length>0?n.teacherNames.join(", "):"none")||_(h,N),M&&!e.course||q===(q=n.course.students.length)||_(y,q),"Teacher"===n.$auth.role?F?(F.p(e,n),se(F,1)):((F=of(n)).c(),se(F,1),F.m(l,D)):F&&(ie(),ce(F,1,1,()=>{F=null}),ae()),n.past.length>0?j?j.p(e,n):((j=cf(n)).c(),j.m(l,S)):j&&(j.d(1),j=null),"Teacher"===n.$auth.role?Q?(Q.p(e,n),se(Q,1)):((Q=lf(n)).c(),se(Q,1),Q.m(E,null)):Q&&(ie(),ce(Q,1,1,()=>{Q=null}),ae())},i(e){M||(se(c),se(F),se(Q),M=!0)},o(e){ce(c),ce(F),ce(Q),M=!1},d(e){e&&(k(n),k(r),k(i),k(a)),R[s].d(),e&&(k(u),k(l)),F&&F.d(),j&&j.d(),Q&&Q.d()}}}function pf(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{course:o}=t;const i=(new Date).toJSON();let a,s,u,l,d;return e.$set=(e=>{"course"in e&&n("course",o=e.course)}),e.$$.update=((e={course:1,$auth:1})=>{(e.course||e.$auth)&&n("isCourseTeacher",a=o.teachers.find(e=>e.id===r.id)),(e.course||e.$auth)&&n("isEnrolled",s=o.students.find(e=>e.id===r.id)),(e.course||e.$auth)&&n("teacherNames",u=o.teachers.map(e=>r.id===e.id?"You":e.name)),e.course&&n("past",l=o.sessions.filter(e=>e.endsAt<i).sort((e,t)=>t.startsAt.localeCompare(e.startsAt))),e.course&&n("future",d=o.sessions.filter(e=>e.endsAt>i).sort((e,t)=>e.startsAt.localeCompare(t.startsAt)))}),{course:o,formatDate:e=>{const t=fc(new Date(e),new Date);return t.charAt(0).toUpperCase()+t.slice(1)},isCourseTeacher:a,$auth:r,isEnrolled:s,teacherNames:u,past:l,future:d,delete_handler:function(){return Ma()}}}class hf extends be{constructor(e){super(),ye(this,e,pf,ff,s,["course"])}}function mf(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$courseCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function gf(e){var t,n,r=e.result&&e.result.data&&e.result.data.course&&vf(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result&&n.result.data&&n.result.data.course?r?(r.p(e,n),se(r,1)):((r=vf(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function vf(e){var t,n,r,o,i,a,s,c,u,l,d=e.result.data.course.term.name,f=new hf({props:{course:e.result.data.course}});return{c(){t=x("nav"),n=x("ul"),(r=x("li")).innerHTML='<a href="#/terms">Terms</a>',o=I(),i=x("li"),a=x("a"),s=C(d),u=I(),f.$$.fragment.c(),T(a,"href",c="#/term/"+e.result.data.course.term.id),T(t,"class","breadcrumb"),T(t,"aria-label","breadcrumbs")},m(e,c){w(e,t,c),b(t,n),b(n,r),b(n,o),b(n,i),b(i,a),b(a,s),w(e,u,c),me(f,e,c),l=!0},p(e,t){l&&!e.$courseCache||d===(d=t.result.data.course.term.name)||_(s,d),l&&!e.$courseCache||c===(c="#/term/"+t.result.data.course.term.id)||T(a,"href",c);var n={};e.$courseCache&&(n.course=t.result.data.course),f.$set(n)},i(e){l||(se(f.$$.fragment,e),l=!0)},o(e){ce(f.$$.fragment,e),l=!1},d(e){e&&(k(t),k(u)),ge(f,e)}}}function yf(t){var n,r=new Lu({props:{what:"course"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function bf(e){var t,r,o,i;let a={ctx:e,current:null,token:null,pending:yf,then:gf,catch:mf,value:"result",error:"errors",blocks:[,,,]};return le(o=e.$courseCache,a),{c(){t=I(),r=D(),a.block.c(),document.title="Course Details"},m(e,n){w(e,t,n),w(e,r,n),a.block.m(e,a.anchor=n),a.mount=(()=>r.parentNode),a.anchor=r,i=!0},p(t,r){e=r,a.ctx=e,"$courseCache"in t&&o!==(o=e.$courseCache)&&le(o,a)||a.block.p(t,n(n({},e),a.resolved))},i(e){i||(se(a.block),i=!0)},o(e){for(let e=0;e<3;e+=1){ce(a.blocks[e])}i=!1},d(e){e&&(k(t),k(r)),a.block.d(e),a.token=null,a=null}}}function wf(e,t,n){let r,{params:o={}}=t;const i=No(So,{query:bc,variables:{id:o.id}});return c(e,i,e=>{n("$courseCache",r=e)}),e.$set=(e=>{"params"in e&&n("params",o=e.params)}),{params:o,courseCache:i,$courseCache:r}}function kf(e){var t;return{c(){t=C("Add")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function xf(e){var t;return{c(){t=C("Edit")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function $f(e){var t,n,r,o,a,s,c,u,l,d,f,p,h,m,g;function v(e){return e.id?xf:kf}var y=v(e),$=y(e),D=new Ga({props:{errors:e.errors}});function _(t){e.input0_value_binding.call(null,t),s=!0,X(()=>s=!1)}let M={label:"Text",type:"text",required:!0};void 0!==e.text&&(M.value=e.text);var O=new Ya({props:M});function N(t){e.input1_value_binding.call(null,t),u=!0,X(()=>u=!1)}Y.push(()=>he(O,"value",_));let q={label:"Order (optional)",type:"number",min:"1"};void 0!==e.order&&(q.value=e.order);var A=new Ya({props:q});return Y.push(()=>he(A,"value",N)),{c(){t=x("h2"),$.c(),n=C(" a Question"),r=I(),D.$$.fragment.c(),o=I(),a=x("form"),O.$$.fragment.c(),c=I(),A.$$.fragment.c(),l=I(),d=x("div"),(f=x("button")).textContent="Save",p=I(),h=x("input"),T(t,"class","title"),T(f,"class","button is-primary"),T(f,"type","submit"),T(h,"class","button"),T(h,"type","reset"),h.value="Cancel",T(d,"class","buttons"),a.noValidate=!0,g=[S(a,"submit",E(e.handleSubmit)),S(a,"reset",e.reset_handler)]},m(i,s){w(i,t,s),$.m(t,null),b(t,n),w(i,r,s),me(D,i,s),w(i,o,s),w(i,a,s),me(O,a,null),b(a,c),me(A,a,null),b(a,l),b(a,d),b(d,f),e.button_binding(f),b(d,p),b(d,h),e.form_1_binding(a),m=!0},p(e,r){y!==(y=v(r))&&($.d(1),($=y(r))&&($.c(),$.m(t,n)));var o={};e.errors&&(o.errors=r.errors),D.$set(o);var i={};!s&&e.text&&(i.value=r.text),O.$set(i);var a={};!u&&e.order&&(a.value=r.order),A.$set(a)},i(e){m||(se(D.$$.fragment,e),se(O.$$.fragment,e),se(A.$$.fragment,e),m=!0)},o(e){ce(D.$$.fragment,e),ce(O.$$.fragment,e),ce(A.$$.fragment,e),m=!1},d(n){n&&k(t),$.d(),n&&k(r),ge(D,n),n&&(k(o),k(a)),ge(O),ge(A),e.button_binding(null),e.form_1_binding(null),i(g)}}}function Cf(e,t,n){const r=V();let o,i,{errors:a,loading:s=!1}=t,{id:c="",text:u="",order:l=null}=t;return e.$set=(e=>{"errors"in e&&n("errors",a=e.errors),"loading"in e&&n("loading",s=e.loading),"id"in e&&n("id",c=e.id),"text"in e&&n("text",u=e.text),"order"in e&&n("order",l=e.order)}),{errors:a,loading:s,form:o,saveButton:i,id:c,text:u,order:l,handleSubmit:()=>{o.checkValidity()?r("submit",{id:c,text:u,order:l}):Ce.add({text:"Please fix form errors first.",type:"danger"})},reset_handler:function(t){U(e,t)},input0_value_binding:function(e){n("text",u=e)},input1_value_binding:function(e){n("order",l=e)},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("saveButton",i=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",o=e)})}}}class If extends be{constructor(e){super(),ye(this,e,Cf,$f,s,["errors","loading","id","text","order"])}}function Df(e){var t,n=new If({props:{errors:e.errors,loading:e.loading}});return n.$on("reset",e.reset),n.$on("submit",e.add),{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.errors&&(r.errors=t.errors),e.loading&&(r.loading=t.loading),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Sf(e){var t,n,r,o,i;function a(t){e.modal_open_binding.call(null,t),r=!0,X(()=>r=!1)}let s={$$slots:{default:[Df]},$$scope:{ctx:e}};void 0!==e.open&&(s.open=e.open);var c=new Tc({props:s});return Y.push(()=>he(c,"open",a)),{c(){(t=x("button")).innerHTML='<i class="fas fa-plus svelte-1t38rqh"></i>Add a question',n=I(),c.$$.fragment.c(),T(t,"class","button is-primary svelte-1t38rqh"),i=S(t,"click",e.click_handler)},m(e,r){w(e,t,r),w(e,n,r),me(c,e,r),o=!0},p(e,t){var n={};(e.$$scope||e.errors||e.loading)&&(n.$$scope={changed:e,ctx:t}),!r&&e.open&&(n.open=t.open),c.$set(n)},i(e){o||(se(c.$$.fragment,e),o=!0)},o(e){ce(c.$$.fragment,e),o=!1},d(e){e&&(k(t),k(n)),ge(c,e),i()}}}function Ef(e,t,n){let{sessionId:r}=t,o=!1,i="",a=!1;const s=()=>{n("errors",i=""),n("open",o=!1)};return e.$set=(e=>{"sessionId"in e&&n("sessionId",r=e.sessionId)}),{sessionId:r,open:o,errors:i,loading:a,reset:s,add:async({detail:e})=>{let t;n("loading",a=!0),e.order&&(t=e.order-1);try{await qo(So,{mutation:ya,variables:{text:e.text,order:t,sessionId:r},refetchQueries:[{query:mc,variables:{id:r}}]}),Ce.add({text:"Saved new question",type:"success"}),s()}catch(e){n("errors",i=e),Ce.add({text:"Could not save new question.",type:"danger"})}finally{n("loading",a=!1)}n("loading",a=!1)},click_handler:function(){n("open",o=!0)},modal_open_binding:function(e){n("open",o=e)}}}class Tf extends be{constructor(e){super(),ye(this,e,Ef,Sf,s,["sessionId"])}}function _f(e,t,n){const r=Object.create(e);return r.question=t[n],r}function Mf(e){var t,n=new Tf({props:{sessionId:e.session.id}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.session&&(r.sessionId=t.session.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Of(e){var t,n=[],r=new Map,o=e.session.questions;const i=e=>e.question.id;for(var a=0;a<o.length;a+=1){let t=_f(e,o,a),s=i(t);r.set(s,n[a]=Nf(s,t))}return{c(){for(a=0;a<n.length;a+=1)n[a].c();t=D()},m(e,r){for(a=0;a<n.length;a+=1)n[a].m(e,r);w(e,t,r)},p(e,o){const a=o.session.questions;n=pe(n,e,i,1,o,a,r,t.parentNode,de,Nf,t,_f)},d(e){for(a=0;a<n.length;a+=1)n[a].d(e);e&&k(t)}}}function Nf(e,t){var n,r,o,i,a,s,c,u=t.question.order+1,l=t.question.text;return{key:e,first:null,c(){n=x("li"),r=C(u),o=C(". "),i=x("a"),a=C(l),c=I(),T(i,"href",s="#/question/"+t.question.id),T(n,"class","svelte-1tsirhl"),this.first=n},m(e,t){w(e,n,t),b(n,r),b(n,o),b(n,i),b(i,a),b(n,c)},p(e,t){e.session&&u!==(u=t.question.order+1)&&_(r,u),e.session&&l!==(l=t.question.text)&&_(a,l),e.session&&s!==(s="#/question/"+t.question.id)&&T(i,"href",s)},d(e){e&&k(n)}}}function qf(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g,v,y,$=e.session.order,D=e.formatDate(e.session.startsAt),S=e.formatDate(e.session.endsAt),E=e.session.questions.length,M="Teacher"===e.$auth.role&&Mf(e),O=e.session.questions&&e.session.questions.length>0&&Of(e);return{c(){t=x("h1"),n=C("Lesson "),r=C($),o=I(),i=x("p"),a=C(D),s=C(" to "),c=C(S),u=I(),l=x("br"),d=I(),f=x("h2"),p=C(E),h=C(" Questions"),m=I(),M&&M.c(),g=I(),v=x("section"),O&&O.c(),T(t,"class","title is-3"),T(i,"class","subtitle"),T(f,"class","title is-4"),T(v,"class","question-list svelte-1tsirhl")},m(e,k){w(e,t,k),b(t,n),b(t,r),w(e,o,k),w(e,i,k),b(i,a),b(i,s),b(i,c),w(e,u,k),w(e,l,k),w(e,d,k),w(e,f,k),b(f,p),b(f,h),w(e,m,k),M&&M.m(e,k),w(e,g,k),w(e,v,k),O&&O.m(v,null),y=!0},p(e,t){y&&!e.session||$===($=t.session.order)||_(r,$),y&&!e.session||D===(D=t.formatDate(t.session.startsAt))||_(a,D),y&&!e.session||S===(S=t.formatDate(t.session.endsAt))||_(c,S),y&&!e.session||E===(E=t.session.questions.length)||_(p,E),"Teacher"===t.$auth.role?M?(M.p(e,t),se(M,1)):((M=Mf(t)).c(),se(M,1),M.m(g.parentNode,g)):M&&(ie(),ce(M,1,1,()=>{M=null}),ae()),t.session.questions&&t.session.questions.length>0?O?O.p(e,t):((O=Of(t)).c(),O.m(v,null)):O&&(O.d(1),O=null)},i(e){y||(se(M),y=!0)},o(e){ce(M),y=!1},d(e){e&&(k(t),k(o),k(i),k(u),k(l),k(d),k(f),k(m)),M&&M.d(e),e&&(k(g),k(v)),O&&O.d()}}}function Af(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{session:o}=t;return e.$set=(e=>{"session"in e&&n("session",o=e.session)}),{session:o,formatDate:e=>{const t=fc(new Date(e),new Date);return t.charAt(0).toUpperCase()+t.slice(1)},$auth:r}}class Rf extends be{constructor(e){super(),ye(this,e,Af,qf,s,["session"])}}function Pf(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$sessionCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Ff(e){var t,n,r=e.result&&e.result.data&&e.result.data.session&&jf(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result&&n.result.data&&n.result.data.session?r?(r.p(e,n),se(r,1)):((r=jf(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function jf(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g=e.result.data.session.course.term.name,v=e.result.data.session.course.name,y=new Rf({props:{session:e.result.data.session}});return{c(){t=x("nav"),n=x("ul"),(r=x("li")).innerHTML='<a href="#/terms">Terms</a>',o=I(),i=x("li"),a=x("a"),s=C(g),u=I(),l=x("li"),d=x("a"),f=C(v),h=I(),y.$$.fragment.c(),T(a,"href",c="#/term/"+e.result.data.session.course.term.id),T(d,"href",p="#/course/"+e.result.data.session.course.id),T(t,"class","breadcrumb"),T(t,"aria-label","breadcrumbs")},m(e,c){w(e,t,c),b(t,n),b(n,r),b(n,o),b(n,i),b(i,a),b(a,s),b(n,u),b(n,l),b(l,d),b(d,f),w(e,h,c),me(y,e,c),m=!0},p(e,t){m&&!e.$sessionCache||g===(g=t.result.data.session.course.term.name)||_(s,g),m&&!e.$sessionCache||c===(c="#/term/"+t.result.data.session.course.term.id)||T(a,"href",c),m&&!e.$sessionCache||v===(v=t.result.data.session.course.name)||_(f,v),m&&!e.$sessionCache||p===(p="#/course/"+t.result.data.session.course.id)||T(d,"href",p);var n={};e.$sessionCache&&(n.session=t.result.data.session),y.$set(n)},i(e){m||(se(y.$$.fragment,e),m=!0)},o(e){ce(y.$$.fragment,e),m=!1},d(e){e&&(k(t),k(h)),ge(y,e)}}}function Qf(t){var n,r=new Lu({props:{what:"session"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Lf(e){var t,r,o,i;let a={ctx:e,current:null,token:null,pending:Qf,then:Ff,catch:Pf,value:"result",error:"errors",blocks:[,,,]};return le(o=e.$sessionCache,a),{c(){t=I(),r=D(),a.block.c(),document.title="Session Details"},m(e,n){w(e,t,n),w(e,r,n),a.block.m(e,a.anchor=n),a.mount=(()=>r.parentNode),a.anchor=r,i=!0},p(t,r){e=r,a.ctx=e,"$sessionCache"in t&&o!==(o=e.$sessionCache)&&le(o,a)||a.block.p(t,n(n({},e),a.resolved))},i(e){i||(se(a.block),i=!0)},o(e){for(let e=0;e<3;e+=1){ce(a.blocks[e])}i=!1},d(e){e&&(k(t),k(r)),a.block.d(e),a.token=null,a=null}}}function Vf(e,t,n){let r,{params:o={}}=t;const i=No(So,{query:mc,variables:{id:o.id}});return c(e,i,e=>{n("$sessionCache",r=e)}),e.$set=(e=>{"params"in e&&n("params",o=e.params)}),{params:o,sessionCache:i,$sessionCache:r}}function Uf(e,t,n){const r=Object.create(e);return r.course=t[n],r}function Bf(e,t){var n,r,o,i,a,s,c=t.course.name,u=t.course.term.name;return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(c),a=I(),s=C(u),T(r,"href",i="#/course/"+t.course.id),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,a),b(n,s)},p(e,t){e.sortedCourses&&c!==(c=t.course.name)&&_(o,c),e.sortedCourses&&i!==(i="#/course/"+t.course.id)&&T(r,"href",i),e.sortedCourses&&u!==(u=t.course.term.name)&&_(s,u)},d(e){e&&k(n)}}}function Yf(e){var t,n,r,o=[],i=new Map,a=new Wc({}),s=e.sortedCourses;const c=e=>e.courses.id;for(var u=0;u<s.length;u+=1){let t=Uf(e,s,u),n=c(t);i.set(n,o[u]=Bf(n,t))}return{c(){for(a.$$.fragment.c(),t=I(),u=0;u<o.length;u+=1)o[u].c();n=D()},m(e,i){for(me(a,e,i),w(e,t,i),u=0;u<o.length;u+=1)o[u].m(e,i);w(e,n,i),r=!0},p(e,t){const r=t.sortedCourses;o=pe(o,e,c,1,t,r,i,n.parentNode,de,Bf,n,Uf)},i(e){r||(se(a.$$.fragment,e),r=!0)},o(e){ce(a.$$.fragment,e),r=!1},d(e){for(ge(a,e),e&&k(t),u=0;u<o.length;u+=1)o[u].d(e);e&&k(n)}}}function zf(e,t,n){let r,{courses:o=[]}=t;return e.$set=(e=>{"courses"in e&&n("courses",o=e.courses)}),e.$$.update=((e={courses:1})=>{e.courses&&n("sortedCourses",r=[...o].sort((e,t)=>e.term===t.term?e.name.localeCompare(t.name):e.term.startDate.localeCompare(t.term.startDate)))}),{courses:o,sortedCourses:r}}class Wf extends be{constructor(e){super(),ye(this,e,zf,Yf,s,["courses"])}}function Hf(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$coursesCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Gf(e){var t,n,r=e.result&&e.result.data&&e.result.data.courses&&Jf(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result&&n.result.data&&n.result.data.courses?r?(r.p(e,n),se(r,1)):((r=Jf(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function Jf(e){var t,n=new Wf({props:{courses:e.result.data.courses}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$coursesCache&&(r.courses=t.result.data.courses),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Kf(t){var n,r=new Lu({props:{what:"courses"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Xf(e){var t,r,o,i,a,s,c,u;let l={ctx:e,current:null,token:null,pending:Kf,then:Gf,catch:Hf,value:"result",error:"errors",blocks:[,,,]};return le(c=e.$coursesCache,l),{c(){t=I(),(r=x("nav")).innerHTML='<ul><li><a href="#/">Home</a></li> <li><a href="#/Terms">Terms</a></li></ul>',o=I(),(i=x("h1")).textContent="All Courses",a=I(),s=D(),l.block.c(),document.title="Courses",T(r,"class","breadcrumb"),T(r,"aria-label","breadcrumbs"),T(i,"class","title is-3")},m(e,n){w(e,t,n),w(e,r,n),w(e,o,n),w(e,i,n),w(e,a,n),w(e,s,n),l.block.m(e,l.anchor=n),l.mount=(()=>s.parentNode),l.anchor=s,u=!0},p(t,r){e=r,l.ctx=e,"$coursesCache"in t&&c!==(c=e.$coursesCache)&&le(c,l)||l.block.p(t,n(n({},e),l.resolved))},i(e){u||(se(l.block),u=!0)},o(e){for(let e=0;e<3;e+=1){ce(l.blocks[e])}u=!1},d(e){e&&(k(t),k(r),k(o),k(i),k(a),k(s)),l.block.d(e),l.token=null,l=null}}}function Zf(e,t,n){let r;const o=No(So,{query:wc});return c(e,o,e=>{n("$coursesCache",r=e)}),{coursesCache:o,$coursesCache:r}}function ep(t){var n,r;return{c(){(n=x("button")).innerHTML='<i class="fas fa-trash svelte-1t38rqh"></i>\n\t\t\t  Delete Question\n\t\t\t',T(n,"class","button svelte-1t38rqh"),r=S(n,"click",t.remove)},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n),r()}}}function tp(e,t,n){let{id:r,next:o=null,sessionId:i}=t;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"next"in e&&n("next",o=e.next),"sessionId"in e&&n("sessionId",i=e.sessionId)}),{id:r,next:o,sessionId:i,remove:async()=>{try{await qo(So,{mutation:ba,variables:{id:r},refetchQueries:[{query:mc,variables:{id:i}}]}),Ce.add({text:"Deleted question",type:"success"}),_a(o||`/session/${i}`)}catch(e){Ce.add({text:"Could not delete question.",type:"danger"})}}}}class np extends be{constructor(e){super(),ye(this,e,tp,ep,s,["id","next","sessionId"])}}function rp(e){var t,n,r,o,i,a,s=new Ga({props:{errors:e.errors}});function c(t){e.input_value_binding.call(null,t),n=!0,X(()=>n=!1)}let u={label:"Text",type:"text",required:!0};void 0!==e.text&&(u.value=e.text);var l=new Ya({props:u});return Y.push(()=>he(l,"value",c)),{c(){s.$$.fragment.c(),t=I(),l.$$.fragment.c(),r=I(),(o=x("button")).textContent="Save answer",T(o,"class","button is-primary"),O(o,"is-loading",e.loading),a=S(o,"click",e.add)},m(e,n){me(s,e,n),w(e,t,n),me(l,e,n),w(e,r,n),w(e,o,n),i=!0},p(e,t){var r={};e.errors&&(r.errors=t.errors),s.$set(r);var i={};!n&&e.text&&(i.value=t.text),l.$set(i),e.loading&&O(o,"is-loading",t.loading)},i(e){i||(se(s.$$.fragment,e),se(l.$$.fragment,e),i=!0)},o(e){ce(s.$$.fragment,e),ce(l.$$.fragment,e),i=!1},d(e){ge(s,e),e&&k(t),ge(l,e),e&&(k(r),k(o)),a()}}}function op(t){var n,r;return{c(){(n=x("button")).innerHTML='<i class="fas fa-plus svelte-1t38rqh"></i>Add an answer\n\t\t\t  ',T(n,"class","button is-primary svelte-1t38rqh"),r=S(n,"click",t.click_handler)},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n),r()}}}function ip(e){var t,n,r,o,i=[op,rp],a=[];function s(e){return e.show?1:0}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=D()},m(e,n){a[t].m(e,n),w(e,r,n),o=!0},p(e,o){var c=t;(t=s(o))===c?a[t].p(e,o):(ie(),ce(a[c],1,1,()=>{a[c]=null}),ae(),(n=a[t])||(n=a[t]=i[t](o)).c(),se(n,1),n.m(r.parentNode,r))},i(e){o||(se(n),o=!0)},o(e){ce(n),o=!1},d(e){a[t].d(e),e&&k(r)}}}function ap(e,t,n){let{questionId:r}=t,o=!1,i="",a=!1,s="";return e.$set=(e=>{"questionId"in e&&n("questionId",r=e.questionId)}),{questionId:r,show:o,errors:i,loading:a,text:s,add:async()=>{n("loading",a=!0);try{await qo(So,{mutation:ka,variables:{text:s,questionId:r},refetchQueries:[{query:kc,variables:{id:r}}]}),Ce.add({text:"Saved new answer",type:"success"}),n("errors",i=""),n("show",o=!1)}catch(e){n("errors",i=e),Ce.add({text:"Could not save new question.",type:"danger"})}finally{n("loading",a=!1)}n("loading",a=!1)},click_handler:function(){n("show",o=!0)},input_value_binding:function(e){n("text",s=e)}}}class sp extends be{constructor(e){super(),ye(this,e,ap,ip,s,["questionId"])}}function cp(t){var n,r;return{c(){T(n=x("button"),"class","delete"),r=S(n,"click",t.remove)},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n),r()}}}function up(e,t,n){let{id:r,questionId:o}=t;return e.$set=(e=>{"id"in e&&n("id",r=e.id),"questionId"in e&&n("questionId",o=e.questionId)}),{id:r,questionId:o,remove:async()=>{try{await qo(So,{mutation:xa,variables:{id:r},refetchQueries:[{query:kc,variables:{id:o}}]}),Ce.add({text:"Deleted answer",type:"success"})}catch(e){Ce.add({text:"Could not delete answer.",type:"danger"})}}}}class lp extends be{constructor(e){super(),ye(this,e,up,cp,s,["id","questionId"])}}function dp(e,t,n){const r=Object.create(e);return r.answer=t[n],r}function fp(e){var t,n=new sp({props:{questionId:e.question.id}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.question&&(r.questionId=t.question.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function pp(e){var t,n,r=[],o=new Map,i=e.question.answers;const a=e=>e.answer.id;for(var s=0;s<i.length;s+=1){let t=dp(e,i,s),n=a(t);o.set(n,r[s]=mp(n,t))}return{c(){for(t=x("ul"),s=0;s<r.length;s+=1)r[s].c()},m(e,o){for(w(e,t,o),s=0;s<r.length;s+=1)r[s].m(t,null);n=!0},p(e,n){const i=n.question.answers;ie(),r=pe(r,e,a,1,n,i,o,t,fe,mp,null,dp),ae()},i(e){if(!n){for(var t=0;t<i.length;t+=1)se(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)ce(r[s]);n=!1},d(e){for(e&&k(t),s=0;s<r.length;s+=1)r[s].d()}}}function hp(e){var t,n=new lp({props:{id:e.answer.id,questionId:e.question.id}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.question&&(r.id=t.answer.id),e.question&&(r.questionId=t.question.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function mp(e,t){var n,r,o,i,a,s=t.answer.text,c=0===t.answer.responses.length&&"Teacher"===t.$auth.role&&hp(t);return{key:e,first:null,c(){n=x("li"),r=C(s),o=I(),c&&c.c(),i=I(),T(n,"class","svelte-1sqwjyk"),this.first=n},m(e,t){w(e,n,t),b(n,r),b(n,o),c&&c.m(n,null),b(n,i),a=!0},p(e,t){a&&!e.question||s===(s=t.answer.text)||_(r,s),0===t.answer.responses.length&&"Teacher"===t.$auth.role?c?(c.p(e,t),se(c,1)):((c=hp(t)).c(),se(c,1),c.m(n,i)):c&&(ie(),ce(c,1,1,()=>{c=null}),ae())},i(e){a||(se(c),a=!0)},o(e){ce(c),a=!1},d(e){e&&k(n),c&&c.d()}}}function gp(e){var t,n=new np({props:{id:e.question.id,sessionId:e.question.session.id}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.question&&(r.id=t.question.id),e.question&&(r.sessionId=t.question.session.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function vp(e){var t,n,r,o,i,a,s,c,u,l,d,f,p=e.question.order+1,h=e.question.text,m="Teacher"===e.$auth.role&&fp(e),g=e.question.answers.length>0&&pp(e),v=0===e.question.answers.length&&"Teacher"===e.$auth.role&&gp(e);return{c(){t=x("h1"),n=C("Question "),r=C(p),o=I(),i=x("h2"),a=C(h),s=I(),m&&m.c(),c=I(),u=x("section"),g&&g.c(),l=I(),v&&v.c(),d=D(),T(t,"class","title"),T(i,"class","title is-5"),T(u,"class","answers svelte-1sqwjyk")},m(e,p){w(e,t,p),b(t,n),b(t,r),w(e,o,p),w(e,i,p),b(i,a),w(e,s,p),m&&m.m(e,p),w(e,c,p),w(e,u,p),g&&g.m(u,null),w(e,l,p),v&&v.m(e,p),w(e,d,p),f=!0},p(e,t){f&&!e.question||p===(p=t.question.order+1)||_(r,p),f&&!e.question||h===(h=t.question.text)||_(a,h),"Teacher"===t.$auth.role?m?(m.p(e,t),se(m,1)):((m=fp(t)).c(),se(m,1),m.m(c.parentNode,c)):m&&(ie(),ce(m,1,1,()=>{m=null}),ae()),t.question.answers.length>0?g?(g.p(e,t),se(g,1)):((g=pp(t)).c(),se(g,1),g.m(u,null)):g&&(ie(),ce(g,1,1,()=>{g=null}),ae()),0===t.question.answers.length&&"Teacher"===t.$auth.role?v?(v.p(e,t),se(v,1)):((v=gp(t)).c(),se(v,1),v.m(d.parentNode,d)):v&&(ie(),ce(v,1,1,()=>{v=null}),ae())},i(e){f||(se(m),se(g),se(v),f=!0)},o(e){ce(m),ce(g),ce(v),f=!1},d(e){e&&(k(t),k(o),k(i),k(s)),m&&m.d(e),e&&(k(c),k(u)),g&&g.d(),e&&k(l),v&&v.d(e),e&&k(d)}}}function yp(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let{question:o}=t;return e.$set=(e=>{"question"in e&&n("question",o=e.question)}),{question:o,$auth:r}}class bp extends be{constructor(e){super(),ye(this,e,yp,vp,s,["question"])}}function wp(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$questionCache&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function kp(e){var t,n,r=e.result&&e.result.data&&e.result.data.question&&xp(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result&&n.result.data&&n.result.data.question?r?(r.p(e,n),se(r,1)):((r=xp(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function xp(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,m,g,v,y,$,D,S,E=e.result.data.question.session.course.term.name,M=e.result.data.question.session.course.name,O=e.result.data.question.session.order,N=new bp({props:{question:e.result.data.question}});return{c(){t=x("nav"),n=x("ul"),(r=x("li")).innerHTML='<a href="#/terms">Terms</a>',o=I(),i=x("li"),a=x("a"),s=C(E),u=I(),l=x("li"),d=x("a"),f=C(M),h=I(),m=x("li"),g=x("a"),v=C("Lesson "),y=C(O),D=I(),N.$$.fragment.c(),T(a,"href",c="#/term/"+e.result.data.question.session.course.term.id),T(d,"href",p="#/course/"+e.result.data.question.session.course.id),T(g,"href",$="#/session/"+e.result.data.question.session.id),T(t,"class","breadcrumb"),T(t,"aria-label","breadcrumbs")},m(e,c){w(e,t,c),b(t,n),b(n,r),b(n,o),b(n,i),b(i,a),b(a,s),b(n,u),b(n,l),b(l,d),b(d,f),b(n,h),b(n,m),b(m,g),b(g,v),b(g,y),w(e,D,c),me(N,e,c),S=!0},p(e,t){S&&!e.$questionCache||E===(E=t.result.data.question.session.course.term.name)||_(s,E),S&&!e.$questionCache||c===(c="#/term/"+t.result.data.question.session.course.term.id)||T(a,"href",c),S&&!e.$questionCache||M===(M=t.result.data.question.session.course.name)||_(f,M),S&&!e.$questionCache||p===(p="#/course/"+t.result.data.question.session.course.id)||T(d,"href",p),S&&!e.$questionCache||O===(O=t.result.data.question.session.order)||_(y,O),S&&!e.$questionCache||$===($="#/session/"+t.result.data.question.session.id)||T(g,"href",$);var n={};e.$questionCache&&(n.question=t.result.data.question),N.$set(n)},i(e){S||(se(N.$$.fragment,e),S=!0)},o(e){ce(N.$$.fragment,e),S=!1},d(e){e&&(k(t),k(D)),ge(N,e)}}}function $p(t){var n,r=new Lu({props:{what:"question"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function Cp(e){var t,r,o,i;let a={ctx:e,current:null,token:null,pending:$p,then:kp,catch:wp,value:"result",error:"errors",blocks:[,,,]};return le(o=e.$questionCache,a),{c(){t=I(),r=D(),a.block.c(),document.title="Question Details"},m(e,n){w(e,t,n),w(e,r,n),a.block.m(e,a.anchor=n),a.mount=(()=>r.parentNode),a.anchor=r,i=!0},p(t,r){e=r,a.ctx=e,"$questionCache"in t&&o!==(o=e.$questionCache)&&le(o,a)||a.block.p(t,n(n({},e),a.resolved))},i(e){i||(se(a.block),i=!0)},o(e){for(let e=0;e<3;e+=1){ce(a.blocks[e])}i=!1},d(e){e&&(k(t),k(r)),a.block.d(e),a.token=null,a=null}}}function Ip(e,t,n){let r,{params:o={}}=t;const i=No(So,{query:kc,variables:{id:o.id}});return c(e,i,e=>{n("$questionCache",r=e)}),e.$set=(e=>{"params"in e&&n("params",o=e.params)}),{params:o,questionCache:i,$questionCache:r}}var Dp={"/":class extends be{constructor(e){super(),ye(this,e,Zl,Xl,s,[])}},"/signup":class extends be{constructor(e){super(),ye(this,e,Ka,Ja,s,[])}},"/join-course":class extends be{constructor(e){super(),ye(this,e,rd,nd,s,[])}},"/me":class extends be{constructor(e){super(),ye(this,e,bd,yd,s,[])}},"/term/:id":class extends be{constructor(e){super(),ye(this,e,Td,Ed,s,["params"])}},"/terms":class extends be{constructor(e){super(),ye(this,e,Od,Md,s,[])}},"/course/:id":class extends be{constructor(e){super(),ye(this,e,wf,bf,s,["params"])}},"/courses":class extends be{constructor(e){super(),ye(this,e,Zf,Xf,s,[])}},"/session/:id":class extends be{constructor(e){super(),ye(this,e,Vf,Lf,s,["params"])}},"/question/:id":class extends be{constructor(e){super(),ye(this,e,Ip,Cp,s,["params"])}},"*":class extends be{constructor(e){super(),ye(this,e,td,ed,s,[])}}};function Sp(e){var t;return{c(){T(t=x("i"),"class","fas fa-eye-slash")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Ep(e){var t;return{c(){T(t=x("i"),"class","fas fa-eye")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Tp(e){var t,n,r,o,a,s,c,u,l,d,f,p,h,m,g,v,y,$,C,D,_,M,N,q,A,R,P,F,j,Q,L,V=new Ga({props:{errors:e.errors}});function U(t){e.input0_value_binding.call(null,t),d=!0,X(()=>d=!1)}let B={type:"text",label:"Student ID",required:!0,leftIcon:"user"};void 0!==e.username&&(B.value=e.username);var z=new Ya({props:B});function W(e){return e.show?Ep:Sp}Y.push(()=>he(z,"value",U));var H=W(e),G=H(e);return{c(){t=I(),n=x("div"),r=x("div"),(o=x("h1")).textContent="Login",a=I(),(s=x("h3")).textContent="gotta log in to continue.",c=I(),V.$$.fragment.c(),u=I(),l=x("form"),z.$$.fragment.c(),f=I(),(p=x("label")).textContent="Password",h=I(),m=x("div"),g=x("div"),v=x("input"),y=I(),($=x("span")).innerHTML='<i class="fas fa-key"></i>',C=I(),D=x("div"),_=x("span"),G.c(),M=I(),N=x("div"),q=x("div"),(A=x("button")).textContent="Let me in!",R=I(),(P=x("p")).textContent="or",F=I(),(j=x("a")).textContent="Create account",document.title="Login",T(o,"class","title"),T(s,"class","subtitle"),T(p,"class","label"),T(p,"for","passwordField"),T(v,"class","input"),T(v,"type","password"),v.required=!0,T($,"class","icon is-small is-left"),T(g,"class","control has-icons-left"),T(_,"class","button is-white showhide svelte-1o7mwy6"),T(D,"class","control"),T(m,"class","field has-addons"),T(A,"type","submit"),T(A,"class","button is-primary"),O(A,"is-loading",e.loading),T(j,"href","#/signup"),T(j,"class","button"),T(q,"class","control"),T(N,"class","field"),l.noValidate=!0,T(r,"class","login"),T(n,"class","container-centered svelte-1o7mwy6"),L=[S(v,"input",e.input1_input_handler),S(_,"click",e.showPassword),S(l,"submit",E(e.login))]},m(i,d){w(i,t,d),w(i,n,d),b(n,r),b(r,o),b(r,a),b(r,s),b(r,c),me(V,r,null),b(r,u),b(r,l),me(z,l,null),b(l,f),b(l,p),b(l,h),b(l,m),b(m,g),b(g,v),v.value=e.password,e.input1_binding(v),b(g,y),b(g,$),b(m,C),b(m,D),b(D,_),G.m(_,null),b(l,M),b(l,N),b(N,q),b(q,A),e.button_binding(A),b(q,R),b(q,P),b(q,F),b(q,j),e.form_1_binding(l),Q=!0},p(e,t){var n={};e.errors&&(n.errors=t.errors),V.$set(n);var r={};!d&&e.username&&(r.value=t.username),z.$set(r),e.password&&v.value!==t.password&&(v.value=t.password),H!==(H=W(t))&&(G.d(1),(G=H(t))&&(G.c(),G.m(_,null))),e.loading&&O(A,"is-loading",t.loading)},i(e){Q||(se(V.$$.fragment,e),se(z.$$.fragment,e),Q=!0)},o(e){ce(V.$$.fragment,e),ce(z.$$.fragment,e),Q=!1},d(r){r&&(k(t),k(n)),ge(V),ge(z),e.input1_binding(null),G.d(),e.button_binding(null),e.form_1_binding(null),i(L)}}}function _p(e,t,n){let r,o,i,a="",s="",c="",u=!1,l=!1;return{username:a,password:s,errors:c,loading:u,show:l,submit:r,passInput:o,form:i,login:async()=>{if(i.checkValidity()){n("loading",u=!0),r.disabled=!0,n("submit",r);try{await Ia.login(a,s),Ce.add({text:`Logged in as '${a}'`,type:"success"})}catch(e){n("errors",c=e),Ce.add({text:"Login failed.",type:"danger"}),r.disabled=!1,n("submit",r)}finally{n("loading",u=!1)}}else Ce.add({text:"Please fix form errors first.",type:"danger"})},showPassword:()=>{o.type=l?"password":"text",n("passInput",o),n("show",l=!l)},input0_value_binding:function(e){n("username",a=e)},input1_input_handler:function(){s=this.value,n("password",s)},input1_binding:function(e){Y[e?"unshift":"push"](()=>{n("passInput",o=e)})},button_binding:function(e){Y[e?"unshift":"push"](()=>{n("submit",r=e)})},form_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("form",i=e)})}}}class Mp extends be{constructor(e){super(),ye(this,e,_p,Tp,s,[])}}function Op(e){var t,n;return{c(){T(t=x("i"),"class",n="fas fa-"+e.icon+" svelte-cfejs6")},m(e,n){w(e,t,n)},p(e,r){e.icon&&n!==(n="fas fa-"+r.icon+" svelte-cfejs6")&&T(t,"class",n)},d(e){e&&k(t)}}}function Np(t){var n,r,o,i=t.icon&&Op(t);return{c(){n=x("a"),i&&i.c(),r=I(),o=C(t.text),T(n,"class","navbar-item"),T(n,"href",t.url)},m(e,t){w(e,n,t),i&&i.m(n,null),b(n,r),b(n,o)},p(e,t){t.icon?i?i.p(e,t):((i=Op(t)).c(),i.m(n,r)):i&&(i.d(1),i=null),e.text&&_(o,t.text),e.url&&T(n,"href",t.url)},i:e,o:e,d(e){e&&k(n),i&&i.d()}}}function qp(e,t,n){let{url:r="",text:o="",icon:i=null}=t;return e.$set=(e=>{"url"in e&&n("url",r=e.url),"text"in e&&n("text",o=e.text),"icon"in e&&n("icon",i=e.icon)}),{url:r,text:o,icon:i}}class Ap extends be{constructor(e){super(),ye(this,e,qp,Np,s,["url","text","icon"])}}function Rp(e){var t,n;return{c(){(t=x("div")).innerHTML='<span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span>',T(t,"role","button"),T(t,"class","navbar-burger burger svelte-1phl1tw"),T(t,"aria-label","menu"),T(t,"aria-expanded","false"),t.dataset.target="navmenu",O(t,"is-active",e.showMenu),n=S(t,"click",e.click_handler)},m(e,n){w(e,t,n)},p(e,n){e.showMenu&&O(t,"is-active",n.showMenu)},d(e){e&&k(t),n()}}}function Pp(e){var t,n,r,o=new Ap({props:{url:"#/",text:"Dashboard",icon:"chalkboard-teacher"}}),i=new Ap({props:{url:"#/terms",text:"Terms",icon:"school"}}),a=new Ap({props:{url:"#/courses",text:"Courses",icon:"book"}});return{c(){o.$$.fragment.c(),t=I(),i.$$.fragment.c(),n=I(),a.$$.fragment.c()},m(e,s){me(o,e,s),w(e,t,s),me(i,e,s),w(e,n,s),me(a,e,s),r=!0},i(e){r||(se(o.$$.fragment,e),se(i.$$.fragment,e),se(a.$$.fragment,e),r=!0)},o(e){ce(o.$$.fragment,e),ce(i.$$.fragment,e),ce(a.$$.fragment,e),r=!1},d(e){ge(o,e),e&&k(t),ge(i,e),e&&k(n),ge(a,e)}}}function Fp(e){var t,n,r,o,i,a=new Ap({props:{url:"#/me",icon:"user-circle",text:e.$auth.name}});return{c(){a.$$.fragment.c(),t=I(),n=x("div"),(r=x("button")).innerHTML="<strong>Log out</strong>",T(r,"class","button is-text"),T(n,"class","buttons"),i=S(r,"click",e.logout)},m(e,i){me(a,e,i),w(e,t,i),w(e,n,i),b(n,r),o=!0},p(e,t){var n={};e.$auth&&(n.text=t.$auth.name),a.$set(n)},i(e){o||(se(a.$$.fragment,e),o=!0)},o(e){ce(a.$$.fragment,e),o=!1},d(e){ge(a,e),e&&(k(t),k(n)),i()}}}function jp(e){var t,n,r,o,i,a,s,c,u,l,d,f=e.$auth.username&&Rp(e),p=e.$auth.username&&Pp(),h=e.$auth.name&&Fp(e);return{c(){t=x("nav"),n=x("div"),(r=x("a")).innerHTML='<img class="logo svelte-1phl1tw" src="/kumu-logo.png" height="28" alt="levitation logo"> <span class="title is-4">InstaQuiz</span>',o=I(),f&&f.c(),i=I(),a=x("div"),s=x("div"),p&&p.c(),c=I(),u=x("div"),h&&h.c(),T(r,"class","navbar-item svelte-1phl1tw"),T(r,"href","#/"),T(n,"class","navbar-brand svelte-1phl1tw"),T(s,"class","navbar-start svelte-1phl1tw"),T(u,"class","navbar-end svelte-1phl1tw"),T(a,"id","navmenu"),T(a,"class","navbar-menu svelte-1phl1tw"),O(a,"is-active",e.showMenu),T(t,"class","navbar is-black svelte-1phl1tw"),T(t,"role","navigation"),T(t,"aria-label","main navigation"),d=S(a,"click",e.click_handler_1)},m(e,d){w(e,t,d),b(t,n),b(n,r),b(n,o),f&&f.m(n,null),b(t,i),b(t,a),b(a,s),p&&p.m(s,null),b(a,c),b(a,u),h&&h.m(u,null),l=!0},p(e,t){t.$auth.username?f?f.p(e,t):((f=Rp(t)).c(),f.m(n,null)):f&&(f.d(1),f=null),t.$auth.username?p?se(p,1):((p=Pp()).c(),se(p,1),p.m(s,null)):p&&(ie(),ce(p,1,1,()=>{p=null}),ae()),t.$auth.name?h?(h.p(e,t),se(h,1)):((h=Fp(t)).c(),se(h,1),h.m(u,null)):h&&(ie(),ce(h,1,1,()=>{h=null}),ae()),e.showMenu&&O(a,"is-active",t.showMenu)},i(e){l||(se(p),se(h),l=!0)},o(e){ce(p),ce(h),l=!1},d(e){e&&k(t),f&&f.d(),p&&p.d(),h&&h.d(),d()}}}function Qp(e,t,n){let r;c(e,Ia,e=>{n("$auth",r=e)});let o=!1;return{showMenu:o,logout:async()=>{const e=await Ia.logout();Ce.add({text:`Logged out user '${e}'`,type:"success"})},$auth:r,click_handler:function(){n("showMenu",o=!o)},click_handler_1:function(){n("showMenu",o=!o)}}}class Lp extends be{constructor(e){super(),ye(this,e,Qp,jp,s,[])}}function Vp(e){var t,n,r,o,i,a,s,c;const f=e.$$slots.default,p=u(f,e,null);return{c(){t=x("div"),n=x("p"),r=x("i"),o=I(),i=C(e.title),a=I(),s=x("section"),p&&p.c(),T(r,"class","fas fa-exclamation-triangle svelte-a706hh"),T(n,"class","warning-message-header svelte-a706hh"),T(s,"class","warning-message-body svelte-a706hh"),T(t,"class","warning svelte-a706hh")},l(e){p&&p.l(section_nodes)},m(e,u){w(e,t,u),b(t,n),b(n,r),b(n,o),b(n,i),b(t,a),b(t,s),p&&p.m(s,null),c=!0},p(e,t){c&&!e.title||_(i,t.title),p&&p.p&&e.$$scope&&p.p(d(f,t,e,null),l(f,t,null))},i(e){c||(se(p,e),c=!0)},o(e){ce(p,e),c=!1},d(e){e&&k(t),p&&p.d(e)}}}function Up(e,t,n){let{title:r="Warning"}=t,{$$slots:o={},$$scope:i}=t;return e.$set=(e=>{"title"in e&&n("title",r=e.title),"$$scope"in e&&n("$$scope",i=e.$$scope)}),{title:r,$$slots:o,$$scope:i}}class Bp extends be{constructor(e){super(),ye(this,e,Up,Vp,s,["title"])}}function Yp(e,t,n){const r=Object.create(e);return r.session=t[n],r}function zp(e){var t,n=new Bp({props:{title:e.todaySessions.length+" classes in the next 24 hours",$$slots:{default:[Jp]},$$scope:{ctx:e}}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.todaySessions&&(r.title=t.todaySessions.length+" classes in the next 24 hours"),(e.$$scope||e.todaySessions)&&(r.$$scope={changed:e,ctx:t}),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Wp(e){var t,n=new Bp({props:{title:e.$imminentSession.course.name+" lesson "+e.$imminentSession.order+" starts soon.",$$slots:{default:[Kp]},$$scope:{ctx:e}}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$imminentSession&&(r.title=t.$imminentSession.course.name+" lesson "+t.$imminentSession.order+" starts soon."),(e.$$scope||e.$imminentSession)&&(r.$$scope={changed:e,ctx:t}),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Hp(e){var t,n=new Bp({props:{title:e.$nowSession.course.name+" lesson "+e.$nowSession.order+" has started.",$$slots:{default:[Xp]},$$scope:{ctx:e}}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$nowSession&&(r.title=t.$nowSession.course.name+" lesson "+t.$nowSession.order+" has started."),(e.$$scope||e.$nowSession)&&(r.$$scope={changed:e,ctx:t}),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function Gp(e,t){var n,r,o,i,a,s,c,u=t.session.course.name,l=t.formatDate(t.session.startsAt);return{key:e,first:null,c(){n=x("li"),r=x("a"),o=C(u),i=C(" - "),a=C(l),s=C(".\n        "),T(r,"href",c="#/session/"+t.session.id),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,i),b(r,a),b(r,s)},p(e,t){e.todaySessions&&u!==(u=t.session.course.name)&&_(o,u),e.todaySessions&&l!==(l=t.formatDate(t.session.startsAt))&&_(a,l),e.todaySessions&&c!==(c="#/session/"+t.session.id)&&T(r,"href",c)},d(e){e&&k(n)}}}function Jp(e){var t,n=[],r=new Map,o=e.todaySessions;const i=e=>e.session.id;for(var a=0;a<o.length;a+=1){let t=Yp(e,o,a),s=i(t);r.set(s,n[a]=Gp(s,t))}return{c(){for(t=x("div"),a=0;a<n.length;a+=1)n[a].c();T(t,"class","upcoming-sessions")},m(e,r){for(w(e,t,r),a=0;a<n.length;a+=1)n[a].m(t,null)},p(e,o){const a=o.todaySessions;n=pe(n,e,i,1,o,a,r,t,de,Gp,null,Yp)},d(e){for(e&&k(t),a=0;a<n.length;a+=1)n[a].d()}}}function Kp(e){var t,n,r,o,i,a,s,c,u=dc(new e.Date(e.$imminentSession.startsAt),{addSuffix:!0}),l=e.formatDate(e.$imminentSession.endsAt,{addSuffix:!0});return{c(){t=x("p"),n=C("Starts "),r=C(u),o=C(".\n      Ends "),i=C(l),a=C("."),s=I(),(c=x("a")).innerHTML='<i class="fas fa-running svelte-sxkpg9"></i>Go there now',T(c,"class","button is-link svelte-sxkpg9"),T(c,"href","#/")},m(e,u){w(e,t,u),b(t,n),b(t,r),b(t,o),b(t,i),b(t,a),w(e,s,u),w(e,c,u)},p(e,t){e.$imminentSession&&u!==(u=dc(new t.Date(t.$imminentSession.startsAt),{addSuffix:!0}))&&_(r,u),e.$imminentSession&&l!==(l=t.formatDate(t.$imminentSession.endsAt,{addSuffix:!0}))&&_(i,l)},d(e){e&&(k(t),k(s),k(c))}}}function Xp(e){var t,n,r,o,i,a,s,c,u=dc(new e.Date(e.$nowSession.startsAt),{addSuffix:!0}),l=e.formatDate(e.$nowSession.endsAt,{addSuffix:!0});return{c(){t=x("p"),n=C("Started "),r=C(u),o=C(".\n      Ends "),i=C(l),a=C("."),s=I(),(c=x("a")).innerHTML='<i class="fas fa-running svelte-sxkpg9"></i>Go there now',T(c,"class","button is-link svelte-sxkpg9"),T(c,"href","#/")},m(e,u){w(e,t,u),b(t,n),b(t,r),b(t,o),b(t,i),b(t,a),w(e,s,u),w(e,c,u)},p(e,t){e.$nowSession&&u!==(u=dc(new t.Date(t.$nowSession.startsAt),{addSuffix:!0}))&&_(r,u),e.$nowSession&&l!==(l=t.formatDate(t.$nowSession.endsAt,{addSuffix:!0}))&&_(i,l)},d(e){e&&(k(t),k(s),k(c))}}}function Zp(e){var t,n,r,o,i=[Hp,Wp,zp],a=[];function s(e){return e.$nowSession&&"/"!==e.$location?0:!e.$nowSession&&e.$imminentSession&&"/"!==e.$location?1:e.$nowSession||e.$imminentSession?-1:2}return~(t=s(e))&&(n=a[t]=i[t](e)),{c(){n&&n.c(),r=D()},m(e,n){~t&&a[t].m(e,n),w(e,r,n),o=!0},p(e,o){var c=t;(t=s(o))===c?~t&&a[t].p(e,o):(n&&(ie(),ce(a[c],1,1,()=>{a[c]=null}),ae()),~t?((n=a[t])||(n=a[t]=i[t](o)).c(),se(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(se(n),o=!0)},o(e){ce(n),o=!1},d(e){~t&&a[t].d(e),e&&k(r)}}}function eh(e,t,n){let r,o,i,a,s;c(e,Ju,e=>{n("$imminentSession",r=e)}),c(e,Xu,e=>{n("$time",o=e)}),c(e,Zu,e=>{n("$every15Seconds",i=e)}),c(e,Gu,e=>{n("$nowSession",a=e)}),c(e,Ta,e=>{n("$location",s=e)});let{sessions:u}=t;let l,d,f,p;return e.$set=(e=>{"sessions"in e&&n("sessions",u=e.sessions)}),e.$$.update=((e={$imminentSession:1,$time:1,$every15Seconds:1,now:1,sessions:1,soon:1,in24Hours:1})=>{if((e.$imminentSession||e.$time||e.$every15Seconds)&&n("now",l=r?o:i),e.now&&n("soon",d=new Date(l.getTime()+6e5)),e.sessions||e.now||e.soon){const e=u.find(e=>e.startsAt<l.toJSON()&&e.endsAt>l.toJSON());e?(Gu.set(e),Ju.set()):Ju.set(u.find(e=>e.startsAt<d.toJSON()&&e.startsAt>l.toJSON()))}e.$every15Seconds&&n("in24Hours",f=new Date(i.getTime()+864e5)),(e.sessions||e.now||e.in24Hours)&&n("todaySessions",p=u.filter(e=>e.startsAt>l.toJSON()&&e.endsAt<f.toJSON()))}),{sessions:u,formatDate:e=>{const t=fc(new Date(e),new Date);return t.charAt(0).toUpperCase()+t.slice(1)},Date:Date,$imminentSession:r,todaySessions:p,$nowSession:a,$location:s}}class th extends be{constructor(e){super(),ye(this,e,eh,Zp,s,["sessions"])}}function nh(e){var t,n=new Ga({props:{errors:e.errors}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$sessions&&(r.errors=t.errors),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function rh(e){var t,n,r=e.result.data.sessions.length>0&&oh(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,n){n.result.data.sessions.length>0?r?(r.p(e,n),se(r,1)):((r=oh(n)).c(),se(r,1),r.m(t.parentNode,t)):r&&(ie(),ce(r,1,1,()=>{r=null}),ae())},i(e){n||(se(r),n=!0)},o(e){ce(r),n=!1},d(e){r&&r.d(e),e&&k(t)}}}function oh(e){var t,n=new th({props:{sessions:e.result.data.sessions}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.$sessions&&(r.sessions=t.result.data.sessions),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function ih(t){var n,r=new Lu({props:{what:"Your upcoming sessions"}});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function ah(e){var t,r,o;let i={ctx:e,current:null,token:null,pending:ih,then:rh,catch:nh,value:"result",error:"errors",blocks:[,,,]};return le(r=e.$sessions,i),{c(){t=D(),i.block.c()},m(e,n){w(e,t,n),i.block.m(e,i.anchor=n),i.mount=(()=>t.parentNode),i.anchor=t,o=!0},p(t,o){e=o,i.ctx=e,"$sessions"in t&&r!==(r=e.$sessions)&&le(r,i)||i.block.p(t,n(n({},e),i.resolved))},i(e){o||(se(i.block),o=!0)},o(e){for(let e=0;e<3;e+=1){ce(i.blocks[e])}o=!1},d(e){e&&k(t),i.block.d(e),i.token=null,i=null}}}const sh=24;function ch(e,t,n){let r,o,i;c(e,Ia,e=>{n("$auth",r=e)}),c(e,el,e=>{n("$every2Hours",o=e)});const a=new Date,s=new Date(a.getTime()+36e5*sh),u=No(So,{query:hc,variables:{id:r.id,now:a,latest:s}});return c(e,u,e=>{n("$sessions",i=e)}),e.$$.update=((e={$auth:1,$every2Hours:1})=>{(e.$auth||e.$every2Hours)&&u.refetch({id:r.id,now:o,latest:new Date(o.getTime()+36e5*sh)})}),{sessions:u,$sessions:i}}class uh extends be{constructor(e){super(),ye(this,e,ch,ah,s,[])}}function lh(e){var t,n=new uh({});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function dh(t){var n,r=new Mp({});return{c(){r.$$.fragment.c()},m(e,t){me(r,e,t),n=!0},p:e,i(e){n||(se(r.$$.fragment,e),n=!0)},o(e){ce(r.$$.fragment,e),n=!1},d(e){ge(r,e)}}}function fh(e){var t,n=new Na({props:{routes:Dp}});return{c(){n.$$.fragment.c()},m(e,r){me(n,e,r),t=!0},p(e,t){var r={};e.routes&&(r.routes=Dp),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ce(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function ph(e){var t,n,r,o,i,a,s,c=new Lp({}),u=e.$auth.username&&!e.$nowSession&&lh(),l=[fh,dh],d=[];function f(e){return e.$auth.username||"/signup"===e.$location?0:1}o=f(e),i=d[o]=l[o](e);var p=new Re({});return{c(){c.$$.fragment.c(),t=I(),n=x("main"),u&&u.c(),r=I(),i.c(),a=I(),p.$$.fragment.c(),T(n,"class","svelte-3eevj6")},m(e,i){me(c,e,i),w(e,t,i),w(e,n,i),u&&u.m(n,null),b(n,r),d[o].m(n,null),w(e,a,i),me(p,e,i),s=!0},p(e,t){t.$auth.username&&!t.$nowSession?u?se(u,1):((u=lh()).c(),se(u,1),u.m(n,r)):u&&(ie(),ce(u,1,1,()=>{u=null}),ae());var a=o;(o=f(t))===a?d[o].p(e,t):(ie(),ce(d[a],1,1,()=>{d[a]=null}),ae(),(i=d[o])||(i=d[o]=l[o](t)).c(),se(i,1),i.m(n,null))},i(e){s||(se(c.$$.fragment,e),se(u),se(i),se(p.$$.fragment,e),s=!0)},o(e){ce(c.$$.fragment,e),ce(u),ce(i),ce(p.$$.fragment,e),s=!1},d(e){ge(c,e),e&&(k(t),k(n)),u&&u.d(),d[o].d(),e&&k(a),ge(p,e)}}}function hh(e,t,n){let r,o,i;return c(e,Ia,e=>{n("$auth",r=e)}),c(e,Gu,e=>{n("$nowSession",o=e)}),c(e,Ta,e=>{n("$location",i=e)}),{$auth:r,$nowSession:o,$location:i}}return new class extends be{constructor(e){super(),ye(this,e,hh,ph,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

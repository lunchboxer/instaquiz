{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/svelte/store/index.mjs","../src/components/notifications/data.js","../node_modules/svelte/easing/index.mjs","../node_modules/svelte/transition/index.mjs","../src/components/notifications/NotificationItem.svelte","../src/components/notifications/NotificationList.svelte","../node_modules/tslib/tslib.es6.js","../node_modules/graphql/jsutils/nodejsCustomInspectSymbol.mjs","../node_modules/graphql/jsutils/inspect.mjs","../node_modules/graphql/language/visitor.mjs","../node_modules/ts-invariant/lib/invariant.esm.js","../node_modules/fast-json-stable-stringify/index.js","../node_modules/@wry/equality/lib/equality.esm.js","../node_modules/apollo-utilities/lib/bundle.esm.js","../node_modules/zen-observable/lib/Observable.js","../node_modules/zen-observable-ts/lib/bundle.esm.js","../node_modules/zen-observable/index.js","../node_modules/apollo-link/lib/bundle.esm.js","../node_modules/symbol-observable/es/index.js","../node_modules/apollo-client/bundle.esm.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/apollo-cache/lib/bundle.esm.js","../node_modules/@wry/context/lib/context.esm.js","../node_modules/optimism/lib/bundle.esm.js","../node_modules/apollo-cache-inmemory/lib/bundle.esm.js","../node_modules/backo2/index.js","../node_modules/eventemitter3/index.js","../node_modules/subscriptions-transport-ws/dist/utils/is-string.js","../node_modules/subscriptions-transport-ws/dist/utils/is-object.js","../node_modules/graphql/language/blockString.mjs","../node_modules/graphql/language/printer.mjs","../node_modules/graphql/language/kinds.mjs","../node_modules/graphql/utilities/getOperationAST.mjs","../node_modules/subscriptions-transport-ws/dist/protocol.js","../node_modules/subscriptions-transport-ws/dist/defaults.js","../node_modules/subscriptions-transport-ws/dist/message-types.js","../node_modules/subscriptions-transport-ws/dist/client.js","../node_modules/apollo-link-ws/lib/bundle.esm.js","../node_modules/apollo-link-http-common/lib/bundle.esm.js","../node_modules/apollo-link-http/lib/bundle.esm.js","../node_modules/apollo-link-error/lib/bundle.esm.js","../src/data/apollo.js","../node_modules/apollo-link-context/lib/bundle.esm.js","../node_modules/svelte-observable/dist/svelte-observable.es.js","../node_modules/svelte-apollo/dist/svelte-apollo.es.js","../node_modules/graphql/jsutils/defineToJSON.mjs","../node_modules/graphql/jsutils/invariant.mjs","../node_modules/graphql/language/source.mjs","../node_modules/graphql/jsutils/defineToStringTag.mjs","../node_modules/graphql/jsutils/isObjectLike.mjs","../node_modules/graphql/language/location.mjs","../node_modules/graphql/language/printLocation.mjs","../node_modules/graphql/error/GraphQLError.mjs","../node_modules/graphql/error/syntaxError.mjs","../node_modules/graphql/language/tokenKind.mjs","../node_modules/graphql/language/lexer.mjs","../node_modules/graphql/language/directiveLocation.mjs","../node_modules/graphql/language/parser.mjs","../node_modules/graphql-tag/src/index.js","../src/data/fragments.js","../src/data/mutations.js","../src/data/auth.js","../node_modules/svelte-spa-router/Router.svelte","../node_modules/regexparam/dist/regexparam.mjs","../src/components/Input.svelte","../src/components/Error.svelte","../src/components/Signup.svelte","../node_modules/date-fns/esm/toDate/index.js","../node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/startOfDay/index.js","../node_modules/date-fns/esm/differenceInCalendarDays/index.js","../node_modules/date-fns/esm/compareAsc/index.js","../node_modules/date-fns/esm/differenceInMonths/index.js","../node_modules/date-fns/esm/differenceInCalendarMonths/index.js","../node_modules/date-fns/esm/differenceInSeconds/index.js","../node_modules/date-fns/esm/differenceInMilliseconds/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../node_modules/date-fns/esm/locale/en-US/index.js","../node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../node_modules/date-fns/esm/subMilliseconds/index.js","../node_modules/date-fns/esm/addMilliseconds/index.js","../node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../node_modules/date-fns/esm/_lib/format/formatters/index.js","../node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../node_modules/date-fns/esm/_lib/protectedTokens/index.js","../node_modules/date-fns/esm/format/index.js","../node_modules/date-fns/esm/isValid/index.js","../node_modules/date-fns/esm/_lib/cloneObject/index.js","../node_modules/date-fns/esm/_lib/assign/index.js","../node_modules/date-fns/esm/formatDistance/index.js","../node_modules/date-fns/esm/formatDistanceStrict/index.js","../node_modules/date-fns/esm/formatDistanceToNow/index.js","../node_modules/date-fns/esm/formatRelative/index.js","../src/data/queries.js","../src/components/Modal.svelte","../src/components/courses/TermSelect.svelte","../src/components/courses/CourseForm.svelte","../src/components/courses/AddCourse.svelte","../src/components/courses/CategorizedCourseList.svelte","../node_modules/flatpickr/dist/flatpickr.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/DatePicker.svelte","../src/components/terms/TermForm.svelte","../src/components/terms/CreateTerm.svelte","../src/components/terms/TermsList.svelte","../src/components/Loading.svelte","../src/components/terms/TermsLoader.svelte","../src/components/dashboard/stores.js","../src/components/dashboard/TeacherAnswerRow.svelte","../src/components/dashboard/TeacherAnswers.svelte","../src/components/dashboard/TeacherQuestionCard.svelte","../src/components/dashboard/TeachersQuestions.svelte","../src/components/dashboard/ActiveTeacherSession.svelte","../src/components/dashboard/StudentQuestionCard.svelte","../src/components/dashboard/ActiveStudentSession.svelte","../src/components/dashboard/ActiveSession.svelte","../src/components/dashboard/Dashboard.svelte","../src/components/NotFound.svelte","../src/components/courses/AddStudentToCourse.svelte","../src/components/profile/Profile.svelte","../src/components/terms/TermDetails.svelte","../src/components/terms/Term.svelte","../src/components/terms/Terms.svelte","../src/components/courses/AddTeacherToCourse.svelte","../src/components/courses/RemoveTeacherFromCourse.svelte","../src/components/courses/DeleteCourse.svelte","../src/components/sessions/SessionForm.svelte","../src/components/sessions/AddSession.svelte","../src/components/courses/CourseDetails.svelte","../src/components/courses/Course.svelte","../src/components/questions/QuestionForm.svelte","../src/components/questions/CreateQuestion.svelte","../src/components/sessions/SessionDetails.svelte","../src/components/sessions/Session.svelte","../src/components/courses/CourseList.svelte","../src/components/courses/Courses.svelte","../src/components/questions/DeleteQuestion.svelte","../src/components/questions/CreateAnswer.svelte","../src/components/questions/DeleteAnswer.svelte","../src/components/questions/QuestionDetails.svelte","../src/components/questions/Question.svelte","../src/routes.js","../src/components/Login.svelte","../src/components/NavbarLink.svelte","../src/components/Navbar.svelte","../src/components/Warning.svelte","../src/components/dashboard/HasSessionIn24Hours.svelte","../src/components/dashboard/UpcomingSessions.svelte","../src/App.svelte","../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(component, store, callback) {\n    const unsub = store.subscribe(callback);\n    component.$$.on_destroy.push(unsub.unsubscribe\n        ? () => unsub.unsubscribe()\n        : unsub);\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = cb => requestAnimationFrame(cb);\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction detach_between(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction detach_before(after) {\n    while (after.previousSibling) {\n        after.parentNode.removeChild(after.previousSibling);\n    }\n}\nfunction detach_after(before) {\n    while (before.nextSibling) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    for (const key in attributes) {\n        if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key in node) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value) {\n    node.style.setProperty(key, value);\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            flush();\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n    }\n    if (is_promise(promise)) {\n        promise.then(value => {\n            update(info.then, 1, info.value, value);\n        }, error => {\n            update(info.catch, 2, info.error, error);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args) {\n    const attributes = Object.assign({}, ...args);\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === undefined)\n            return;\n        if (value === true)\n            str += \" \" + name;\n        const escaped = String(value)\n            .replace(/\"/g, '&#34;')\n            .replace(/'/g, '&#39;');\n        str += \" \" + name + \"=\" + JSON.stringify(escaped);\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n * @param store readable\n */\nfunction get_store_value(store) {\n    let value;\n    const unsubscribe = store.subscribe(_ => value = _);\n    if (unsubscribe.unsubscribe)\n        unsubscribe.unsubscribe();\n    else\n        unsubscribe();\n    return value;\n}\nfunction add_attribute(name, value) {\n    if (!value)\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(value) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    if (component.$$.props.indexOf(name) === -1)\n        return;\n    component.$$.bound[name] = callback;\n    callback(component.$$.ctx[name]);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    if (component.$$.fragment) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, value) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement !== 'undefined') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\n\nexport { SvelteComponent, SvelteComponentDev, SvelteElement, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, assign, attr, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_element, claim_text, clear_loops, createEventDispatcher, create_animation, create_bidirectional_transition, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, debug, destroy_block, destroy_component, destroy_each, detach, detach_after, detach_before, detach_between, dirty_components, each, element, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_slot_changes, get_slot_context, get_spread_update, get_store_value, globals, group_outros, handle_promise, identity, init, insert, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, loop, measure, missing_component, mount_component, noop, not_equal, now, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_input_type, set_now, set_raf, set_style, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","import { safe_not_equal, noop, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n * @param {Stores} stores input stores\n * @param {function(Stores=, function(*)=):*}fn function callback that aggregates the values\n * @param {*=}initial_value when used asynchronously\n */\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => store.subscribe((value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable } from 'svelte/store'\n\nconst selfDestructDelay = 4000 // milliseconds\n\nconst generateKey = () => {\n  // timestamp with 4 random characters on the end\n  const now = new Date()\n  const randomCode = Math.floor((1 + Math.random()) * 0x10000)\n    .toString(16)\n    .substring(1)\n  return now.toISOString() + randomCode\n}\n\nconst createNotificationStore = () => {\n  const { subscribe, update } = writable({})\n\n  return {\n    subscribe,\n    remove: id => {\n      update(previous => {\n        const { [id]: value, ...withoutThisOne } = previous\n        return withoutThisOne\n      })\n    },\n    add: function (message) {\n      const id = generateKey()\n      update(previous => ({ ...previous, [id]: message }))\n      setTimeout(() => {\n        this.remove(id)\n      }, selfDestructDelay)\n    }\n  }\n}\n\nexport const notifications = createNotificationStore()\n","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicOut, cubicInOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction fade(node, { delay = 0, duration = 400 }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `overflow: hidden;` +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { crossfade, draw, fade, fly, scale, slide };\n","<script>\n  import { notifications } from './data'\n\n  export let id\n  export let message\n\n  $: text = !message || typeof message === 'string' ? message : message.text\n  $: type = !message || typeof message === 'string' ? 'info' : message.type\n\n  const remove = () => notifications.remove(id)\n</script>\n\n\n<div class=\"notification is-{type}\">\n  <button class=\"delete\" on:click={remove}></button>\n  {text}\n</div>\n\n<style>\n  .notification {\n    margin-bottom: 0.5rem;\n  }\n</style>","<script>\n  import { fly } from 'svelte/transition'\n  import NotificationItem from './NotificationItem.svelte'\n  import { notifications } from './data'\n</script>\n\n<style>\n  .notification-list {\n    display: flex;\n    flex-direction: column;\n    position: fixed;\n    top: 3rem;\n    right: 0;\n    margin: 0.5rem;\n    width: auto;\n    max-width: calc(100% - 4rem);\n    z-index: 99;\n  }\n\n  .notification {\n    list-style: none;\n    /* padding: 0 1rem; */\n    /* margin: 0.5rem; */\n    /* box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.2); */\n    width: 100%;\n    background-color: var(--background);\n  }\n</style>\n\n{#if $notifications}\n<div class=\"notification-list\">\n  {#each Object.entries($notifications) as [id, message] (id)}\n  <div transition:fly=\"{{ x: 400 }}\" >\n      <NotificationItem message={message} id={id} />\n  </div>\n   \n  {/each}\n</div>\n{/if}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","var nodejsCustomInspectSymbol = typeof Symbol === 'function' && typeof Symbol.for === 'function' ? Symbol.for('nodejs.util.inspect.custom') : undefined;\nexport default nodejsCustomInspectSymbol;\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport nodejsCustomInspectSymbol from './nodejsCustomInspectSymbol';\nvar MAX_ARRAY_LENGTH = 10;\nvar MAX_RECURSIVE_DEPTH = 2;\n/**\n * Used to print values in error messages.\n */\n\nexport default function inspect(value) {\n  return formatValue(value, []);\n}\n\nfunction formatValue(value, seenValues) {\n  switch (_typeof(value)) {\n    case 'string':\n      return JSON.stringify(value);\n\n    case 'function':\n      return value.name ? \"[function \".concat(value.name, \"]\") : '[function]';\n\n    case 'object':\n      if (value === null) {\n        return 'null';\n      }\n\n      return formatObjectValue(value, seenValues);\n\n    default:\n      return String(value);\n  }\n}\n\nfunction formatObjectValue(value, previouslySeenValues) {\n  if (previouslySeenValues.indexOf(value) !== -1) {\n    return '[Circular]';\n  }\n\n  var seenValues = [].concat(previouslySeenValues, [value]);\n  var customInspectFn = getCustomFn(value);\n\n  if (customInspectFn !== undefined) {\n    // $FlowFixMe(>=0.90.0)\n    var customValue = customInspectFn.call(value); // check for infinite recursion\n\n    if (customValue !== value) {\n      return typeof customValue === 'string' ? customValue : formatValue(customValue, seenValues);\n    }\n  } else if (Array.isArray(value)) {\n    return formatArray(value, seenValues);\n  }\n\n  return formatObject(value, seenValues);\n}\n\nfunction formatObject(object, seenValues) {\n  var keys = Object.keys(object);\n\n  if (keys.length === 0) {\n    return '{}';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[' + getObjectTag(object) + ']';\n  }\n\n  var properties = keys.map(function (key) {\n    var value = formatValue(object[key], seenValues);\n    return key + ': ' + value;\n  });\n  return '{ ' + properties.join(', ') + ' }';\n}\n\nfunction formatArray(array, seenValues) {\n  if (array.length === 0) {\n    return '[]';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[Array]';\n  }\n\n  var len = Math.min(MAX_ARRAY_LENGTH, array.length);\n  var remaining = array.length - len;\n  var items = [];\n\n  for (var i = 0; i < len; ++i) {\n    items.push(formatValue(array[i], seenValues));\n  }\n\n  if (remaining === 1) {\n    items.push('... 1 more item');\n  } else if (remaining > 1) {\n    items.push(\"... \".concat(remaining, \" more items\"));\n  }\n\n  return '[' + items.join(', ') + ']';\n}\n\nfunction getCustomFn(object) {\n  var customInspectFn = object[String(nodejsCustomInspectSymbol)];\n\n  if (typeof customInspectFn === 'function') {\n    return customInspectFn;\n  }\n\n  if (typeof object.inspect === 'function') {\n    return object.inspect;\n  }\n}\n\nfunction getObjectTag(object) {\n  var tag = Object.prototype.toString.call(object).replace(/^\\[object /, '').replace(/]$/, '');\n\n  if (tag === 'Object' && typeof object.constructor === 'function') {\n    var name = object.constructor.name;\n\n    if (typeof name === 'string') {\n      return name;\n    }\n  }\n\n  return tag;\n}\n","import inspect from '../jsutils/inspect';\nexport var QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexport var BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexport function visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n\n  /* eslint-disable no-undef-init */\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var _i = 0, _Object$keys = Object.keys(node); _i < _Object$keys.length; _i++) {\n            var k = _Object$keys[_i];\n            clone[k] = node[k];\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!isNode(node)) {\n        throw new Error('Invalid AST Node: ' + inspect(node));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if (isNode(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : visitorKeys[node.kind] || [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n\nfunction isNode(maybeNode) {\n  return Boolean(maybeNode && typeof maybeNode.kind === 'string');\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\n\nexport function visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (!skipping[i]) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (!skipping[i]) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Creates a new visitor instance which maintains a provided TypeInfo instance\n * along with visiting visitor.\n */\n\nexport function visitWithTypeInfo(typeInfo, visitor) {\n  return {\n    enter: function enter(node) {\n      typeInfo.enter(node);\n      var fn = getVisitFn(visitor, node.kind,\n      /* isLeaving */\n      false);\n\n      if (fn) {\n        var result = fn.apply(visitor, arguments);\n\n        if (result !== undefined) {\n          typeInfo.leave(node);\n\n          if (isNode(result)) {\n            typeInfo.enter(result);\n          }\n        }\n\n        return result;\n      }\n    },\n    leave: function leave(node) {\n      var fn = getVisitFn(visitor, node.kind,\n      /* isLeaving */\n      true);\n      var result;\n\n      if (fn) {\n        result = fn.apply(visitor, arguments);\n      }\n\n      typeInfo.leave(node);\n      return result;\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}\n","import { __extends } from 'tslib';\n\nvar genericMessage = \"Invariant Violation\";\r\nvar _a = Object.setPrototypeOf, setPrototypeOf = _a === void 0 ? function (obj, proto) {\r\n    obj.__proto__ = proto;\r\n    return obj;\r\n} : _a;\r\nvar InvariantError = /** @class */ (function (_super) {\r\n    __extends(InvariantError, _super);\r\n    function InvariantError(message) {\r\n        if (message === void 0) { message = genericMessage; }\r\n        var _this = _super.call(this, typeof message === \"number\"\r\n            ? genericMessage + \": \" + message + \" (see https://github.com/apollographql/invariant-packages)\"\r\n            : message) || this;\r\n        _this.framesToPop = 1;\r\n        _this.name = genericMessage;\r\n        setPrototypeOf(_this, InvariantError.prototype);\r\n        return _this;\r\n    }\r\n    return InvariantError;\r\n}(Error));\r\nfunction invariant(condition, message) {\r\n    if (!condition) {\r\n        throw new InvariantError(message);\r\n    }\r\n}\r\nfunction wrapConsoleMethod(method) {\r\n    return function () {\r\n        return console[method].apply(console, arguments);\r\n    };\r\n}\r\n(function (invariant) {\r\n    invariant.warn = wrapConsoleMethod(\"warn\");\r\n    invariant.error = wrapConsoleMethod(\"error\");\r\n})(invariant || (invariant = {}));\r\n// Code that uses ts-invariant with rollup-plugin-invariant may want to\r\n// import this process stub to avoid errors evaluating process.env.NODE_ENV.\r\n// However, because most ESM-to-CJS compilers will rewrite the process import\r\n// as tsInvariant.process, which prevents proper replacement by minifiers, we\r\n// also attempt to define the stub globally when it is not already defined.\r\nvar processStub = { env: {} };\r\nif (typeof process === \"object\") {\r\n    processStub = process;\r\n}\r\nelse\r\n    try {\r\n        // Using Function to evaluate this assignment in global scope also escapes\r\n        // the strict mode of the current module, thereby allowing the assignment.\r\n        // Inspired by https://github.com/facebook/regenerator/pull/369.\r\n        Function(\"stub\", \"process = stub\")(processStub);\r\n    }\r\n    catch (atLeastWeTried) {\r\n        // The assignment can fail if a Content Security Policy heavy-handedly\r\n        // forbids Function usage. In those environments, developers should take\r\n        // extra care to replace process.env.NODE_ENV in their production builds,\r\n        // or define an appropriate global.process polyfill.\r\n    }\r\nvar invariant$1 = invariant;\n\nexport default invariant$1;\nexport { InvariantError, invariant, processStub as process };\n//# sourceMappingURL=invariant.esm.js.map\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","var _a = Object.prototype, toString = _a.toString, hasOwnProperty = _a.hasOwnProperty;\r\nvar previousComparisons = new Map();\r\n/**\r\n * Performs a deep equality check on two JavaScript values, tolerating cycles.\r\n */\r\nfunction equal(a, b) {\r\n    try {\r\n        return check(a, b);\r\n    }\r\n    finally {\r\n        previousComparisons.clear();\r\n    }\r\n}\r\nfunction check(a, b) {\r\n    // If the two values are strictly equal, our job is easy.\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    // Object.prototype.toString returns a representation of the runtime type of\r\n    // the given value that is considerably more precise than typeof.\r\n    var aTag = toString.call(a);\r\n    var bTag = toString.call(b);\r\n    // If the runtime types of a and b are different, they could maybe be equal\r\n    // under some interpretation of equality, but for simplicity and performance\r\n    // we just return false instead.\r\n    if (aTag !== bTag) {\r\n        return false;\r\n    }\r\n    switch (aTag) {\r\n        case '[object Array]':\r\n            // Arrays are a lot like other objects, but we can cheaply compare their\r\n            // lengths as a short-cut before comparing their elements.\r\n            if (a.length !== b.length)\r\n                return false;\r\n        // Fall through to object case...\r\n        case '[object Object]': {\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aKeys = Object.keys(a);\r\n            var bKeys = Object.keys(b);\r\n            // If `a` and `b` have a different number of enumerable keys, they\r\n            // must be different.\r\n            var keyCount = aKeys.length;\r\n            if (keyCount !== bKeys.length)\r\n                return false;\r\n            // Now make sure they have the same keys.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                if (!hasOwnProperty.call(b, aKeys[k])) {\r\n                    return false;\r\n                }\r\n            }\r\n            // Finally, check deep equality of all child properties.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                var key = aKeys[k];\r\n                if (!check(a[key], b[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Error]':\r\n            return a.name === b.name && a.message === b.message;\r\n        case '[object Number]':\r\n            // Handle NaN, which is !== itself.\r\n            if (a !== a)\r\n                return b !== b;\r\n        // Fall through to shared +a === +b case...\r\n        case '[object Boolean]':\r\n        case '[object Date]':\r\n            return +a === +b;\r\n        case '[object RegExp]':\r\n        case '[object String]':\r\n            return a == \"\" + b;\r\n        case '[object Map]':\r\n        case '[object Set]': {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aIterator = a.entries();\r\n            var isMap = aTag === '[object Map]';\r\n            while (true) {\r\n                var info = aIterator.next();\r\n                if (info.done)\r\n                    break;\r\n                // If a instanceof Set, aValue === aKey.\r\n                var _a = info.value, aKey = _a[0], aValue = _a[1];\r\n                // So this works the same way for both Set and Map.\r\n                if (!b.has(aKey)) {\r\n                    return false;\r\n                }\r\n                // However, we care about deep equality of values only when dealing\r\n                // with Map structures.\r\n                if (isMap && !check(aValue, b.get(aKey))) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    // Otherwise the values are not equal.\r\n    return false;\r\n}\r\nfunction previouslyCompared(a, b) {\r\n    // Though cyclic references can make an object graph appear infinite from the\r\n    // perspective of a depth-first traversal, the graph still contains a finite\r\n    // number of distinct object references. We use the previousComparisons cache\r\n    // to avoid comparing the same pair of object references more than once, which\r\n    // guarantees termination (even if we end up comparing every object in one\r\n    // graph to every object in the other graph, which is extremely unlikely),\r\n    // while still allowing weird isomorphic structures (like rings with different\r\n    // lengths) a chance to pass the equality test.\r\n    var bSet = previousComparisons.get(a);\r\n    if (bSet) {\r\n        // Return true here because we can be sure false will be returned somewhere\r\n        // else if the objects are not equivalent.\r\n        if (bSet.has(b))\r\n            return true;\r\n    }\r\n    else {\r\n        previousComparisons.set(a, bSet = new Set);\r\n    }\r\n    bSet.add(b);\r\n    return false;\r\n}\n\nexport default equal;\nexport { equal };\n//# sourceMappingURL=equality.esm.js.map\n","import { visit } from 'graphql/language/visitor';\nimport { InvariantError, invariant } from 'ts-invariant';\nimport { __assign } from 'tslib';\nimport stringify from 'fast-json-stable-stringify';\nexport { equal as isEqual } from '@wry/equality';\n\nfunction isScalarValue(value) {\n    return ['StringValue', 'BooleanValue', 'EnumValue'].indexOf(value.kind) > -1;\n}\nfunction isNumberValue(value) {\n    return ['IntValue', 'FloatValue'].indexOf(value.kind) > -1;\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nfunction valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(17) : new InvariantError(\"The inline argument \\\"\" + name.value + \"\\\" of kind \\\"\" + value.kind + \"\\\"\" +\n            'is not supported. Use variables instead of inline arguments to ' +\n            'overcome this limitation.');\n    }\n}\nfunction storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n];\nfunction getStoreKeyName(fieldName, args, directives) {\n    if (directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var queryArgs_1 = args;\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = queryArgs_1[key];\n            });\n            return directives['connection']['key'] + \"(\" + JSON.stringify(filteredArgs_1) + \")\";\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\" + stringifiedArgs + \")\";\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\" + key + \"(\" + JSON.stringify(directives[key]) + \")\";\n            }\n            else {\n                completeFieldName += \"@\" + key;\n            }\n        });\n    }\n    return completeFieldName;\n}\nfunction argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nfunction resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nfunction isField(selection) {\n    return selection.kind === 'Field';\n}\nfunction isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\nfunction isIdValue(idObject) {\n    return idObject &&\n        idObject.type === 'id' &&\n        typeof idObject.generated === 'boolean';\n}\nfunction toIdValue(idConfig, generated) {\n    if (generated === void 0) { generated = false; }\n    return __assign({ type: 'id', generated: generated }, (typeof idConfig === 'string'\n        ? { id: idConfig, typename: undefined }\n        : idConfig));\n}\nfunction isJsonValue(jsonObject) {\n    return (jsonObject != null &&\n        typeof jsonObject === 'object' &&\n        jsonObject.type === 'json');\n}\nfunction defaultValueFromVariable(node) {\n    throw process.env.NODE_ENV === \"production\" ? new InvariantError(18) : new InvariantError(\"Variable nodes are not supported by valueFromNode\");\n}\nfunction valueFromNode(node, onVariable) {\n    if (onVariable === void 0) { onVariable = defaultValueFromVariable; }\n    switch (node.kind) {\n        case 'Variable':\n            return onVariable(node);\n        case 'NullValue':\n            return null;\n        case 'IntValue':\n            return parseInt(node.value, 10);\n        case 'FloatValue':\n            return parseFloat(node.value);\n        case 'ListValue':\n            return node.values.map(function (v) { return valueFromNode(v, onVariable); });\n        case 'ObjectValue': {\n            var value = {};\n            for (var _i = 0, _a = node.fields; _i < _a.length; _i++) {\n                var field = _a[_i];\n                value[field.name.value] = valueFromNode(field.value, onVariable);\n            }\n            return value;\n        }\n        default:\n            return node.value;\n    }\n}\n\nfunction getDirectiveInfoFromField(field, variables) {\n    if (field.directives && field.directives.length) {\n        var directiveObj_1 = {};\n        field.directives.forEach(function (directive) {\n            directiveObj_1[directive.name.value] = argumentsObjectFromField(directive, variables);\n        });\n        return directiveObj_1;\n    }\n    return null;\n}\nfunction shouldInclude(selection, variables) {\n    if (variables === void 0) { variables = {}; }\n    return getInclusionDirectives(selection.directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables[ifArgument.value.name.value];\n            process.env.NODE_ENV === \"production\" ? invariant(evaledValue !== void 0, 3) : invariant(evaledValue !== void 0, \"Invalid variable referenced in @\" + directive.name.value + \" directive.\");\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nfunction getDirectiveNames(doc) {\n    var names = [];\n    visit(doc, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nfunction hasDirectives(names, doc) {\n    return getDirectiveNames(doc).some(function (name) { return names.indexOf(name) > -1; });\n}\nfunction hasClientExports(document) {\n    return (document &&\n        hasDirectives(['client'], document) &&\n        hasDirectives(['export'], document));\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nfunction getInclusionDirectives(directives) {\n    return directives ? directives.filter(isInclusionDirective).map(function (directive) {\n        var directiveArguments = directive.arguments;\n        var directiveName = directive.name.value;\n        process.env.NODE_ENV === \"production\" ? invariant(directiveArguments && directiveArguments.length === 1, 4) : invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\" + directiveName + \" directive.\");\n        var ifArgument = directiveArguments[0];\n        process.env.NODE_ENV === \"production\" ? invariant(ifArgument.name && ifArgument.name.value === 'if', 5) : invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\" + directiveName + \" directive.\");\n        var ifValue = ifArgument.value;\n        process.env.NODE_ENV === \"production\" ? invariant(ifValue &&\n            (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 6) : invariant(ifValue &&\n            (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\" + directiveName + \" directive must be a variable or a boolean value.\");\n        return { directive: directive, ifArgument: ifArgument };\n    }) : [];\n}\n\nfunction getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"Found a \" + definition.operation + \" operation\" + (definition.name ? \" named '\" + definition.name.value + \"'\" : '') + \". \" +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.');\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        process.env.NODE_ENV === \"production\" ? invariant(fragments.length === 1, 2) : invariant(fragments.length === 1, \"Found \" + fragments.length + \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\");\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign({}, document, { definitions: [\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ].concat(document.definitions) });\n    return query;\n}\n\nfunction assign(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    sources.forEach(function (source) {\n        if (typeof source === 'undefined' || source === null) {\n            return;\n        }\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    });\n    return target;\n}\n\nfunction getMutationDefinition(doc) {\n    checkDocument(doc);\n    var mutationDef = doc.definitions.filter(function (definition) {\n        return definition.kind === 'OperationDefinition' &&\n            definition.operation === 'mutation';\n    })[0];\n    process.env.NODE_ENV === \"production\" ? invariant(mutationDef, 7) : invariant(mutationDef, 'Must contain a mutation definition.');\n    return mutationDef;\n}\nfunction checkDocument(doc) {\n    process.env.NODE_ENV === \"production\" ? invariant(doc && doc.kind === 'Document', 8) : invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\");\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(9) : new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\" + definition.kind + \"\\\"\");\n        }\n        return definition;\n    });\n    process.env.NODE_ENV === \"production\" ? invariant(operations.length <= 1, 10) : invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \" + operations.length + \" operations\");\n    return doc;\n}\nfunction getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\n}\nfunction getOperationDefinitionOrDie(document) {\n    var def = getOperationDefinition(document);\n    process.env.NODE_ENV === \"production\" ? invariant(def, 11) : invariant(def, \"GraphQL document is missing an operation\");\n    return def;\n}\nfunction getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nfunction getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\n}\nfunction getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    process.env.NODE_ENV === \"production\" ? invariant(queryDef && queryDef.operation === 'query', 12) : invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.');\n    return queryDef;\n}\nfunction getFragmentDefinition(doc) {\n    process.env.NODE_ENV === \"production\" ? invariant(doc.kind === 'Document', 13) : invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\");\n    process.env.NODE_ENV === \"production\" ? invariant(doc.definitions.length <= 1, 14) : invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.');\n    var fragmentDef = doc.definitions[0];\n    process.env.NODE_ENV === \"production\" ? invariant(fragmentDef.kind === 'FragmentDefinition', 15) : invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.');\n    return fragmentDef;\n}\nfunction getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw process.env.NODE_ENV === \"production\" ? new InvariantError(16) : new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.');\n}\nfunction createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nfunction getDefaultValues(definition) {\n    if (definition &&\n        definition.variableDefinitions &&\n        definition.variableDefinitions.length) {\n        var defaultValues = definition.variableDefinitions\n            .filter(function (_a) {\n            var defaultValue = _a.defaultValue;\n            return defaultValue;\n        })\n            .map(function (_a) {\n            var variable = _a.variable, defaultValue = _a.defaultValue;\n            var defaultValueObj = {};\n            valueToObjectRepresentation(defaultValueObj, variable.name, defaultValue);\n            return defaultValueObj;\n        });\n        return assign.apply(void 0, [{}].concat(defaultValues));\n    }\n    return {};\n}\nfunction variablesInOperation(operation) {\n    var names = new Set();\n    if (operation.variableDefinitions) {\n        for (var _i = 0, _a = operation.variableDefinitions; _i < _a.length; _i++) {\n            var definition = _a[_i];\n            names.add(definition.variable.name.value);\n        }\n    }\n    return names;\n}\n\nfunction filterInPlace(array, test, context) {\n    var target = 0;\n    array.forEach(function (elem, i) {\n        if (test.call(this, elem, i, array)) {\n            array[target++] = elem;\n        }\n    }, context);\n    array.length = target;\n    return array;\n}\n\nvar TYPENAME_FIELD = {\n    kind: 'Field',\n    name: {\n        kind: 'Name',\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragments) {\n    return op.selectionSet.selections.every(function (selection) {\n        return selection.kind === 'FragmentSpread' &&\n            isEmpty(fragments[selection.name.value], fragments);\n    });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    return function directiveMatcher(directive) {\n        return directives.some(function (dir) {\n            return (dir.name && dir.name === directive.name.value) ||\n                (dir.test && dir.test(directive));\n        });\n    };\n}\nfunction removeDirectivesFromDocument(directives, doc) {\n    var variablesInUse = Object.create(null);\n    var variablesToRemove = [];\n    var fragmentSpreadsInUse = Object.create(null);\n    var fragmentSpreadsToRemove = [];\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\n        Variable: {\n            enter: function (node, _key, parent) {\n                if (parent.kind !== 'VariableDefinition') {\n                    variablesInUse[node.name.value] = true;\n                }\n            },\n        },\n        Field: {\n            enter: function (node) {\n                if (directives && node.directives) {\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\n                    if (shouldRemoveField &&\n                        node.directives &&\n                        node.directives.some(getDirectiveMatcher(directives))) {\n                        if (node.arguments) {\n                            node.arguments.forEach(function (arg) {\n                                if (arg.value.kind === 'Variable') {\n                                    variablesToRemove.push({\n                                        name: arg.value.name.value,\n                                    });\n                                }\n                            });\n                        }\n                        if (node.selectionSet) {\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\n                                fragmentSpreadsToRemove.push({\n                                    name: frag.name.value,\n                                });\n                            });\n                        }\n                        return null;\n                    }\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node) {\n                fragmentSpreadsInUse[node.name.value] = true;\n            },\n        },\n        Directive: {\n            enter: function (node) {\n                if (getDirectiveMatcher(directives)(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n    if (modifiedDoc &&\n        filterInPlace(variablesToRemove, function (v) { return !variablesInUse[v.name]; }).length) {\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\n    }\n    if (modifiedDoc &&\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !fragmentSpreadsInUse[fs.name]; })\n            .length) {\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\n    }\n    return modifiedDoc;\n}\nfunction addTypenameToDocument(doc) {\n    return visit(checkDocument(doc), {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === 'OperationDefinition') {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign({}, node, { selections: selections.concat([TYPENAME_FIELD]) });\n            },\n        },\n    });\n}\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                process.env.NODE_ENV === \"production\" || invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nfunction removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getDirectivesFromDocument(directives, doc) {\n    checkDocument(doc);\n    var parentPath;\n    return nullIfDocIsEmpty(visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, _parent, path) {\n                var currentPath = path.join('-');\n                if (!parentPath ||\n                    currentPath === parentPath ||\n                    !currentPath.startsWith(parentPath)) {\n                    if (node.selections) {\n                        var selectionsWithDirectives = node.selections.filter(function (selection) { return hasDirectivesInSelection(directives, selection); });\n                        if (hasDirectivesInSelectionSet(directives, node, false)) {\n                            parentPath = currentPath;\n                        }\n                        return __assign({}, node, { selections: selectionsWithDirectives });\n                    }\n                    else {\n                        return null;\n                    }\n                }\n            },\n        },\n    }));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === 'Variable' &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nfunction removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign({}, node, { variableDefinitions: node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    node.arguments.forEach(function (arg) {\n                        if (argMatcher(arg)) {\n                            argMatchCount_1 += 1;\n                        }\n                    });\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nfunction removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\n    var allFragments = [];\n    selectionSet.selections.forEach(function (selection) {\n        if ((isField(selection) || isInlineFragment(selection)) &&\n            selection.selectionSet) {\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\n        }\n        else if (selection.kind === 'FragmentSpread') {\n            allFragments.push(selection);\n        }\n    });\n    return allFragments;\n}\nfunction buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign({}, node, { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nfunction removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    if (modifiedDoc) {\n        modifiedDoc = visit(modifiedDoc, {\n            FragmentDefinition: {\n                enter: function (node) {\n                    if (node.selectionSet) {\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\n                            return isField(selection) && selection.name.value === '__typename';\n                        });\n                        if (isTypenameOnly) {\n                            return null;\n                        }\n                    }\n                },\n            },\n        });\n    }\n    return modifiedDoc;\n}\n\nvar canUseWeakMap = typeof WeakMap === 'function' && !(typeof navigator === 'object' &&\n    navigator.product === 'ReactNative');\n\nvar toString = Object.prototype.toString;\nfunction cloneDeep(value) {\n    return cloneDeepHelper(value, new Map());\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n\nfunction getEnv() {\n    if (typeof process !== 'undefined' && process.env.NODE_ENV) {\n        return process.env.NODE_ENV;\n    }\n    return 'development';\n}\nfunction isEnv(env) {\n    return getEnv() === env;\n}\nfunction isProduction() {\n    return isEnv('production') === true;\n}\nfunction isDevelopment() {\n    return isEnv('development') === true;\n}\nfunction isTest() {\n    return isEnv('test') === true;\n}\n\nfunction tryFunctionOrLogError(f) {\n    try {\n        return f();\n    }\n    catch (e) {\n        if (console.error) {\n            console.error(e);\n        }\n    }\n}\nfunction graphQLResultHasError(result) {\n    return result.errors && result.errors.length;\n}\n\nfunction deepFreeze(o) {\n    Object.freeze(o);\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\n        if (o[prop] !== null &&\n            (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\n            !Object.isFrozen(o[prop])) {\n            deepFreeze(o[prop]);\n        }\n    });\n    return o;\n}\nfunction maybeDeepFreeze(obj) {\n    if (isDevelopment() || isTest()) {\n        var symbolIsPolyfilled = typeof Symbol === 'function' && typeof Symbol('') === 'string';\n        if (!symbolIsPolyfilled) {\n            return deepFreeze(obj);\n        }\n    }\n    return obj;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nfunction mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var pastCopies = [];\n        target = shallowCopyForMerge(target, pastCopies);\n        for (var i = 1; i < count; ++i) {\n            target = mergeHelper(target, sources[i], pastCopies);\n        }\n    }\n    return target;\n}\nfunction isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\nfunction mergeHelper(target, source, pastCopies) {\n    if (isObject(source) && isObject(target)) {\n        if (Object.isExtensible && !Object.isExtensible(target)) {\n            target = shallowCopyForMerge(target, pastCopies);\n        }\n        Object.keys(source).forEach(function (sourceKey) {\n            var sourceValue = source[sourceKey];\n            if (hasOwnProperty.call(target, sourceKey)) {\n                var targetValue = target[sourceKey];\n                if (sourceValue !== targetValue) {\n                    target[sourceKey] = mergeHelper(shallowCopyForMerge(targetValue, pastCopies), sourceValue, pastCopies);\n                }\n            }\n            else {\n                target[sourceKey] = sourceValue;\n            }\n        });\n        return target;\n    }\n    return source;\n}\nfunction shallowCopyForMerge(value, pastCopies) {\n    if (value !== null &&\n        typeof value === 'object' &&\n        pastCopies.indexOf(value) < 0) {\n        if (Array.isArray(value)) {\n            value = value.slice(0);\n        }\n        else {\n            value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n        }\n        pastCopies.push(value);\n    }\n    return value;\n}\n\nvar haveWarned = Object.create({});\nfunction warnOnceInDevelopment(msg, type) {\n    if (type === void 0) { type = 'warn'; }\n    if (!isProduction() && !haveWarned[msg]) {\n        if (!isTest()) {\n            haveWarned[msg] = true;\n        }\n        if (type === 'error') {\n            console.error(msg);\n        }\n        else {\n            console.warn(msg);\n        }\n    }\n}\n\nfunction stripSymbols(data) {\n    return JSON.parse(JSON.stringify(data));\n}\n\nexport { addTypenameToDocument, argumentsObjectFromField, assign, buildQueryFromSelectionSet, canUseWeakMap, checkDocument, cloneDeep, createFragmentMap, getDefaultValues, getDirectiveInfoFromField, getDirectiveNames, getDirectivesFromDocument, getEnv, getFragmentDefinition, getFragmentDefinitions, getFragmentQueryDocument, getInclusionDirectives, getMainDefinition, getMutationDefinition, getOperationDefinition, getOperationDefinitionOrDie, getOperationName, getQueryDefinition, getStoreKeyName, graphQLResultHasError, hasClientExports, hasDirectives, isDevelopment, isEnv, isField, isIdValue, isInlineFragment, isJsonValue, isNumberValue, isProduction, isScalarValue, isTest, maybeDeepFreeze, mergeDeep, mergeDeepArray, removeArgumentsFromDocument, removeClientSetsFromDocument, removeConnectionDirectiveFromDocument, removeDirectivesFromDocument, removeFragmentSpreadFromDocument, resultKeyNameFromField, shouldInclude, storeKeyNameFromField, stripSymbols, toIdValue, tryFunctionOrLogError, valueFromNode, valueToObjectRepresentation, variablesInOperation, warnOnceInDevelopment };\n//# sourceMappingURL=bundle.esm.js.map\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// === Symbol Support ===\n\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species');\n\n// === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n\n  if (value == null) return undefined;\n\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n  if (!queue) {\n    return;\n  }\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({ type: type, value: value });\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{ type: type, value: value }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = function () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription);\n\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: 'unsubscribe',\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: 'closed',\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = function () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: 'next',\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: 'error',\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: 'complete',\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: 'closed',\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = exports.Observable = function () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: 'subscribe',\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: 'forEach',\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: 'map',\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n\n      var C = getSpecies(this);\n\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: 'filter',\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n\n      var C = getSpecies(this);\n\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: 'reduce',\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: 'concat',\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n\n      return new C(function (observer) {\n        var subscription = void 0;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: 'flatMap',\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n\n      var C = getSpecies(this);\n\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: 'from',\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n\n      if (x == null) throw new TypeError(x + ' is not an object');\n\n      var method = getMethod(x, SymbolObservable);\n      if (method) {\n        var observable = method.call(x);\n\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n\n        if (isObservable(observable) && observable.constructor === C) return observable;\n\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var item = _step.value;\n\n                  observer.next(item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: 'of',\n    value: function of() {\n      for (var _len2 = arguments.length, items = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","import zenObservable from 'zen-observable';\n\nvar Observable = zenObservable;\n\nexport default Observable;\nexport { Observable };\n//# sourceMappingURL=bundle.esm.js.map\n","module.exports = require('./lib/Observable.js').Observable;\n","import Observable from 'zen-observable-ts';\nexport { default as Observable } from 'zen-observable-ts';\nimport { invariant, InvariantError } from 'ts-invariant';\nimport { __extends, __assign } from 'tslib';\nimport { getOperationName } from 'apollo-utilities';\nexport { getOperationName } from 'apollo-utilities';\n\nfunction validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(2) : new InvariantError(\"illegal argument: \" + key);\n        }\n    }\n    return operation;\n}\nvar LinkError = (function (_super) {\n    __extends(LinkError, _super);\n    function LinkError(message, link) {\n        var _this = _super.call(this, message) || this;\n        _this.link = link;\n        return _this;\n    }\n    return LinkError;\n}(Error));\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nfunction toPromise(observable) {\n    var completed = false;\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            next: function (data) {\n                if (completed) {\n                    process.env.NODE_ENV === \"production\" || invariant.warn(\"Promise Wrapper does not support multiple results from Observable\");\n                }\n                else {\n                    completed = true;\n                    resolve(data);\n                }\n            },\n            error: reject,\n        });\n    });\n}\nvar makePromise = toPromise;\nfunction fromPromise(promise) {\n    return new Observable(function (observer) {\n        promise\n            .then(function (value) {\n            observer.next(value);\n            observer.complete();\n        })\n            .catch(observer.error.bind(observer));\n    });\n}\nfunction fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\nfunction transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query)\n                : '';\n    }\n    return transformedOperation;\n}\nfunction createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign({}, context, next(context));\n        }\n        else {\n            context = __assign({}, context, next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    Object.defineProperty(operation, 'toKey', {\n        enumerable: false,\n        value: function () { return getKey(operation); },\n    });\n    return operation;\n}\nfunction getKey(operation) {\n    var query = operation.query, variables = operation.variables, operationName = operation.operationName;\n    return JSON.stringify([operationName, query, variables]);\n}\n\nfunction passthrough(op, forward) {\n    return forward ? forward(op) : Observable.of();\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction empty() {\n    return new ApolloLink(function () { return Observable.of(); });\n}\nfunction from(links) {\n    if (links.length === 0)\n        return empty();\n    return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n}\nfunction split(test, left, right) {\n    var leftLink = toLink(left);\n    var rightLink = toLink(right || new ApolloLink(passthrough));\n    if (isTerminating(leftLink) && isTerminating(rightLink)) {\n        return new ApolloLink(function (operation) {\n            return test(operation)\n                ? leftLink.request(operation) || Observable.of()\n                : rightLink.request(operation) || Observable.of();\n        });\n    }\n    else {\n        return new ApolloLink(function (operation, forward) {\n            return test(operation)\n                ? leftLink.request(operation, forward) || Observable.of()\n                : rightLink.request(operation, forward) || Observable.of();\n        });\n    }\n}\nvar concat = function (first, second) {\n    var firstLink = toLink(first);\n    if (isTerminating(firstLink)) {\n        process.env.NODE_ENV === \"production\" || invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\n        return firstLink;\n    }\n    var nextLink = toLink(second);\n    if (isTerminating(nextLink)) {\n        return new ApolloLink(function (operation) {\n            return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n        });\n    }\n    else {\n        return new ApolloLink(function (operation, forward) {\n            return (firstLink.request(operation, function (op) {\n                return nextLink.request(op, forward) || Observable.of();\n            }) || Observable.of());\n        });\n    }\n};\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError('request is not implemented');\n    };\n    ApolloLink.empty = empty;\n    ApolloLink.from = from;\n    ApolloLink.split = split;\n    ApolloLink.execute = execute;\n    return ApolloLink;\n}());\nfunction execute(link, operation) {\n    return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n}\n\nexport { ApolloLink, concat, createOperation, empty, execute, from, fromError, fromPromise, makePromise, split, toPromise };\n//# sourceMappingURL=bundle.esm.js.map\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import { __extends, __assign, __awaiter, __generator } from 'tslib';\nimport { getOperationDefinition, isEqual, tryFunctionOrLogError, cloneDeep, mergeDeep, hasDirectives, removeClientSetsFromDocument, buildQueryFromSelectionSet, getMainDefinition, getFragmentDefinitions, createFragmentMap, mergeDeepArray, resultKeyNameFromField, argumentsObjectFromField, shouldInclude, isField, isInlineFragment, canUseWeakMap, graphQLResultHasError, removeConnectionDirectiveFromDocument, hasClientExports, getDefaultValues, getOperationName } from 'apollo-utilities';\nimport { Observable as Observable$1, execute, ApolloLink } from 'apollo-link';\nimport $$observable from 'symbol-observable';\nimport { InvariantError, invariant } from 'ts-invariant';\nimport { visit, BREAK } from 'graphql/language/visitor';\n\nvar NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\n})(NetworkStatus || (NetworkStatus = {}));\nfunction isNetworkRequestInFlight(networkStatus) {\n    return networkStatus < 7;\n}\n\nvar Observable = (function (_super) {\n    __extends(Observable, _super);\n    function Observable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Observable.prototype[$$observable] = function () {\n        return this;\n    };\n    Observable.prototype['@@observable'] = function () {\n        return this;\n    };\n    return Observable;\n}(Observable$1));\n\nfunction isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n\nfunction isApolloError(err) {\n    return err.hasOwnProperty('graphQLErrors');\n}\nvar generateErrorMessage = function (err) {\n    var message = '';\n    if (isNonEmptyArray(err.graphQLErrors)) {\n        err.graphQLErrors.forEach(function (graphQLError) {\n            var errorMessage = graphQLError\n                ? graphQLError.message\n                : 'Error message not found.';\n            message += \"GraphQL error: \" + errorMessage + \"\\n\";\n        });\n    }\n    if (err.networkError) {\n        message += 'Network error: ' + err.networkError.message + '\\n';\n    }\n    message = message.replace(/\\n$/, '');\n    return message;\n};\nvar ApolloError = (function (_super) {\n    __extends(ApolloError, _super);\n    function ApolloError(_a) {\n        var graphQLErrors = _a.graphQLErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\n        var _this = _super.call(this, errorMessage) || this;\n        _this.graphQLErrors = graphQLErrors || [];\n        _this.networkError = networkError || null;\n        if (!errorMessage) {\n            _this.message = generateErrorMessage(_this);\n        }\n        else {\n            _this.message = errorMessage;\n        }\n        _this.extraInfo = extraInfo;\n        _this.__proto__ = ApolloError.prototype;\n        return _this;\n    }\n    return ApolloError;\n}(Error));\n\nvar FetchType;\n(function (FetchType) {\n    FetchType[FetchType[\"normal\"] = 1] = \"normal\";\n    FetchType[FetchType[\"refetch\"] = 2] = \"refetch\";\n    FetchType[FetchType[\"poll\"] = 3] = \"poll\";\n})(FetchType || (FetchType = {}));\n\nvar hasError = function (storeValue, policy) {\n    if (policy === void 0) { policy = 'none'; }\n    return storeValue && (storeValue.networkError ||\n        (policy === 'none' && isNonEmptyArray(storeValue.graphQLErrors)));\n};\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, options = _a.options, _b = _a.shouldSubscribe, shouldSubscribe = _b === void 0 ? true : _b;\n        var _this = _super.call(this, function (observer) {\n            return _this.onSubscribe(observer);\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.isTornDown = false;\n        _this.options = options;\n        _this.variables = options.variables || {};\n        _this.queryId = queryManager.generateQueryId();\n        _this.shouldSubscribe = shouldSubscribe;\n        var opDef = getOperationDefinition(options.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        _this.queryManager = queryManager;\n        return _this;\n    }\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.currentResult = function () {\n        var result = this.getCurrentResult();\n        if (result.data === undefined) {\n            result.data = {};\n        }\n        return result;\n    };\n    ObservableQuery.prototype.getCurrentResult = function () {\n        if (this.isTornDown) {\n            var lastResult = this.lastResult;\n            return {\n                data: !this.lastError && lastResult && lastResult.data || void 0,\n                error: this.lastError,\n                loading: false,\n                networkStatus: NetworkStatus.error,\n            };\n        }\n        var _a = this.queryManager.getCurrentQueryResult(this), data = _a.data, partial = _a.partial;\n        var queryStoreValue = this.queryManager.queryStore.get(this.queryId);\n        var result;\n        var fetchPolicy = this.options.fetchPolicy;\n        var isNetworkFetchPolicy = fetchPolicy === 'network-only' ||\n            fetchPolicy === 'no-cache';\n        if (queryStoreValue) {\n            var networkStatus = queryStoreValue.networkStatus;\n            if (hasError(queryStoreValue, this.options.errorPolicy)) {\n                return {\n                    data: void 0,\n                    loading: false,\n                    networkStatus: networkStatus,\n                    error: new ApolloError({\n                        graphQLErrors: queryStoreValue.graphQLErrors,\n                        networkError: queryStoreValue.networkError,\n                    }),\n                };\n            }\n            if (queryStoreValue.variables) {\n                this.options.variables = __assign({}, this.options.variables, queryStoreValue.variables);\n                this.variables = this.options.variables;\n            }\n            result = {\n                data: data,\n                loading: isNetworkRequestInFlight(networkStatus),\n                networkStatus: networkStatus,\n            };\n            if (queryStoreValue.graphQLErrors && this.options.errorPolicy === 'all') {\n                result.errors = queryStoreValue.graphQLErrors;\n            }\n        }\n        else {\n            var loading = isNetworkFetchPolicy ||\n                (partial && fetchPolicy !== 'cache-only');\n            result = {\n                data: data,\n                loading: loading,\n                networkStatus: loading ? NetworkStatus.loading : NetworkStatus.ready,\n            };\n        }\n        if (!partial) {\n            this.updateLastResult(__assign({}, result, { stale: false }));\n        }\n        return __assign({}, result, { partial: partial });\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult) {\n        var snapshot = this.lastResultSnapshot;\n        return !(snapshot &&\n            newResult &&\n            snapshot.networkStatus === newResult.networkStatus &&\n            snapshot.stale === newResult.stale &&\n            isEqual(snapshot.data, newResult.data));\n    };\n    ObservableQuery.prototype.getLastResult = function () {\n        return this.lastResult;\n    };\n    ObservableQuery.prototype.getLastError = function () {\n        return this.lastError;\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.lastResult;\n        delete this.lastResultSnapshot;\n        delete this.lastError;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        var queryStore = this.queryManager.queryStore.get(this.queryId);\n        if (queryStore) {\n            queryStore.networkError = null;\n            queryStore.graphQLErrors = [];\n        }\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-only') {\n            return Promise.reject(process.env.NODE_ENV === \"production\" ? new InvariantError(3) : new InvariantError('cache-only fetchPolicy option should not be used together with query refetch.'));\n        }\n        if (fetchPolicy !== 'no-cache' &&\n            fetchPolicy !== 'cache-and-network') {\n            fetchPolicy = 'network-only';\n        }\n        if (!isEqual(this.variables, variables)) {\n            this.variables = __assign({}, this.variables, variables);\n        }\n        if (!isEqual(this.options.variables, this.variables)) {\n            this.options.variables = __assign({}, this.options.variables, this.variables);\n        }\n        return this.queryManager.fetchQuery(this.queryId, __assign({}, this.options, { fetchPolicy: fetchPolicy }), FetchType.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        process.env.NODE_ENV === \"production\" ? invariant(fetchMoreOptions.updateQuery, 4) : invariant(fetchMoreOptions.updateQuery, 'updateQuery option is required. This function defines how to update the query data with the new results.');\n        var combinedOptions = __assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign({}, this.options, fetchMoreOptions, { variables: __assign({}, this.variables, fetchMoreOptions.variables) })), { fetchPolicy: 'network-only' });\n        var qid = this.queryManager.generateQueryId();\n        return this.queryManager\n            .fetchQuery(qid, combinedOptions, FetchType.normal, this.queryId)\n            .then(function (fetchMoreResult) {\n            _this.updateQuery(function (previousResult) {\n                return fetchMoreOptions.updateQuery(previousResult, {\n                    fetchMoreResult: fetchMoreResult.data,\n                    variables: combinedOptions.variables,\n                });\n            });\n            _this.queryManager.stopQuery(qid);\n            return fetchMoreResult;\n        }, function (error) {\n            _this.queryManager.stopQuery(qid);\n            throw error;\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                process.env.NODE_ENV === \"production\" || invariant.error('Unhandled GraphQL subscription error', err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (opts) {\n        var oldFetchPolicy = this.options.fetchPolicy;\n        this.options = __assign({}, this.options, opts);\n        if (opts.pollInterval) {\n            this.startPolling(opts.pollInterval);\n        }\n        else if (opts.pollInterval === 0) {\n            this.stopPolling();\n        }\n        var fetchPolicy = opts.fetchPolicy;\n        return this.setVariables(this.options.variables, oldFetchPolicy !== fetchPolicy && (oldFetchPolicy === 'cache-only' ||\n            oldFetchPolicy === 'standby' ||\n            fetchPolicy === 'network-only'), opts.fetchResults);\n    };\n    ObservableQuery.prototype.setVariables = function (variables, tryFetch, fetchResults) {\n        if (tryFetch === void 0) { tryFetch = false; }\n        if (fetchResults === void 0) { fetchResults = true; }\n        this.isTornDown = false;\n        variables = variables || this.variables;\n        if (!tryFetch && isEqual(variables, this.variables)) {\n            return this.observers.size && fetchResults\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.variables = this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.queryManager.fetchQuery(this.queryId, this.options);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var _a = queryManager.getQueryWithPreviousResult(this.queryId), previousResult = _a.previousResult, variables = _a.variables, document = _a.document;\n        var newResult = tryFunctionOrLogError(function () {\n            return mapFn(previousResult, { variables: variables });\n        });\n        if (newResult) {\n            queryManager.dataStore.markUpdateQueryResult(document, variables, newResult);\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.queryManager.stopPollingQuery(this.queryId);\n        this.options.pollInterval = undefined;\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        assertNotCacheFirstOrOnly(this);\n        this.options.pollInterval = pollInterval;\n        this.queryManager.startPollingQuery(this.options, this.queryId);\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult) {\n        var previousResult = this.lastResult;\n        this.lastResult = newResult;\n        this.lastResultSnapshot = this.queryManager.assumeImmutableResults\n            ? newResult\n            : cloneDeep(newResult);\n        return previousResult;\n    };\n    ObservableQuery.prototype.onSubscribe = function (observer) {\n        var _this = this;\n        try {\n            var subObserver = observer._subscription._observer;\n            if (subObserver && !subObserver.error) {\n                subObserver.error = defaultSubscriptionObserverErrorCallback;\n            }\n        }\n        catch (_a) { }\n        var first = !this.observers.size;\n        this.observers.add(observer);\n        if (observer.next && this.lastResult)\n            observer.next(this.lastResult);\n        if (observer.error && this.lastError)\n            observer.error(this.lastError);\n        if (first) {\n            this.setUpQuery();\n        }\n        return function () {\n            if (_this.observers.delete(observer) && !_this.observers.size) {\n                _this.tearDownQuery();\n            }\n        };\n    };\n    ObservableQuery.prototype.setUpQuery = function () {\n        var _this = this;\n        var _a = this, queryManager = _a.queryManager, queryId = _a.queryId;\n        if (this.shouldSubscribe) {\n            queryManager.addObservableQuery(queryId, this);\n        }\n        if (this.options.pollInterval) {\n            assertNotCacheFirstOrOnly(this);\n            queryManager.startPollingQuery(this.options, queryId);\n        }\n        var onError = function (error) {\n            iterateObserversSafely(_this.observers, 'error', _this.lastError = error);\n        };\n        queryManager.observeQuery(queryId, this.options, {\n            next: function (result) {\n                if (_this.lastError || _this.isDifferentFromLastResult(result)) {\n                    var previousResult_1 = _this.updateLastResult(result);\n                    var _a = _this.options, query_1 = _a.query, variables = _a.variables, fetchPolicy_1 = _a.fetchPolicy;\n                    if (queryManager.transform(query_1).hasClientExports) {\n                        queryManager.getLocalState().addExportedVariables(query_1, variables).then(function (variables) {\n                            var previousVariables = _this.variables;\n                            _this.variables = _this.options.variables = variables;\n                            if (!result.loading &&\n                                previousResult_1 &&\n                                fetchPolicy_1 !== 'cache-only' &&\n                                queryManager.transform(query_1).serverQuery &&\n                                !isEqual(previousVariables, variables)) {\n                                _this.refetch();\n                            }\n                            else {\n                                iterateObserversSafely(_this.observers, 'next', result);\n                            }\n                        });\n                    }\n                    else {\n                        iterateObserversSafely(_this.observers, 'next', result);\n                    }\n                }\n            },\n            error: onError,\n        }).catch(onError);\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        var queryManager = this.queryManager;\n        this.isTornDown = true;\n        queryManager.stopPollingQuery(this.queryId);\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        queryManager.removeObservableQuery(this.queryId);\n        queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n    };\n    return ObservableQuery;\n}(Observable));\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    process.env.NODE_ENV === \"production\" || invariant.error('Unhandled error', error.message, error.stack);\n}\nfunction iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\nfunction assertNotCacheFirstOrOnly(obsQuery) {\n    var fetchPolicy = obsQuery.options.fetchPolicy;\n    process.env.NODE_ENV === \"production\" ? invariant(fetchPolicy !== 'cache-first' && fetchPolicy !== 'cache-only', 5) : invariant(fetchPolicy !== 'cache-first' && fetchPolicy !== 'cache-only', 'Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.');\n}\n\nvar MutationStore = (function () {\n    function MutationStore() {\n        this.store = {};\n    }\n    MutationStore.prototype.getStore = function () {\n        return this.store;\n    };\n    MutationStore.prototype.get = function (mutationId) {\n        return this.store[mutationId];\n    };\n    MutationStore.prototype.initMutation = function (mutationId, mutation, variables) {\n        this.store[mutationId] = {\n            mutation: mutation,\n            variables: variables || {},\n            loading: true,\n            error: null,\n        };\n    };\n    MutationStore.prototype.markMutationError = function (mutationId, error) {\n        var mutation = this.store[mutationId];\n        if (mutation) {\n            mutation.loading = false;\n            mutation.error = error;\n        }\n    };\n    MutationStore.prototype.markMutationResult = function (mutationId) {\n        var mutation = this.store[mutationId];\n        if (mutation) {\n            mutation.loading = false;\n            mutation.error = null;\n        }\n    };\n    MutationStore.prototype.reset = function () {\n        this.store = {};\n    };\n    return MutationStore;\n}());\n\nvar QueryStore = (function () {\n    function QueryStore() {\n        this.store = {};\n    }\n    QueryStore.prototype.getStore = function () {\n        return this.store;\n    };\n    QueryStore.prototype.get = function (queryId) {\n        return this.store[queryId];\n    };\n    QueryStore.prototype.initQuery = function (query) {\n        var previousQuery = this.store[query.queryId];\n        process.env.NODE_ENV === \"production\" ? invariant(!previousQuery ||\n            previousQuery.document === query.document ||\n            isEqual(previousQuery.document, query.document), 19) : invariant(!previousQuery ||\n            previousQuery.document === query.document ||\n            isEqual(previousQuery.document, query.document), 'Internal Error: may not update existing query string in store');\n        var isSetVariables = false;\n        var previousVariables = null;\n        if (query.storePreviousVariables &&\n            previousQuery &&\n            previousQuery.networkStatus !== NetworkStatus.loading) {\n            if (!isEqual(previousQuery.variables, query.variables)) {\n                isSetVariables = true;\n                previousVariables = previousQuery.variables;\n            }\n        }\n        var networkStatus;\n        if (isSetVariables) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        else if (query.isPoll) {\n            networkStatus = NetworkStatus.poll;\n        }\n        else if (query.isRefetch) {\n            networkStatus = NetworkStatus.refetch;\n        }\n        else {\n            networkStatus = NetworkStatus.loading;\n        }\n        var graphQLErrors = [];\n        if (previousQuery && previousQuery.graphQLErrors) {\n            graphQLErrors = previousQuery.graphQLErrors;\n        }\n        this.store[query.queryId] = {\n            document: query.document,\n            variables: query.variables,\n            previousVariables: previousVariables,\n            networkError: null,\n            graphQLErrors: graphQLErrors,\n            networkStatus: networkStatus,\n            metadata: query.metadata,\n        };\n        if (typeof query.fetchMoreForQueryId === 'string' &&\n            this.store[query.fetchMoreForQueryId]) {\n            this.store[query.fetchMoreForQueryId].networkStatus =\n                NetworkStatus.fetchMore;\n        }\n    };\n    QueryStore.prototype.markQueryResult = function (queryId, result, fetchMoreForQueryId) {\n        if (!this.store || !this.store[queryId])\n            return;\n        this.store[queryId].networkError = null;\n        this.store[queryId].graphQLErrors = isNonEmptyArray(result.errors) ? result.errors : [];\n        this.store[queryId].previousVariables = null;\n        this.store[queryId].networkStatus = NetworkStatus.ready;\n        if (typeof fetchMoreForQueryId === 'string' &&\n            this.store[fetchMoreForQueryId]) {\n            this.store[fetchMoreForQueryId].networkStatus = NetworkStatus.ready;\n        }\n    };\n    QueryStore.prototype.markQueryError = function (queryId, error, fetchMoreForQueryId) {\n        if (!this.store || !this.store[queryId])\n            return;\n        this.store[queryId].networkError = error;\n        this.store[queryId].networkStatus = NetworkStatus.error;\n        if (typeof fetchMoreForQueryId === 'string') {\n            this.markQueryResultClient(fetchMoreForQueryId, true);\n        }\n    };\n    QueryStore.prototype.markQueryResultClient = function (queryId, complete) {\n        var storeValue = this.store && this.store[queryId];\n        if (storeValue) {\n            storeValue.networkError = null;\n            storeValue.previousVariables = null;\n            if (complete) {\n                storeValue.networkStatus = NetworkStatus.ready;\n            }\n        }\n    };\n    QueryStore.prototype.stopQuery = function (queryId) {\n        delete this.store[queryId];\n    };\n    QueryStore.prototype.reset = function (observableQueryIds) {\n        var _this = this;\n        Object.keys(this.store).forEach(function (queryId) {\n            if (observableQueryIds.indexOf(queryId) < 0) {\n                _this.stopQuery(queryId);\n            }\n            else {\n                _this.store[queryId].networkStatus = NetworkStatus.loading;\n            }\n        });\n    };\n    return QueryStore;\n}());\n\nfunction capitalizeFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign({}, remoteResult, { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n            process.env.NODE_ENV === \"production\" || invariant.warn('Found @client directives in a query but no ApolloClient resolvers ' +\n                'were specified. This means ApolloClient local resolver handling ' +\n                'has been disabled, and @client directives will be passed through ' +\n                'to your link chain.');\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return this.resolvers ? removeClientSetsFromDocument(document) : document;\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var cache = this.cache;\n        var newContext = __assign({}, context, { cache: cache, getCacheKey: function (obj) {\n                if (cache.config) {\n                    return cache.config.dataIdFromObject(obj);\n                }\n                else {\n                    process.env.NODE_ENV === \"production\" ? invariant(false, 17) : invariant(false, 'To use context.getCacheKey, you need to use a cache that has ' +\n                        'a configurable dataIdFromObject, like apollo-cache-inmemory.');\n                }\n            } });\n        return newContext;\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign({}, variables, data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, definitionOperation, defaultOperationType, _a, cache, client, execContext;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                definitionOperation = mainDefinition\n                    .operation;\n                defaultOperationType = definitionOperation\n                    ? capitalizeFirstLetter(definitionOperation)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign({}, context, { cache: cache,\n                        client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            process.env.NODE_ENV === \"production\" ? invariant(fragment, 18) : invariant(fragment, \"No fragment named \" + selection.name.value);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(resolve(rootValue, argumentsObjectFromField(field, variables), execContext.context, { field: field }));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, item, execContext);\n            }\n        }));\n    };\n    return LocalState;\n}());\n\nfunction multiplex(inner) {\n    var observers = new Set();\n    var sub = null;\n    return new Observable(function (observer) {\n        observers.add(observer);\n        sub = sub || inner.subscribe({\n            next: function (value) {\n                observers.forEach(function (obs) { return obs.next && obs.next(value); });\n            },\n            error: function (error) {\n                observers.forEach(function (obs) { return obs.error && obs.error(error); });\n            },\n            complete: function () {\n                observers.forEach(function (obs) { return obs.complete && obs.complete(); });\n            },\n        });\n        return function () {\n            if (observers.delete(observer) && !observers.size && sub) {\n                sub.unsubscribe();\n                sub = null;\n            }\n        };\n    });\n}\nfunction asyncMap(observable, mapFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeNextCount = 0;\n        var completed = false;\n        var handler = {\n            next: function (value) {\n                ++activeNextCount;\n                new Promise(function (resolve) {\n                    resolve(mapFn(value));\n                }).then(function (result) {\n                    --activeNextCount;\n                    next && next.call(observer, result);\n                    completed && handler.complete();\n                }, function (e) {\n                    --activeNextCount;\n                    error && error.call(observer, e);\n                });\n            },\n            error: function (e) {\n                error && error.call(observer, e);\n            },\n            complete: function () {\n                completed = true;\n                if (!activeNextCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var link = _a.link, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, store = _a.store, _c = _a.onBroadcast, onBroadcast = _c === void 0 ? function () { return undefined; } : _c, _d = _a.ssrMode, ssrMode = _d === void 0 ? false : _d, _e = _a.clientAwareness, clientAwareness = _e === void 0 ? {} : _e, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\n        this.mutationStore = new MutationStore();\n        this.queryStore = new QueryStore();\n        this.clientAwareness = {};\n        this.idCounter = 1;\n        this.queries = new Map();\n        this.fetchQueryRejectFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.inFlightLinkObservables = new Map();\n        this.pollingInfoByQueryId = new Map();\n        this.link = link;\n        this.queryDeduplication = queryDeduplication;\n        this.dataStore = store;\n        this.onBroadcast = onBroadcast;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: store.getCache() });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = !!assumeImmutableResults;\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.fetchQueryRejectFns.forEach(function (reject) {\n            reject(process.env.NODE_ENV === \"production\" ? new InvariantError(6) : new InvariantError('QueryManager stopped while query was in flight'));\n        });\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueriesByName = _a.updateQueries, _b = _a.refetchQueries, refetchQueries = _b === void 0 ? [] : _b, _c = _a.awaitRefetchQueries, awaitRefetchQueries = _c === void 0 ? false : _c, updateWithProxyFn = _a.update, _d = _a.errorPolicy, errorPolicy = _d === void 0 ? 'none' : _d, fetchPolicy = _a.fetchPolicy, _e = _a.context, context = _e === void 0 ? {} : _e;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, generateUpdateQueriesInfo, self;\n            var _this = this;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        process.env.NODE_ENV === \"production\" ? invariant(mutation, 7) : invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.');\n                        process.env.NODE_ENV === \"production\" ? invariant(!fetchPolicy || fetchPolicy === 'no-cache', 8) : invariant(!fetchPolicy || fetchPolicy === 'no-cache', \"fetchPolicy for mutations currently only supports the 'no-cache' policy\");\n                        mutationId = this.generateQueryId();\n                        mutation = this.transform(mutation).document;\n                        this.setQuery(mutationId, function () { return ({ document: mutation }); });\n                        variables = this.getVariables(mutation, variables);\n                        if (!this.transform(mutation).hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = _f.sent();\n                        _f.label = 2;\n                    case 2:\n                        generateUpdateQueriesInfo = function () {\n                            var ret = {};\n                            if (updateQueriesByName) {\n                                _this.queries.forEach(function (_a, queryId) {\n                                    var observableQuery = _a.observableQuery;\n                                    if (observableQuery) {\n                                        var queryName = observableQuery.queryName;\n                                        if (queryName &&\n                                            hasOwnProperty.call(updateQueriesByName, queryName)) {\n                                            ret[queryId] = {\n                                                updater: updateQueriesByName[queryName],\n                                                query: _this.queryStore.get(queryId),\n                                            };\n                                        }\n                                    }\n                                });\n                            }\n                            return ret;\n                        };\n                        this.mutationStore.initMutation(mutationId, mutation, variables);\n                        this.dataStore.markMutationInit({\n                            mutationId: mutationId,\n                            document: mutation,\n                            variables: variables,\n                            updateQueries: generateUpdateQueriesInfo(),\n                            update: updateWithProxyFn,\n                            optimisticResponse: optimisticResponse,\n                        });\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                var storeResult;\n                                var error;\n                                self.getObservableFromLink(mutation, __assign({}, context, { optimisticResponse: optimisticResponse }), variables, false).subscribe({\n                                    next: function (result) {\n                                        if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                            error = new ApolloError({\n                                                graphQLErrors: result.errors,\n                                            });\n                                            return;\n                                        }\n                                        self.mutationStore.markMutationResult(mutationId);\n                                        if (fetchPolicy !== 'no-cache') {\n                                            self.dataStore.markMutationResult({\n                                                mutationId: mutationId,\n                                                result: result,\n                                                document: mutation,\n                                                variables: variables,\n                                                updateQueries: generateUpdateQueriesInfo(),\n                                                update: updateWithProxyFn,\n                                            });\n                                        }\n                                        storeResult = result;\n                                    },\n                                    error: function (err) {\n                                        self.mutationStore.markMutationError(mutationId, err);\n                                        self.dataStore.markMutationComplete({\n                                            mutationId: mutationId,\n                                            optimisticResponse: optimisticResponse,\n                                        });\n                                        self.broadcastQueries();\n                                        self.setQuery(mutationId, function () { return ({ document: null }); });\n                                        reject(new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                    complete: function () {\n                                        if (error) {\n                                            self.mutationStore.markMutationError(mutationId, error);\n                                        }\n                                        self.dataStore.markMutationComplete({\n                                            mutationId: mutationId,\n                                            optimisticResponse: optimisticResponse,\n                                        });\n                                        self.broadcastQueries();\n                                        if (error) {\n                                            reject(error);\n                                            return;\n                                        }\n                                        if (typeof refetchQueries === 'function') {\n                                            refetchQueries = refetchQueries(storeResult);\n                                        }\n                                        var refetchQueryPromises = [];\n                                        if (isNonEmptyArray(refetchQueries)) {\n                                            refetchQueries.forEach(function (refetchQuery) {\n                                                if (typeof refetchQuery === 'string') {\n                                                    self.queries.forEach(function (_a) {\n                                                        var observableQuery = _a.observableQuery;\n                                                        if (observableQuery &&\n                                                            observableQuery.queryName === refetchQuery) {\n                                                            refetchQueryPromises.push(observableQuery.refetch());\n                                                        }\n                                                    });\n                                                }\n                                                else {\n                                                    var queryOptions = {\n                                                        query: refetchQuery.query,\n                                                        variables: refetchQuery.variables,\n                                                        fetchPolicy: 'network-only',\n                                                    };\n                                                    if (refetchQuery.context) {\n                                                        queryOptions.context = refetchQuery.context;\n                                                    }\n                                                    refetchQueryPromises.push(self.query(queryOptions));\n                                                }\n                                            });\n                                        }\n                                        Promise.all(awaitRefetchQueries ? refetchQueryPromises : []).then(function () {\n                                            self.setQuery(mutationId, function () { return ({ document: null }); });\n                                            if (errorPolicy === 'ignore' &&\n                                                storeResult &&\n                                                graphQLResultHasError(storeResult)) {\n                                                delete storeResult.errors;\n                                            }\n                                            resolve(storeResult);\n                                        });\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, fetchType, fetchMoreForQueryId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, metadata, _b, fetchPolicy, _c, context, query, variables, storeResult, isNetworkOnly, needToFetch, _d, complete, result, shouldFetch, requestId, cancel, networkResult;\n            var _this = this;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _a = options.metadata, metadata = _a === void 0 ? null : _a, _b = options.fetchPolicy, fetchPolicy = _b === void 0 ? 'cache-first' : _b, _c = options.context, context = _c === void 0 ? {} : _c;\n                        query = this.transform(options.query).document;\n                        variables = this.getVariables(query, options.variables);\n                        if (!this.transform(query).hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(query, variables, context)];\n                    case 1:\n                        variables = _e.sent();\n                        _e.label = 2;\n                    case 2:\n                        options = __assign({}, options, { variables: variables });\n                        isNetworkOnly = fetchPolicy === 'network-only' || fetchPolicy === 'no-cache';\n                        needToFetch = isNetworkOnly;\n                        if (!isNetworkOnly) {\n                            _d = this.dataStore.getCache().diff({\n                                query: query,\n                                variables: variables,\n                                returnPartialData: true,\n                                optimistic: false,\n                            }), complete = _d.complete, result = _d.result;\n                            needToFetch = !complete || fetchPolicy === 'cache-and-network';\n                            storeResult = result;\n                        }\n                        shouldFetch = needToFetch && fetchPolicy !== 'cache-only' && fetchPolicy !== 'standby';\n                        if (hasDirectives(['live'], query))\n                            shouldFetch = true;\n                        requestId = this.idCounter++;\n                        cancel = fetchPolicy !== 'no-cache'\n                            ? this.updateQueryWatch(queryId, query, options)\n                            : undefined;\n                        this.setQuery(queryId, function () { return ({\n                            document: query,\n                            lastRequestId: requestId,\n                            invalidated: true,\n                            cancel: cancel,\n                        }); });\n                        this.invalidate(fetchMoreForQueryId);\n                        this.queryStore.initQuery({\n                            queryId: queryId,\n                            document: query,\n                            storePreviousVariables: shouldFetch,\n                            variables: variables,\n                            isPoll: fetchType === FetchType.poll,\n                            isRefetch: fetchType === FetchType.refetch,\n                            metadata: metadata,\n                            fetchMoreForQueryId: fetchMoreForQueryId,\n                        });\n                        this.broadcastQueries();\n                        if (shouldFetch) {\n                            networkResult = this.fetchRequest({\n                                requestId: requestId,\n                                queryId: queryId,\n                                document: query,\n                                options: options,\n                                fetchMoreForQueryId: fetchMoreForQueryId,\n                            }).catch(function (error) {\n                                if (isApolloError(error)) {\n                                    throw error;\n                                }\n                                else {\n                                    if (requestId >= _this.getQuery(queryId).lastRequestId) {\n                                        _this.queryStore.markQueryError(queryId, error, fetchMoreForQueryId);\n                                        _this.invalidate(queryId);\n                                        _this.invalidate(fetchMoreForQueryId);\n                                        _this.broadcastQueries();\n                                    }\n                                    throw new ApolloError({ networkError: error });\n                                }\n                            });\n                            if (fetchPolicy !== 'cache-and-network') {\n                                return [2, networkResult];\n                            }\n                            networkResult.catch(function () { });\n                        }\n                        this.queryStore.markQueryResultClient(queryId, !shouldFetch);\n                        this.invalidate(queryId);\n                        this.invalidate(fetchMoreForQueryId);\n                        if (this.transform(query).hasForcedResolvers) {\n                            return [2, this.localState.runResolvers({\n                                    document: query,\n                                    remoteResult: { data: storeResult },\n                                    context: context,\n                                    variables: variables,\n                                    onlyRunForcedResolvers: true,\n                                }).then(function (result) {\n                                    _this.markQueryResult(queryId, result, options, fetchMoreForQueryId);\n                                    _this.broadcastQueries();\n                                    return result;\n                                })];\n                        }\n                        this.broadcastQueries();\n                        return [2, { data: storeResult }];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markQueryResult = function (queryId, result, _a, fetchMoreForQueryId) {\n        var fetchPolicy = _a.fetchPolicy, variables = _a.variables, errorPolicy = _a.errorPolicy;\n        if (fetchPolicy === 'no-cache') {\n            this.setQuery(queryId, function () { return ({\n                newData: { result: result.data, complete: true },\n            }); });\n        }\n        else {\n            this.dataStore.markQueryResult(result, this.getQuery(queryId).document, variables, fetchMoreForQueryId, errorPolicy === 'ignore' || errorPolicy === 'all');\n        }\n    };\n    QueryManager.prototype.queryListenerForObserver = function (queryId, options, observer) {\n        var _this = this;\n        function invoke(method, argument) {\n            if (observer[method]) {\n                try {\n                    observer[method](argument);\n                }\n                catch (e) {\n                    process.env.NODE_ENV === \"production\" || invariant.error(e);\n                }\n            }\n            else if (method === 'error') {\n                process.env.NODE_ENV === \"production\" || invariant.error(argument);\n            }\n        }\n        return function (queryStoreValue, newData) {\n            _this.invalidate(queryId, false);\n            if (!queryStoreValue)\n                return;\n            var _a = _this.getQuery(queryId), observableQuery = _a.observableQuery, document = _a.document;\n            var fetchPolicy = observableQuery\n                ? observableQuery.options.fetchPolicy\n                : options.fetchPolicy;\n            if (fetchPolicy === 'standby')\n                return;\n            var loading = isNetworkRequestInFlight(queryStoreValue.networkStatus);\n            var lastResult = observableQuery && observableQuery.getLastResult();\n            var networkStatusChanged = !!(lastResult &&\n                lastResult.networkStatus !== queryStoreValue.networkStatus);\n            var shouldNotifyIfLoading = options.returnPartialData ||\n                (!newData && queryStoreValue.previousVariables) ||\n                (networkStatusChanged && options.notifyOnNetworkStatusChange) ||\n                fetchPolicy === 'cache-only' ||\n                fetchPolicy === 'cache-and-network';\n            if (loading && !shouldNotifyIfLoading) {\n                return;\n            }\n            var hasGraphQLErrors = isNonEmptyArray(queryStoreValue.graphQLErrors);\n            var errorPolicy = observableQuery\n                && observableQuery.options.errorPolicy\n                || options.errorPolicy\n                || 'none';\n            if (errorPolicy === 'none' && hasGraphQLErrors || queryStoreValue.networkError) {\n                return invoke('error', new ApolloError({\n                    graphQLErrors: queryStoreValue.graphQLErrors,\n                    networkError: queryStoreValue.networkError,\n                }));\n            }\n            try {\n                var data = void 0;\n                var isMissing = void 0;\n                if (newData) {\n                    if (fetchPolicy !== 'no-cache' && fetchPolicy !== 'network-only') {\n                        _this.setQuery(queryId, function () { return ({ newData: null }); });\n                    }\n                    data = newData.result;\n                    isMissing = !newData.complete;\n                }\n                else {\n                    var lastError = observableQuery && observableQuery.getLastError();\n                    var errorStatusChanged = errorPolicy !== 'none' &&\n                        (lastError && lastError.graphQLErrors) !==\n                            queryStoreValue.graphQLErrors;\n                    if (lastResult && lastResult.data && !errorStatusChanged) {\n                        data = lastResult.data;\n                        isMissing = false;\n                    }\n                    else {\n                        var diffResult = _this.dataStore.getCache().diff({\n                            query: document,\n                            variables: queryStoreValue.previousVariables ||\n                                queryStoreValue.variables,\n                            returnPartialData: true,\n                            optimistic: true,\n                        });\n                        data = diffResult.result;\n                        isMissing = !diffResult.complete;\n                    }\n                }\n                var stale = isMissing && !(options.returnPartialData ||\n                    fetchPolicy === 'cache-only');\n                var resultFromStore = {\n                    data: stale ? lastResult && lastResult.data : data,\n                    loading: loading,\n                    networkStatus: queryStoreValue.networkStatus,\n                    stale: stale,\n                };\n                if (errorPolicy === 'all' && hasGraphQLErrors) {\n                    resultFromStore.errors = queryStoreValue.graphQLErrors;\n                }\n                invoke('next', resultFromStore);\n            }\n            catch (networkError) {\n                invoke('error', new ApolloError({ networkError: networkError }));\n            }\n        };\n    };\n    QueryManager.prototype.transform = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var cache = this.dataStore.getCache();\n            var transformed = cache.transformDocument(document);\n            var forLink = removeConnectionDirectiveFromDocument(cache.transformForLink(transformed));\n            var clientQuery = this.localState.clientQuery(transformed);\n            var serverQuery = this.localState.serverQuery(forLink);\n            var cacheEntry_1 = {\n                document: transformed,\n                hasClientExports: hasClientExports(transformed),\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\n                clientQuery: clientQuery,\n                serverQuery: serverQuery,\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\n            };\n            var add = function (doc) {\n                if (doc && !transformCache.has(doc)) {\n                    transformCache.set(doc, cacheEntry_1);\n                }\n            };\n            add(document);\n            add(transformed);\n            add(clientQuery);\n            add(serverQuery);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign({}, this.transform(document).defaultVars, variables);\n    };\n    QueryManager.prototype.watchQuery = function (options, shouldSubscribe) {\n        if (shouldSubscribe === void 0) { shouldSubscribe = true; }\n        process.env.NODE_ENV === \"production\" ? invariant(options.fetchPolicy !== 'standby', 9) : invariant(options.fetchPolicy !== 'standby', 'client.watchQuery cannot be called with fetchPolicy set to \"standby\"');\n        options.variables = this.getVariables(options.query, options.variables);\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var transformedOptions = __assign({}, options);\n        return new ObservableQuery({\n            queryManager: this,\n            options: transformedOptions,\n            shouldSubscribe: shouldSubscribe,\n        });\n    };\n    QueryManager.prototype.query = function (options) {\n        var _this = this;\n        process.env.NODE_ENV === \"production\" ? invariant(options.query, 10) : invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\n            'in the query option.');\n        process.env.NODE_ENV === \"production\" ? invariant(options.query.kind === 'Document', 11) : invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.');\n        process.env.NODE_ENV === \"production\" ? invariant(!options.returnPartialData, 12) : invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.');\n        process.env.NODE_ENV === \"production\" ? invariant(!options.pollInterval, 13) : invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.');\n        return new Promise(function (resolve, reject) {\n            var watchedQuery = _this.watchQuery(options, false);\n            _this.fetchQueryRejectFns.set(\"query:\" + watchedQuery.queryId, reject);\n            watchedQuery\n                .result()\n                .then(resolve, reject)\n                .then(function () {\n                return _this.fetchQueryRejectFns.delete(\"query:\" + watchedQuery.queryId);\n            });\n        });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.idCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        this.stopPollingQuery(queryId);\n        this.queryStore.stopQuery(queryId);\n        this.invalidate(queryId);\n    };\n    QueryManager.prototype.addQueryListener = function (queryId, listener) {\n        this.setQuery(queryId, function (_a) {\n            var listeners = _a.listeners;\n            listeners.add(listener);\n            return { invalidated: false };\n        });\n    };\n    QueryManager.prototype.updateQueryWatch = function (queryId, document, options) {\n        var _this = this;\n        var cancel = this.getQuery(queryId).cancel;\n        if (cancel)\n            cancel();\n        var previousResult = function () {\n            var previousResult = null;\n            var observableQuery = _this.getQuery(queryId).observableQuery;\n            if (observableQuery) {\n                var lastResult = observableQuery.getLastResult();\n                if (lastResult) {\n                    previousResult = lastResult.data;\n                }\n            }\n            return previousResult;\n        };\n        return this.dataStore.getCache().watch({\n            query: document,\n            variables: options.variables,\n            optimistic: true,\n            previousResult: previousResult,\n            callback: function (newData) {\n                _this.setQuery(queryId, function () { return ({ invalidated: true, newData: newData }); });\n            },\n        });\n    };\n    QueryManager.prototype.addObservableQuery = function (queryId, observableQuery) {\n        this.setQuery(queryId, function () { return ({ observableQuery: observableQuery }); });\n    };\n    QueryManager.prototype.removeObservableQuery = function (queryId) {\n        var cancel = this.getQuery(queryId).cancel;\n        this.setQuery(queryId, function () { return ({ observableQuery: null }); });\n        if (cancel)\n            cancel();\n    };\n    QueryManager.prototype.clearStore = function () {\n        this.fetchQueryRejectFns.forEach(function (reject) {\n            reject(process.env.NODE_ENV === \"production\" ? new InvariantError(14) : new InvariantError('Store reset while query was in flight (not completed in link chain)'));\n        });\n        var resetIds = [];\n        this.queries.forEach(function (_a, queryId) {\n            var observableQuery = _a.observableQuery;\n            if (observableQuery)\n                resetIds.push(queryId);\n        });\n        this.queryStore.reset(resetIds);\n        this.mutationStore.reset();\n        return this.dataStore.reset();\n    };\n    QueryManager.prototype.resetStore = function () {\n        var _this = this;\n        return this.clearStore().then(function () {\n            return _this.reFetchObservableQueries();\n        });\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.queries.forEach(function (_a, queryId) {\n            var observableQuery = _a.observableQuery;\n            if (observableQuery) {\n                var fetchPolicy = observableQuery.options.fetchPolicy;\n                observableQuery.resetLastResults();\n                if (fetchPolicy !== 'cache-only' &&\n                    (includeStandby || fetchPolicy !== 'standby')) {\n                    observableQueryPromises.push(observableQuery.refetch());\n                }\n                _this.setQuery(queryId, function () { return ({ newData: null }); });\n                _this.invalidate(queryId);\n            }\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.observeQuery = function (queryId, options, observer) {\n        this.addQueryListener(queryId, this.queryListenerForObserver(queryId, options, observer));\n        return this.fetchQuery(queryId, options);\n    };\n    QueryManager.prototype.startQuery = function (queryId, options, listener) {\n        process.env.NODE_ENV === \"production\" || invariant.warn(\"The QueryManager.startQuery method has been deprecated\");\n        this.addQueryListener(queryId, listener);\n        this.fetchQuery(queryId, options)\n            .catch(function () { return undefined; });\n        return queryId;\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, variables = _a.variables;\n        query = this.transform(query).document;\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, {}, variables, false).map(function (result) {\n                if (!fetchPolicy || fetchPolicy !== 'no-cache') {\n                    _this.dataStore.markSubscriptionResult(result, query, variables);\n                    _this.broadcastQueries();\n                }\n                if (graphQLResultHasError(result)) {\n                    throw new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                }\n                return result;\n            });\n        };\n        if (this.transform(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchQueryRejectFns.delete(\"query:\" + queryId);\n        this.fetchQueryRejectFns.delete(\"fetchRequest:\" + queryId);\n        this.getQuery(queryId).subscriptions.forEach(function (x) { return x.unsubscribe(); });\n        this.queries.delete(queryId);\n    };\n    QueryManager.prototype.getCurrentQueryResult = function (observableQuery, optimistic) {\n        if (optimistic === void 0) { optimistic = true; }\n        var _a = observableQuery.options, variables = _a.variables, query = _a.query, fetchPolicy = _a.fetchPolicy, returnPartialData = _a.returnPartialData;\n        var lastResult = observableQuery.getLastResult();\n        var newData = this.getQuery(observableQuery.queryId).newData;\n        if (newData && newData.complete) {\n            return { data: newData.result, partial: false };\n        }\n        if (fetchPolicy === 'no-cache' || fetchPolicy === 'network-only') {\n            return { data: undefined, partial: false };\n        }\n        var _b = this.dataStore.getCache().diff({\n            query: query,\n            variables: variables,\n            previousResult: lastResult ? lastResult.data : undefined,\n            returnPartialData: true,\n            optimistic: optimistic,\n        }), result = _b.result, complete = _b.complete;\n        return {\n            data: (complete || returnPartialData) ? result : void 0,\n            partial: !complete,\n        };\n    };\n    QueryManager.prototype.getQueryWithPreviousResult = function (queryIdOrObservable) {\n        var observableQuery;\n        if (typeof queryIdOrObservable === 'string') {\n            var foundObserveableQuery = this.getQuery(queryIdOrObservable).observableQuery;\n            process.env.NODE_ENV === \"production\" ? invariant(foundObserveableQuery, 15) : invariant(foundObserveableQuery, \"ObservableQuery with this id doesn't exist: \" + queryIdOrObservable);\n            observableQuery = foundObserveableQuery;\n        }\n        else {\n            observableQuery = queryIdOrObservable;\n        }\n        var _a = observableQuery.options, variables = _a.variables, query = _a.query;\n        return {\n            previousResult: this.getCurrentQueryResult(observableQuery, false).data,\n            variables: variables,\n            document: query,\n        };\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        var _this = this;\n        this.onBroadcast();\n        this.queries.forEach(function (info, id) {\n            if (info.invalidated) {\n                info.listeners.forEach(function (listener) {\n                    if (listener) {\n                        listener(_this.queryStore.get(id), info.newData);\n                    }\n                });\n            }\n        });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        if (deduplication === void 0) { deduplication = this.queryDeduplication; }\n        var observable;\n        var serverQuery = this.transform(query).serverQuery;\n        if (serverQuery) {\n            var _a = this, inFlightLinkObservables_1 = _a.inFlightLinkObservables, link = _a.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign({}, context, { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\n                var varJson_1 = JSON.stringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    byVariables_1.set(varJson_1, observable = multiplex(execute(link, operation)));\n                    var cleanup = function () {\n                        byVariables_1.delete(varJson_1);\n                        if (!byVariables_1.size)\n                            inFlightLinkObservables_1.delete(serverQuery);\n                        cleanupSub_1.unsubscribe();\n                    };\n                    var cleanupSub_1 = observable.subscribe({\n                        next: cleanup,\n                        error: cleanup,\n                        complete: cleanup,\n                    });\n                }\n            }\n            else {\n                observable = multiplex(execute(link, operation));\n            }\n        }\n        else {\n            observable = Observable.of({ data: {} });\n            context = this.prepareContext(context);\n        }\n        var clientQuery = this.transform(query).clientQuery;\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.fetchRequest = function (_a) {\n        var _this = this;\n        var requestId = _a.requestId, queryId = _a.queryId, document = _a.document, options = _a.options, fetchMoreForQueryId = _a.fetchMoreForQueryId;\n        var variables = options.variables, _b = options.errorPolicy, errorPolicy = _b === void 0 ? 'none' : _b, fetchPolicy = options.fetchPolicy;\n        var resultFromStore;\n        var errorsFromStore;\n        return new Promise(function (resolve, reject) {\n            var observable = _this.getObservableFromLink(document, options.context, variables);\n            var fqrfId = \"fetchRequest:\" + queryId;\n            _this.fetchQueryRejectFns.set(fqrfId, reject);\n            var cleanup = function () {\n                _this.fetchQueryRejectFns.delete(fqrfId);\n                _this.setQuery(queryId, function (_a) {\n                    var subscriptions = _a.subscriptions;\n                    subscriptions.delete(subscription);\n                });\n            };\n            var subscription = observable.map(function (result) {\n                if (requestId >= _this.getQuery(queryId).lastRequestId) {\n                    _this.markQueryResult(queryId, result, options, fetchMoreForQueryId);\n                    _this.queryStore.markQueryResult(queryId, result, fetchMoreForQueryId);\n                    _this.invalidate(queryId);\n                    _this.invalidate(fetchMoreForQueryId);\n                    _this.broadcastQueries();\n                }\n                if (errorPolicy === 'none' && isNonEmptyArray(result.errors)) {\n                    return reject(new ApolloError({\n                        graphQLErrors: result.errors,\n                    }));\n                }\n                if (errorPolicy === 'all') {\n                    errorsFromStore = result.errors;\n                }\n                if (fetchMoreForQueryId || fetchPolicy === 'no-cache') {\n                    resultFromStore = result.data;\n                }\n                else {\n                    var _a = _this.dataStore.getCache().diff({\n                        variables: variables,\n                        query: document,\n                        optimistic: false,\n                        returnPartialData: true,\n                    }), result_1 = _a.result, complete = _a.complete;\n                    if (complete || options.returnPartialData) {\n                        resultFromStore = result_1;\n                    }\n                }\n            }).subscribe({\n                error: function (error) {\n                    cleanup();\n                    reject(error);\n                },\n                complete: function () {\n                    cleanup();\n                    resolve({\n                        data: resultFromStore,\n                        errors: errorsFromStore,\n                        loading: false,\n                        networkStatus: NetworkStatus.ready,\n                        stale: false,\n                    });\n                },\n            });\n            _this.setQuery(queryId, function (_a) {\n                var subscriptions = _a.subscriptions;\n                subscriptions.add(subscription);\n            });\n        });\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        return (this.queries.get(queryId) || {\n            listeners: new Set(),\n            invalidated: false,\n            document: null,\n            newData: null,\n            lastRequestId: 1,\n            observableQuery: null,\n            subscriptions: new Set(),\n        });\n    };\n    QueryManager.prototype.setQuery = function (queryId, updater) {\n        var prev = this.getQuery(queryId);\n        var newInfo = __assign({}, prev, updater(prev));\n        this.queries.set(queryId, newInfo);\n    };\n    QueryManager.prototype.invalidate = function (queryId, invalidated) {\n        if (invalidated === void 0) { invalidated = true; }\n        if (queryId) {\n            this.setQuery(queryId, function () { return ({ invalidated: invalidated }); });\n        }\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign({}, newContext, { clientAwareness: this.clientAwareness });\n    };\n    QueryManager.prototype.checkInFlight = function (queryId) {\n        var query = this.queryStore.get(queryId);\n        return (query &&\n            query.networkStatus !== NetworkStatus.ready &&\n            query.networkStatus !== NetworkStatus.error);\n    };\n    QueryManager.prototype.startPollingQuery = function (options, queryId, listener) {\n        var _this = this;\n        var pollInterval = options.pollInterval;\n        process.env.NODE_ENV === \"production\" ? invariant(pollInterval, 16) : invariant(pollInterval, 'Attempted to start a polling query without a polling interval.');\n        if (!this.ssrMode) {\n            var info = this.pollingInfoByQueryId.get(queryId);\n            if (!info) {\n                this.pollingInfoByQueryId.set(queryId, (info = {}));\n            }\n            info.interval = pollInterval;\n            info.options = __assign({}, options, { fetchPolicy: 'network-only' });\n            var maybeFetch_1 = function () {\n                var info = _this.pollingInfoByQueryId.get(queryId);\n                if (info) {\n                    if (_this.checkInFlight(queryId)) {\n                        poll_1();\n                    }\n                    else {\n                        _this.fetchQuery(queryId, info.options, FetchType.poll).then(poll_1, poll_1);\n                    }\n                }\n            };\n            var poll_1 = function () {\n                var info = _this.pollingInfoByQueryId.get(queryId);\n                if (info) {\n                    clearTimeout(info.timeout);\n                    info.timeout = setTimeout(maybeFetch_1, info.interval);\n                }\n            };\n            if (listener) {\n                this.addQueryListener(queryId, listener);\n            }\n            poll_1();\n        }\n        return queryId;\n    };\n    QueryManager.prototype.stopPollingQuery = function (queryId) {\n        this.pollingInfoByQueryId.delete(queryId);\n    };\n    return QueryManager;\n}());\n\nvar DataStore = (function () {\n    function DataStore(initialCache) {\n        this.cache = initialCache;\n    }\n    DataStore.prototype.getCache = function () {\n        return this.cache;\n    };\n    DataStore.prototype.markQueryResult = function (result, document, variables, fetchMoreForQueryId, ignoreErrors) {\n        if (ignoreErrors === void 0) { ignoreErrors = false; }\n        var writeWithErrors = !graphQLResultHasError(result);\n        if (ignoreErrors && graphQLResultHasError(result) && result.data) {\n            writeWithErrors = true;\n        }\n        if (!fetchMoreForQueryId && writeWithErrors) {\n            this.cache.write({\n                result: result.data,\n                dataId: 'ROOT_QUERY',\n                query: document,\n                variables: variables,\n            });\n        }\n    };\n    DataStore.prototype.markSubscriptionResult = function (result, document, variables) {\n        if (!graphQLResultHasError(result)) {\n            this.cache.write({\n                result: result.data,\n                dataId: 'ROOT_SUBSCRIPTION',\n                query: document,\n                variables: variables,\n            });\n        }\n    };\n    DataStore.prototype.markMutationInit = function (mutation) {\n        var _this = this;\n        if (mutation.optimisticResponse) {\n            var optimistic_1;\n            if (typeof mutation.optimisticResponse === 'function') {\n                optimistic_1 = mutation.optimisticResponse(mutation.variables);\n            }\n            else {\n                optimistic_1 = mutation.optimisticResponse;\n            }\n            this.cache.recordOptimisticTransaction(function (c) {\n                var orig = _this.cache;\n                _this.cache = c;\n                try {\n                    _this.markMutationResult({\n                        mutationId: mutation.mutationId,\n                        result: { data: optimistic_1 },\n                        document: mutation.document,\n                        variables: mutation.variables,\n                        updateQueries: mutation.updateQueries,\n                        update: mutation.update,\n                    });\n                }\n                finally {\n                    _this.cache = orig;\n                }\n            }, mutation.mutationId);\n        }\n    };\n    DataStore.prototype.markMutationResult = function (mutation) {\n        var _this = this;\n        if (!graphQLResultHasError(mutation.result)) {\n            var cacheWrites_1 = [{\n                    result: mutation.result.data,\n                    dataId: 'ROOT_MUTATION',\n                    query: mutation.document,\n                    variables: mutation.variables,\n                }];\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                Object.keys(updateQueries_1).forEach(function (id) {\n                    var _a = updateQueries_1[id], query = _a.query, updater = _a.updater;\n                    var _b = _this.cache.diff({\n                        query: query.document,\n                        variables: query.variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _b.result, complete = _b.complete;\n                    if (complete) {\n                        var nextQueryResult = tryFunctionOrLogError(function () {\n                            return updater(currentQueryResult, {\n                                mutationResult: mutation.result,\n                                queryName: getOperationName(query.document) || undefined,\n                                queryVariables: query.variables,\n                            });\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites_1.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: query.document,\n                                variables: query.variables,\n                            });\n                        }\n                    }\n                });\n            }\n            this.cache.performTransaction(function (c) {\n                cacheWrites_1.forEach(function (write) { return c.write(write); });\n                var update = mutation.update;\n                if (update) {\n                    tryFunctionOrLogError(function () { return update(c, mutation.result); });\n                }\n            });\n        }\n    };\n    DataStore.prototype.markMutationComplete = function (_a) {\n        var mutationId = _a.mutationId, optimisticResponse = _a.optimisticResponse;\n        if (optimisticResponse) {\n            this.cache.removeOptimistic(mutationId);\n        }\n    };\n    DataStore.prototype.markUpdateQueryResult = function (document, variables, newResult) {\n        this.cache.write({\n            result: newResult,\n            dataId: 'ROOT_QUERY',\n            variables: variables,\n            query: document,\n        });\n    };\n    DataStore.prototype.reset = function () {\n        return this.cache.reset();\n    };\n    return DataStore;\n}());\n\nvar version = \"2.6.3\";\n\nvar hasSuggestedDevtools = false;\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.defaultOptions = {};\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, connectToDevTools = options.connectToDevTools, _c = options.queryDeduplication, queryDeduplication = _c === void 0 ? true : _c, defaultOptions = options.defaultOptions, _d = options.assumeImmutableResults, assumeImmutableResults = _d === void 0 ? false : _d, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link && resolvers) {\n            link = ApolloLink.empty();\n        }\n        if (!link || !cache) {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\\n\" +\n                \"These options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\\n\" +\n                \"For more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup\");\n        }\n        this.link = link;\n        this.cache = cache;\n        this.store = new DataStore(cache);\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || {};\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        var defaultConnectToDevTools = process.env.NODE_ENV !== 'production' &&\n            typeof window !== 'undefined' &&\n            !window.__APOLLO_CLIENT__;\n        if (typeof connectToDevTools === 'undefined'\n            ? defaultConnectToDevTools\n            : connectToDevTools && typeof window !== 'undefined') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && process.env.NODE_ENV !== 'production') {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self) {\n                if (typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n                    if (window.navigator &&\n                        window.navigator.userAgent &&\n                        window.navigator.userAgent.indexOf('Chrome') > -1) {\n                        console.debug('Download the Apollo DevTools ' +\n                            'for a better development experience: ' +\n                            'https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm');\n                    }\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            link: this.link,\n            store: this.store,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.queryStore.getStore(),\n                            mutations: _this.queryManager.mutationStore.getStore(),\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            },\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = __assign({}, this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign({}, options, { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = __assign({}, this.defaultOptions.query, options);\n        }\n        process.env.NODE_ENV === \"production\" ? invariant(options.fetchPolicy !== 'cache-and-network', 2) : invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.');\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign({}, options, { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = __assign({}, this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        var result = this.cache.writeQuery(options);\n        this.queryManager.broadcastQueries();\n        return result;\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        var result = this.cache.writeFragment(options);\n        this.queryManager.broadcastQueries();\n        return result;\n    };\n    ApolloClient.prototype.writeData = function (options) {\n        var result = this.cache.writeData(options);\n        this.queryManager.broadcastQueries();\n        return result;\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.initQueryManager = function () {\n        process.env.NODE_ENV === \"production\" || invariant.warn('Calling the initQueryManager method is no longer necessary, ' +\n            'and it will be removed from ApolloClient in version 3.0.');\n        return this.queryManager;\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore(); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore(); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    return ApolloClient;\n}());\n\nexport default ApolloClient;\nexport { ApolloClient, ApolloError, FetchType, NetworkStatus, ObservableQuery, isApolloError };\n//# sourceMappingURL=bundle.esm.js.map\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","import { getFragmentQueryDocument } from 'apollo-utilities';\n\nfunction queryFromPojo(obj) {\n    var op = {\n        kind: 'OperationDefinition',\n        operation: 'query',\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [op],\n    };\n    return out;\n}\nfunction fragmentFromPojo(obj, typename) {\n    var frag = {\n        kind: 'FragmentDefinition',\n        typeCondition: {\n            kind: 'NamedType',\n            name: {\n                kind: 'Name',\n                value: typename || '__FakeType',\n            },\n        },\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [frag],\n    };\n    return out;\n}\nfunction selectionSetFromObj(obj) {\n    if (typeof obj === 'number' ||\n        typeof obj === 'boolean' ||\n        typeof obj === 'string' ||\n        typeof obj === 'undefined' ||\n        obj === null) {\n        return null;\n    }\n    if (Array.isArray(obj)) {\n        return selectionSetFromObj(obj[0]);\n    }\n    var selections = [];\n    Object.keys(obj).forEach(function (key) {\n        var nestedSelSet = selectionSetFromObj(obj[key]);\n        var field = {\n            kind: 'Field',\n            name: {\n                kind: 'Name',\n                value: key,\n            },\n            selectionSet: nestedSelSet || undefined,\n        };\n        selections.push(field);\n    });\n    var selectionSet = {\n        kind: 'SelectionSet',\n        selections: selections,\n    };\n    return selectionSet;\n}\nvar justTypenameQuery = {\n    kind: 'Document',\n    definitions: [\n        {\n            kind: 'OperationDefinition',\n            operation: 'query',\n            name: null,\n            variableDefinitions: null,\n            directives: [],\n            selectionSet: {\n                kind: 'SelectionSet',\n                selections: [\n                    {\n                        kind: 'Field',\n                        alias: null,\n                        name: {\n                            kind: 'Name',\n                            value: '__typename',\n                        },\n                        arguments: [],\n                        directives: [],\n                        selectionSet: null,\n                    },\n                ],\n            },\n        },\n    ],\n};\n\nvar ApolloCache = (function () {\n    function ApolloCache() {\n    }\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: options.query,\n            variables: options.variables,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: getFragmentQueryDocument(options.fragment, options.fragmentName),\n            variables: options.variables,\n            rootId: options.id,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.writeQuery = function (options) {\n        this.write({\n            dataId: 'ROOT_QUERY',\n            result: options.data,\n            query: options.query,\n            variables: options.variables,\n        });\n    };\n    ApolloCache.prototype.writeFragment = function (options) {\n        this.write({\n            dataId: options.id,\n            result: options.data,\n            variables: options.variables,\n            query: getFragmentQueryDocument(options.fragment, options.fragmentName),\n        });\n    };\n    ApolloCache.prototype.writeData = function (_a) {\n        var id = _a.id, data = _a.data;\n        if (typeof id !== 'undefined') {\n            var typenameResult = null;\n            try {\n                typenameResult = this.read({\n                    rootId: id,\n                    optimistic: false,\n                    query: justTypenameQuery,\n                });\n            }\n            catch (e) {\n            }\n            var __typename = (typenameResult && typenameResult.__typename) || '__ClientData';\n            var dataToWrite = Object.assign({ __typename: __typename }, data);\n            this.writeFragment({\n                id: id,\n                fragment: fragmentFromPojo(dataToWrite, __typename),\n                data: dataToWrite,\n            });\n        }\n        else {\n            this.writeQuery({ query: queryFromPojo(data), data: data });\n        }\n    };\n    return ApolloCache;\n}());\n\nvar Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n\nexport { ApolloCache, Cache };\n//# sourceMappingURL=bundle.esm.js.map\n","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\n\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\n\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\n//# sourceMappingURL=context.esm.js.map\n","import { Slot } from '@wry/context';\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\n\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var entry = this.getEntry(key);\r\n        return entry && entry.value;\r\n    };\r\n    Cache.prototype.getEntry = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry && entry !== this.newest) {\r\n            var older = entry.older, newer = entry.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            entry.older = this.newest;\r\n            entry.older.newer = entry;\r\n            entry.newer = null;\r\n            this.newest = entry;\r\n            if (entry === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return entry;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var entry = this.getEntry(key);\r\n        if (entry) {\r\n            return entry.value = value;\r\n        }\r\n        entry = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = entry;\r\n        }\r\n        this.newest = entry;\r\n        this.oldest = this.oldest || entry;\r\n        this.map.set(key, entry);\r\n        return entry.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry) {\r\n            if (entry === this.newest) {\r\n                this.newest = entry.older;\r\n            }\r\n            if (entry === this.oldest) {\r\n                this.oldest = entry.newer;\r\n            }\r\n            if (entry.newer) {\r\n                entry.newer.older = entry.older;\r\n            }\r\n            if (entry.older) {\r\n                entry.older.newer = entry.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(entry.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar UNKNOWN_VALUE = Object.create(null);\r\nvar reusableEmptyArray = [];\r\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn, args) {\r\n        this.fn = fn;\r\n        this.args = args;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = UNKNOWN_VALUE;\r\n        ++Entry.count;\r\n    }\r\n    Entry.prototype.recompute = function () {\r\n        if (!rememberParent(this) && maybeReportOrphan(this)) {\r\n            // The recipient of the entry.reportOrphan callback decided to dispose\r\n            // of this orphan entry by calling entry.dispose(), so we don't need to\r\n            // (and should not) proceed with the recomputation.\r\n            return void 0;\r\n        }\r\n        return recomputeIfDirty(this);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value = UNKNOWN_VALUE;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        forgetChildren(this).forEach(maybeReportOrphan);\r\n        maybeUnsubscribe(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        this.parents.forEach(function (parent) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, UNKNOWN_VALUE);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\n// This is the most important method of the Entry API, because it\r\n// determines whether the cached entry.value can be returned immediately,\r\n// or must be recomputed. The overall performance of the caching system\r\n// depends on the truth of the following observations: (1) this.dirty is\r\n// usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n// (3) this.value is usally returned very quickly, without recomputation.\r\nfunction recomputeIfDirty(entry) {\r\n    if (entry.dirty) {\r\n        // If this Entry is explicitly dirty because someone called\r\n        // entry.setDirty(), recompute.\r\n        return reallyRecompute(entry);\r\n    }\r\n    if (mightBeDirty(entry)) {\r\n        // Get fresh values for any dirty children, and if those values\r\n        // disagree with this.childValues, mark this Entry explicitly dirty.\r\n        entry.dirtyChildren.forEach(function (child) {\r\n            assert(entry.childValues.has(child));\r\n            try {\r\n                recomputeIfDirty(child);\r\n            }\r\n            catch (e) {\r\n                entry.setDirty();\r\n            }\r\n        });\r\n        if (entry.dirty) {\r\n            // If this Entry has become explicitly dirty after comparing the fresh\r\n            // values of its dirty children against this.childValues, recompute.\r\n            return reallyRecompute(entry);\r\n        }\r\n    }\r\n    assert(entry.value !== UNKNOWN_VALUE);\r\n    return entry.value;\r\n}\r\nfunction reallyRecompute(entry) {\r\n    assert(!entry.recomputing, \"already recomputing\");\r\n    entry.recomputing = true;\r\n    // Since this recomputation is likely to re-remember some of this\r\n    // entry's children, we forget our children here but do not call\r\n    // maybeReportOrphan until after the recomputation finishes.\r\n    var originalChildren = forgetChildren(entry);\r\n    var threw = true;\r\n    try {\r\n        parentEntrySlot.withValue(entry, function () {\r\n            entry.value = entry.fn.apply(null, entry.args);\r\n        });\r\n        threw = false;\r\n    }\r\n    finally {\r\n        entry.recomputing = false;\r\n        if (threw || !maybeSubscribe(entry)) {\r\n            // Mark this Entry dirty if entry.fn threw or we failed to\r\n            // resubscribe. This is important because, if we have a subscribe\r\n            // function and it failed, then we're going to miss important\r\n            // notifications about the potential dirtiness of entry.value.\r\n            entry.setDirty();\r\n        }\r\n        else {\r\n            // If we successfully recomputed entry.value and did not fail to\r\n            // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n            setClean(entry);\r\n        }\r\n    }\r\n    // Now that we've had a chance to re-remember any children that were\r\n    // involved in the recomputation, we can safely report any orphan\r\n    // children that remain.\r\n    originalChildren.forEach(maybeReportOrphan);\r\n    return entry.value;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    child.parents.forEach(function (parent) { return reportDirtyChild(parent, child); });\r\n}\r\nfunction reportClean(child) {\r\n    child.parents.forEach(function (parent) { return reportCleanChild(parent, child); });\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    reportDirty(parent);\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue === UNKNOWN_VALUE) {\r\n        parent.childValues.set(child, child.value);\r\n    }\r\n    else if (childValue !== child.value) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// If the given entry has a reportOrphan method, and no remaining parents,\r\n// call entry.reportOrphan and return true iff it returns true. The\r\n// reportOrphan function should return true to indicate entry.dispose()\r\n// has been called, and the entry has been removed from any other caches\r\n// (see index.js for the only current example).\r\nfunction maybeReportOrphan(entry) {\r\n    return entry.parents.size === 0 &&\r\n        typeof entry.reportOrphan === \"function\" &&\r\n        entry.reportOrphan() === true;\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    var children = reusableEmptyArray;\r\n    if (parent.childValues.size > 0) {\r\n        children = [];\r\n        parent.childValues.forEach(function (value, child) {\r\n            forgetChild(parent, child);\r\n            children.push(child);\r\n        });\r\n    }\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n    return children;\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, entry.args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\r\nfunction maybeUnsubscribe(entry) {\r\n    var unsubscribe = entry.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entry.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\n// A trie data structure that holds object keys weakly, yet can also hold\r\n// non-object keys, unlike the native `WeakMap`.\r\nvar KeyTrie = /** @class */ (function () {\r\n    function KeyTrie(weakness) {\r\n        this.weakness = weakness;\r\n    }\r\n    KeyTrie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    KeyTrie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        array.forEach(function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = Object.create(null));\r\n    };\r\n    KeyTrie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new KeyTrie(this.weakness));\r\n        return child;\r\n    };\r\n    return KeyTrie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar keyTrie = new KeyTrie(typeof WeakMap === \"function\");\r\nfunction defaultMakeCacheKey() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return keyTrie.lookupArray(args);\r\n}\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var disposable = !!options.disposable;\r\n    var makeCacheKey = options.makeCacheKey || defaultMakeCacheKey;\r\n    function optimistic() {\r\n        if (disposable && !parentEntrySlot.hasValue()) {\r\n            // If there's no current parent computation, and this wrapped\r\n            // function is disposable (meaning we don't care about entry.value,\r\n            // just dependency tracking), then we can short-cut everything else\r\n            // in this function, because entry.recompute() is going to recycle\r\n            // the entry object without recomputing anything, anyway.\r\n            return void 0;\r\n        }\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        if (!key) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var args = Array.prototype.slice.call(arguments);\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.args = args;\r\n        }\r\n        else {\r\n            entry = new Entry(originalFunction, args);\r\n            cache.set(key, entry);\r\n            entry.subscribe = options.subscribe;\r\n            if (disposable) {\r\n                entry.reportOrphan = function () { return cache.delete(key); };\r\n            }\r\n        }\r\n        var value = entry.recompute();\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            cache.clean();\r\n        }\r\n        // If options.disposable is truthy, the caller of wrap is telling us\r\n        // they don't care about the result of entry.recompute(), so we should\r\n        // avoid returning the value, so it won't be accidentally used.\r\n        return disposable ? void 0 : value;\r\n    }\r\n    optimistic.dirty = function () {\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        var child = key && cache.get(key);\r\n        if (child) {\r\n            child.setDirty();\r\n        }\r\n    };\r\n    return optimistic;\r\n}\n\nexport { KeyTrie, defaultMakeCacheKey, wrap };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __assign, __extends } from 'tslib';\nimport { ApolloCache } from 'apollo-cache';\nimport { isTest, getQueryDefinition, assign, getDefaultValues, isEqual, getMainDefinition, getFragmentDefinitions, createFragmentMap, shouldInclude, isField, resultKeyNameFromField, isInlineFragment, mergeDeepArray, argumentsObjectFromField, getDirectiveInfoFromField, maybeDeepFreeze, isIdValue, getStoreKeyName, toIdValue, isJsonValue, canUseWeakMap, getOperationDefinition, isProduction, storeKeyNameFromField, addTypenameToDocument } from 'apollo-utilities';\nimport { wrap as wrap$1, KeyTrie } from 'optimism';\nimport { invariant, InvariantError } from 'ts-invariant';\n\nvar testMap = new Map();\nif (testMap.set(1, 2) !== testMap) {\n    var set_1 = testMap.set;\n    Map.prototype.set = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        set_1.apply(this, args);\n        return this;\n    };\n}\nvar testSet = new Set();\nif (testSet.add(3) !== testSet) {\n    var add_1 = testSet.add;\n    Set.prototype.add = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        add_1.apply(this, args);\n        return this;\n    };\n}\nvar frozen = {};\nif (typeof Object.freeze === 'function') {\n    Object.freeze(frozen);\n}\ntry {\n    testMap.set(frozen, frozen).delete(frozen);\n}\ncatch (_a) {\n    var wrap = function (method) {\n        return method && (function (obj) {\n            try {\n                testMap.set(obj, obj).delete(obj);\n            }\n            finally {\n                return method.call(Object, obj);\n            }\n        });\n    };\n    Object.freeze = wrap(Object.freeze);\n    Object.seal = wrap(Object.seal);\n    Object.preventExtensions = wrap(Object.preventExtensions);\n}\n\nvar haveWarned = false;\nfunction shouldWarn() {\n    var answer = !haveWarned;\n    if (!isTest()) {\n        haveWarned = true;\n    }\n    return answer;\n}\nvar HeuristicFragmentMatcher = (function () {\n    function HeuristicFragmentMatcher() {\n    }\n    HeuristicFragmentMatcher.prototype.ensureReady = function () {\n        return Promise.resolve();\n    };\n    HeuristicFragmentMatcher.prototype.canBypassInit = function () {\n        return true;\n    };\n    HeuristicFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        if (!__typename) {\n            if (shouldWarn()) {\n                process.env.NODE_ENV === \"production\" || invariant.warn(\"You're using fragments in your queries, but either don't have the addTypename:\\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\\n   can accurately match fragments.\");\n                process.env.NODE_ENV === \"production\" || invariant.warn('Could not find __typename on Fragment ', typeCondition, obj);\n                process.env.NODE_ENV === \"production\" || invariant.warn(\"DEPRECATION WARNING: using fragments without __typename is unsupported behavior \" +\n                    \"and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.\");\n            }\n            return 'heuristic';\n        }\n        if (__typename === typeCondition) {\n            return true;\n        }\n        if (shouldWarn()) {\n            process.env.NODE_ENV === \"production\" || invariant.error('You are using the simple (heuristic) fragment matcher, but your ' +\n                'queries contain union or interface types. Apollo Client will not be ' +\n                'able to accurately map fragments. To make this error go away, use ' +\n                'the `IntrospectionFragmentMatcher` as described in the docs: ' +\n                'https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher');\n        }\n        return 'heuristic';\n    };\n    return HeuristicFragmentMatcher;\n}());\nvar IntrospectionFragmentMatcher = (function () {\n    function IntrospectionFragmentMatcher(options) {\n        if (options && options.introspectionQueryResultData) {\n            this.possibleTypesMap = this.parseIntrospectionResult(options.introspectionQueryResultData);\n            this.isReady = true;\n        }\n        else {\n            this.isReady = false;\n        }\n        this.match = this.match.bind(this);\n    }\n    IntrospectionFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        process.env.NODE_ENV === \"production\" ? invariant(this.isReady, 10) : invariant(this.isReady, 'FragmentMatcher.match() was called before FragmentMatcher.init()');\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        process.env.NODE_ENV === \"production\" ? invariant(__typename, 11) : invariant(__typename, \"Cannot match fragment because __typename property is missing: \" + JSON.stringify(obj));\n        if (__typename === typeCondition) {\n            return true;\n        }\n        var implementingTypes = this.possibleTypesMap[typeCondition];\n        if (implementingTypes && implementingTypes.indexOf(__typename) > -1) {\n            return true;\n        }\n        return false;\n    };\n    IntrospectionFragmentMatcher.prototype.parseIntrospectionResult = function (introspectionResultData) {\n        var typeMap = {};\n        introspectionResultData.__schema.types.forEach(function (type) {\n            if (type.kind === 'UNION' || type.kind === 'INTERFACE') {\n                typeMap[type.name] = type.possibleTypes.map(function (implementingType) { return implementingType.name; });\n            }\n        });\n        return typeMap;\n    };\n    return IntrospectionFragmentMatcher;\n}());\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar DepTrackingCache = (function () {\n    function DepTrackingCache(data) {\n        var _this = this;\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n        this.depend = wrap$1(function (dataId) { return _this.data[dataId]; }, {\n            disposable: true,\n            makeCacheKey: function (dataId) {\n                return dataId;\n            }\n        });\n    }\n    DepTrackingCache.prototype.toObject = function () {\n        return this.data;\n    };\n    DepTrackingCache.prototype.get = function (dataId) {\n        this.depend(dataId);\n        return this.data[dataId];\n    };\n    DepTrackingCache.prototype.set = function (dataId, value) {\n        var oldValue = this.data[dataId];\n        if (value !== oldValue) {\n            this.data[dataId] = value;\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.delete = function (dataId) {\n        if (hasOwn.call(this.data, dataId)) {\n            delete this.data[dataId];\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.clear = function () {\n        this.replace(null);\n    };\n    DepTrackingCache.prototype.replace = function (newData) {\n        var _this = this;\n        if (newData) {\n            Object.keys(newData).forEach(function (dataId) {\n                _this.set(dataId, newData[dataId]);\n            });\n            Object.keys(this.data).forEach(function (dataId) {\n                if (!hasOwn.call(newData, dataId)) {\n                    _this.delete(dataId);\n                }\n            });\n        }\n        else {\n            Object.keys(this.data).forEach(function (dataId) {\n                _this.delete(dataId);\n            });\n        }\n    };\n    return DepTrackingCache;\n}());\nfunction defaultNormalizedCacheFactory(seed) {\n    return new DepTrackingCache(seed);\n}\n\nvar StoreReader = (function () {\n    function StoreReader(_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.cacheKeyRoot, cacheKeyRoot = _c === void 0 ? new KeyTrie(canUseWeakMap) : _c, _d = _b.freezeResults, freezeResults = _d === void 0 ? false : _d;\n        var _e = this, executeStoreQuery = _e.executeStoreQuery, executeSelectionSet = _e.executeSelectionSet, executeSubSelectedArray = _e.executeSubSelectedArray;\n        this.freezeResults = freezeResults;\n        this.executeStoreQuery = wrap$1(function (options) {\n            return executeStoreQuery.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, fragmentMatcher = _a.fragmentMatcher;\n                if (contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(contextValue.store, query, fragmentMatcher, JSON.stringify(variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSelectionSet = wrap$1(function (options) {\n            return executeSelectionSet.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, selectionSet, execContext.fragmentMatcher, JSON.stringify(execContext.variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap$1(function (options) {\n            return executeSubSelectedArray.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, field, array, JSON.stringify(execContext.variableValues));\n                }\n            }\n        });\n    }\n    StoreReader.prototype.readQueryFromStore = function (options) {\n        var optsPatch = { returnPartialData: false };\n        return this.diffQueryAgainstStore(__assign({}, options, optsPatch)).result;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, variables = _a.variables, previousResult = _a.previousResult, _b = _a.returnPartialData, returnPartialData = _b === void 0 ? true : _b, _c = _a.rootId, rootId = _c === void 0 ? 'ROOT_QUERY' : _c, fragmentMatcherFunction = _a.fragmentMatcherFunction, config = _a.config;\n        var queryDefinition = getQueryDefinition(query);\n        variables = assign({}, getDefaultValues(queryDefinition), variables);\n        var context = {\n            store: store,\n            dataIdFromObject: (config && config.dataIdFromObject) || null,\n            cacheRedirects: (config && config.cacheRedirects) || {},\n        };\n        var execResult = this.executeStoreQuery({\n            query: query,\n            rootValue: {\n                type: 'id',\n                id: rootId,\n                generated: true,\n                typename: 'Query',\n            },\n            contextValue: context,\n            variableValues: variables,\n            fragmentMatcher: fragmentMatcherFunction,\n        });\n        var hasMissingFields = execResult.missing && execResult.missing.length > 0;\n        if (hasMissingFields && !returnPartialData) {\n            execResult.missing.forEach(function (info) {\n                if (info.tolerable)\n                    return;\n                throw process.env.NODE_ENV === \"production\" ? new InvariantError(2) : new InvariantError(\"Can't find field \" + info.fieldName + \" on object \" + JSON.stringify(info.object, null, 2) + \".\");\n            });\n        }\n        if (previousResult) {\n            if (isEqual(previousResult, execResult.result)) {\n                execResult.result = previousResult;\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !hasMissingFields,\n        };\n    };\n    StoreReader.prototype.executeStoreQuery = function (_a) {\n        var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, _b = _a.fragmentMatcher, fragmentMatcher = _b === void 0 ? defaultFragmentMatcher : _b;\n        var mainDefinition = getMainDefinition(query);\n        var fragments = getFragmentDefinitions(query);\n        var fragmentMap = createFragmentMap(fragments);\n        var execContext = {\n            query: query,\n            fragmentMap: fragmentMap,\n            contextValue: contextValue,\n            variableValues: variableValues,\n            fragmentMatcher: fragmentMatcher,\n        };\n        return this.executeSelectionSet({\n            selectionSet: mainDefinition.selectionSet,\n            rootValue: rootValue,\n            execContext: execContext,\n        });\n    };\n    StoreReader.prototype.executeSelectionSet = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n        var fragmentMap = execContext.fragmentMap, contextValue = execContext.contextValue, variables = execContext.variableValues;\n        var finalResult = { result: null };\n        var objectsToMerge = [];\n        var object = contextValue.store.get(rootValue.id);\n        var typename = (object && object.__typename) ||\n            (rootValue.id === 'ROOT_QUERY' && 'Query') ||\n            void 0;\n        function handleMissing(result) {\n            var _a;\n            if (result.missing) {\n                finalResult.missing = finalResult.missing || [];\n                (_a = finalResult.missing).push.apply(_a, result.missing);\n            }\n            return result.result;\n        }\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!shouldInclude(selection, variables)) {\n                return;\n            }\n            if (isField(selection)) {\n                var fieldResult = handleMissing(_this.executeField(object, typename, selection, execContext));\n                if (typeof fieldResult !== 'undefined') {\n                    objectsToMerge.push((_a = {},\n                        _a[resultKeyNameFromField(selection)] = fieldResult,\n                        _a));\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (isInlineFragment(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = fragmentMap[selection.name.value];\n                    if (!fragment) {\n                        throw process.env.NODE_ENV === \"production\" ? new InvariantError(3) : new InvariantError(\"No fragment named \" + selection.name.value);\n                    }\n                }\n                var typeCondition = fragment.typeCondition.name.value;\n                var match = execContext.fragmentMatcher(rootValue, typeCondition, contextValue);\n                if (match) {\n                    var fragmentExecResult = _this.executeSelectionSet({\n                        selectionSet: fragment.selectionSet,\n                        rootValue: rootValue,\n                        execContext: execContext,\n                    });\n                    if (match === 'heuristic' && fragmentExecResult.missing) {\n                        fragmentExecResult = __assign({}, fragmentExecResult, { missing: fragmentExecResult.missing.map(function (info) {\n                                return __assign({}, info, { tolerable: true });\n                            }) });\n                    }\n                    objectsToMerge.push(handleMissing(fragmentExecResult));\n                }\n            }\n        });\n        finalResult.result = mergeDeepArray(objectsToMerge);\n        if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n            Object.freeze(finalResult.result);\n        }\n        return finalResult;\n    };\n    StoreReader.prototype.executeField = function (object, typename, field, execContext) {\n        var variables = execContext.variableValues, contextValue = execContext.contextValue;\n        var fieldName = field.name.value;\n        var args = argumentsObjectFromField(field, variables);\n        var info = {\n            resultKey: resultKeyNameFromField(field),\n            directives: getDirectiveInfoFromField(field, variables),\n        };\n        var readStoreResult = readStoreResolver(object, typename, fieldName, args, contextValue, info);\n        if (Array.isArray(readStoreResult.result)) {\n            return this.combineExecResults(readStoreResult, this.executeSubSelectedArray({\n                field: field,\n                array: readStoreResult.result,\n                execContext: execContext,\n            }));\n        }\n        if (!field.selectionSet) {\n            assertSelectionSetForIdValue(field, readStoreResult.result);\n            if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n                maybeDeepFreeze(readStoreResult);\n            }\n            return readStoreResult;\n        }\n        if (readStoreResult.result == null) {\n            return readStoreResult;\n        }\n        return this.combineExecResults(readStoreResult, this.executeSelectionSet({\n            selectionSet: field.selectionSet,\n            rootValue: readStoreResult.result,\n            execContext: execContext,\n        }));\n    };\n    StoreReader.prototype.combineExecResults = function () {\n        var execResults = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            execResults[_i] = arguments[_i];\n        }\n        var missing = null;\n        execResults.forEach(function (execResult) {\n            if (execResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, execResult.missing);\n            }\n        });\n        return {\n            result: execResults.pop().result,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.executeSubSelectedArray = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, execContext = _a.execContext;\n        var missing = null;\n        function handleMissing(childResult) {\n            if (childResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, childResult.missing);\n            }\n            return childResult.result;\n        }\n        array = array.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    execContext: execContext,\n                }));\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    rootValue: item,\n                    execContext: execContext,\n                }));\n            }\n            assertSelectionSetForIdValue(field, item);\n            return item;\n        });\n        if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n            Object.freeze(array);\n        }\n        return { result: array, missing: missing };\n    };\n    return StoreReader;\n}());\nfunction assertSelectionSetForIdValue(field, value) {\n    if (!field.selectionSet && isIdValue(value)) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(4) : new InvariantError(\"Missing selection set for object of type \" + value.typename + \" returned for query field \" + field.name.value);\n    }\n}\nfunction defaultFragmentMatcher() {\n    return true;\n}\nfunction assertIdValue(idValue) {\n    process.env.NODE_ENV === \"production\" ? invariant(isIdValue(idValue), 5) : invariant(isIdValue(idValue), \"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.\");\n}\nfunction readStoreResolver(object, typename, fieldName, args, context, _a) {\n    var resultKey = _a.resultKey, directives = _a.directives;\n    var storeKeyName = fieldName;\n    if (args || directives) {\n        storeKeyName = getStoreKeyName(storeKeyName, args, directives);\n    }\n    var fieldValue = void 0;\n    if (object) {\n        fieldValue = object[storeKeyName];\n        if (typeof fieldValue === 'undefined' &&\n            context.cacheRedirects &&\n            typeof typename === 'string') {\n            var type = context.cacheRedirects[typename];\n            if (type) {\n                var resolver = type[fieldName];\n                if (resolver) {\n                    fieldValue = resolver(object, args, {\n                        getCacheKey: function (storeObj) {\n                            return toIdValue({\n                                id: context.dataIdFromObject(storeObj),\n                                typename: storeObj.__typename,\n                            });\n                        },\n                    });\n                }\n            }\n        }\n    }\n    if (typeof fieldValue === 'undefined') {\n        return {\n            result: fieldValue,\n            missing: [{\n                    object: object,\n                    fieldName: storeKeyName,\n                    tolerable: false,\n                }],\n        };\n    }\n    if (isJsonValue(fieldValue)) {\n        fieldValue = fieldValue.json;\n    }\n    return {\n        result: fieldValue,\n    };\n}\n\nvar ObjectCache = (function () {\n    function ObjectCache(data) {\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n    }\n    ObjectCache.prototype.toObject = function () {\n        return this.data;\n    };\n    ObjectCache.prototype.get = function (dataId) {\n        return this.data[dataId];\n    };\n    ObjectCache.prototype.set = function (dataId, value) {\n        this.data[dataId] = value;\n    };\n    ObjectCache.prototype.delete = function (dataId) {\n        this.data[dataId] = void 0;\n    };\n    ObjectCache.prototype.clear = function () {\n        this.data = Object.create(null);\n    };\n    ObjectCache.prototype.replace = function (newData) {\n        this.data = newData || Object.create(null);\n    };\n    return ObjectCache;\n}());\nfunction defaultNormalizedCacheFactory$1(seed) {\n    return new ObjectCache(seed);\n}\n\nvar WriteError = (function (_super) {\n    __extends(WriteError, _super);\n    function WriteError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'WriteError';\n        return _this;\n    }\n    return WriteError;\n}(Error));\nfunction enhanceErrorWithDocument(error, document) {\n    var enhancedError = new WriteError(\"Error writing result to store for query:\\n \" + JSON.stringify(document));\n    enhancedError.message += '\\n' + error.message;\n    enhancedError.stack = error.stack;\n    return enhancedError;\n}\nvar StoreWriter = (function () {\n    function StoreWriter() {\n    }\n    StoreWriter.prototype.writeQueryToStore = function (_a) {\n        var query = _a.query, result = _a.result, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        return this.writeResultToStore({\n            dataId: 'ROOT_QUERY',\n            result: result,\n            document: query,\n            store: store,\n            variables: variables,\n            dataIdFromObject: dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n    };\n    StoreWriter.prototype.writeResultToStore = function (_a) {\n        var dataId = _a.dataId, result = _a.result, document = _a.document, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        var operationDefinition = getOperationDefinition(document);\n        try {\n            return this.writeSelectionSetToStore({\n                result: result,\n                dataId: dataId,\n                selectionSet: operationDefinition.selectionSet,\n                context: {\n                    store: store,\n                    processedData: {},\n                    variables: assign({}, getDefaultValues(operationDefinition), variables),\n                    dataIdFromObject: dataIdFromObject,\n                    fragmentMap: createFragmentMap(getFragmentDefinitions(document)),\n                    fragmentMatcherFunction: fragmentMatcherFunction,\n                },\n            });\n        }\n        catch (e) {\n            throw enhanceErrorWithDocument(e, document);\n        }\n    };\n    StoreWriter.prototype.writeSelectionSetToStore = function (_a) {\n        var _this = this;\n        var result = _a.result, dataId = _a.dataId, selectionSet = _a.selectionSet, context = _a.context;\n        var variables = context.variables, store = context.store, fragmentMap = context.fragmentMap;\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!shouldInclude(selection, variables)) {\n                return;\n            }\n            if (isField(selection)) {\n                var resultFieldKey = resultKeyNameFromField(selection);\n                var value = result[resultFieldKey];\n                if (typeof value !== 'undefined') {\n                    _this.writeFieldToStore({\n                        dataId: dataId,\n                        value: value,\n                        field: selection,\n                        context: context,\n                    });\n                }\n                else {\n                    var isDefered = false;\n                    var isClient = false;\n                    if (selection.directives && selection.directives.length) {\n                        isDefered = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'defer'; });\n                        isClient = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'client'; });\n                    }\n                    if (!isDefered && !isClient && context.fragmentMatcherFunction) {\n                        process.env.NODE_ENV === \"production\" || invariant.warn(\"Missing field \" + resultFieldKey + \" in \" + JSON.stringify(result, null, 2).substring(0, 100));\n                    }\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (isInlineFragment(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = (fragmentMap || {})[selection.name.value];\n                    process.env.NODE_ENV === \"production\" ? invariant(fragment, 6) : invariant(fragment, \"No fragment named \" + selection.name.value + \".\");\n                }\n                var matches = true;\n                if (context.fragmentMatcherFunction && fragment.typeCondition) {\n                    var id = dataId || 'self';\n                    var idValue = toIdValue({ id: id, typename: undefined });\n                    var fakeContext = {\n                        store: new ObjectCache((_a = {}, _a[id] = result, _a)),\n                        cacheRedirects: {},\n                    };\n                    var match = context.fragmentMatcherFunction(idValue, fragment.typeCondition.name.value, fakeContext);\n                    if (!isProduction() && match === 'heuristic') {\n                        process.env.NODE_ENV === \"production\" || invariant.error('WARNING: heuristic fragment matching going on!');\n                    }\n                    matches = !!match;\n                }\n                if (matches) {\n                    _this.writeSelectionSetToStore({\n                        result: result,\n                        selectionSet: fragment.selectionSet,\n                        dataId: dataId,\n                        context: context,\n                    });\n                }\n            }\n        });\n        return store;\n    };\n    StoreWriter.prototype.writeFieldToStore = function (_a) {\n        var _b;\n        var field = _a.field, value = _a.value, dataId = _a.dataId, context = _a.context;\n        var variables = context.variables, dataIdFromObject = context.dataIdFromObject, store = context.store;\n        var storeValue;\n        var storeObject;\n        var storeFieldName = storeKeyNameFromField(field, variables);\n        if (!field.selectionSet || value === null) {\n            storeValue =\n                value != null && typeof value === 'object'\n                    ?\n                        { type: 'json', json: value }\n                    :\n                        value;\n        }\n        else if (Array.isArray(value)) {\n            var generatedId = dataId + \".\" + storeFieldName;\n            storeValue = this.processArrayValue(value, generatedId, field.selectionSet, context);\n        }\n        else {\n            var valueDataId = dataId + \".\" + storeFieldName;\n            var generated = true;\n            if (!isGeneratedId(valueDataId)) {\n                valueDataId = '$' + valueDataId;\n            }\n            if (dataIdFromObject) {\n                var semanticId = dataIdFromObject(value);\n                process.env.NODE_ENV === \"production\" ? invariant(!semanticId || !isGeneratedId(semanticId), 7) : invariant(!semanticId || !isGeneratedId(semanticId), 'IDs returned by dataIdFromObject cannot begin with the \"$\" character.');\n                if (semanticId ||\n                    (typeof semanticId === 'number' && semanticId === 0)) {\n                    valueDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(valueDataId, field, context.processedData)) {\n                this.writeSelectionSetToStore({\n                    dataId: valueDataId,\n                    result: value,\n                    selectionSet: field.selectionSet,\n                    context: context,\n                });\n            }\n            var typename = value.__typename;\n            storeValue = toIdValue({ id: valueDataId, typename: typename }, generated);\n            storeObject = store.get(dataId);\n            var escapedId = storeObject && storeObject[storeFieldName];\n            if (escapedId !== storeValue && isIdValue(escapedId)) {\n                var hadTypename = escapedId.typename !== undefined;\n                var hasTypename = typename !== undefined;\n                var typenameChanged = hadTypename && hasTypename && escapedId.typename !== typename;\n                process.env.NODE_ENV === \"production\" ? invariant(!generated || escapedId.generated || typenameChanged, 8) : invariant(!generated || escapedId.generated || typenameChanged, \"Store error: the application attempted to write an object with no provided id but the store already contains an id of \" + escapedId.id + \" for this object. The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n                process.env.NODE_ENV === \"production\" ? invariant(!hadTypename || hasTypename, 9) : invariant(!hadTypename || hasTypename, \"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of \" + escapedId.typename + \" for the object of id \" + escapedId.id + \". The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n                if (escapedId.generated) {\n                    if (typenameChanged) {\n                        if (!generated) {\n                            store.delete(escapedId.id);\n                        }\n                    }\n                    else {\n                        mergeWithGenerated(escapedId.id, storeValue.id, store);\n                    }\n                }\n            }\n        }\n        storeObject = store.get(dataId);\n        if (!storeObject || !isEqual(storeValue, storeObject[storeFieldName])) {\n            store.set(dataId, __assign({}, storeObject, (_b = {}, _b[storeFieldName] = storeValue, _b)));\n        }\n    };\n    StoreWriter.prototype.processArrayValue = function (value, generatedId, selectionSet, context) {\n        var _this = this;\n        return value.map(function (item, index) {\n            if (item === null) {\n                return null;\n            }\n            var itemDataId = generatedId + \".\" + index;\n            if (Array.isArray(item)) {\n                return _this.processArrayValue(item, itemDataId, selectionSet, context);\n            }\n            var generated = true;\n            if (context.dataIdFromObject) {\n                var semanticId = context.dataIdFromObject(item);\n                if (semanticId) {\n                    itemDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(itemDataId, selectionSet, context.processedData)) {\n                _this.writeSelectionSetToStore({\n                    dataId: itemDataId,\n                    result: item,\n                    selectionSet: selectionSet,\n                    context: context,\n                });\n            }\n            return toIdValue({ id: itemDataId, typename: item.__typename }, generated);\n        });\n    };\n    return StoreWriter;\n}());\nfunction isGeneratedId(id) {\n    return id[0] === '$';\n}\nfunction mergeWithGenerated(generatedKey, realKey, cache) {\n    if (generatedKey === realKey) {\n        return false;\n    }\n    var generated = cache.get(generatedKey);\n    var real = cache.get(realKey);\n    var madeChanges = false;\n    Object.keys(generated).forEach(function (key) {\n        var value = generated[key];\n        var realValue = real[key];\n        if (isIdValue(value) &&\n            isGeneratedId(value.id) &&\n            isIdValue(realValue) &&\n            !isEqual(value, realValue) &&\n            mergeWithGenerated(value.id, realValue.id, cache)) {\n            madeChanges = true;\n        }\n    });\n    cache.delete(generatedKey);\n    var newRealValue = __assign({}, generated, real);\n    if (isEqual(newRealValue, real)) {\n        return madeChanges;\n    }\n    cache.set(realKey, newRealValue);\n    return true;\n}\nfunction isDataProcessed(dataId, field, processedData) {\n    if (!processedData) {\n        return false;\n    }\n    if (processedData[dataId]) {\n        if (processedData[dataId].indexOf(field) >= 0) {\n            return true;\n        }\n        else {\n            processedData[dataId].push(field);\n        }\n    }\n    else {\n        processedData[dataId] = [field];\n    }\n    return false;\n}\n\nvar defaultConfig = {\n    fragmentMatcher: new HeuristicFragmentMatcher(),\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    freezeResults: false,\n};\nfunction defaultDataIdFromObject(result) {\n    if (result.__typename) {\n        if (result.id !== undefined) {\n            return result.__typename + \":\" + result.id;\n        }\n        if (result._id !== undefined) {\n            return result.__typename + \":\" + result._id;\n        }\n    }\n    return null;\n}\nvar hasOwn$1 = Object.prototype.hasOwnProperty;\nvar OptimisticCacheLayer = (function (_super) {\n    __extends(OptimisticCacheLayer, _super);\n    function OptimisticCacheLayer(optimisticId, parent, transaction) {\n        var _this = _super.call(this, Object.create(null)) || this;\n        _this.optimisticId = optimisticId;\n        _this.parent = parent;\n        _this.transaction = transaction;\n        return _this;\n    }\n    OptimisticCacheLayer.prototype.toObject = function () {\n        return __assign({}, this.parent.toObject(), this.data);\n    };\n    OptimisticCacheLayer.prototype.get = function (dataId) {\n        return hasOwn$1.call(this.data, dataId)\n            ? this.data[dataId]\n            : this.parent.get(dataId);\n    };\n    return OptimisticCacheLayer;\n}(ObjectCache));\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.cacheKeyRoot = new KeyTrie(canUseWeakMap);\n        _this.silenceBroadcast = false;\n        _this.config = __assign({}, defaultConfig, config);\n        if (_this.config.customResolvers) {\n            process.env.NODE_ENV === \"production\" || invariant.warn('customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version.');\n            _this.config.cacheRedirects = _this.config.customResolvers;\n        }\n        if (_this.config.cacheResolvers) {\n            process.env.NODE_ENV === \"production\" || invariant.warn('cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version.');\n            _this.config.cacheRedirects = _this.config.cacheResolvers;\n        }\n        _this.addTypename = _this.config.addTypename;\n        _this.data = _this.config.resultCaching\n            ? new DepTrackingCache()\n            : new ObjectCache();\n        _this.optimisticData = _this.data;\n        _this.storeWriter = new StoreWriter();\n        _this.storeReader = new StoreReader({\n            cacheKeyRoot: _this.cacheKeyRoot,\n            freezeResults: config.freezeResults,\n        });\n        var cache = _this;\n        var maybeBroadcastWatch = cache.maybeBroadcastWatch;\n        _this.maybeBroadcastWatch = wrap$1(function (c) {\n            return maybeBroadcastWatch.call(_this, c);\n        }, {\n            makeCacheKey: function (c) {\n                if (c.optimistic) {\n                    return;\n                }\n                if (c.previousResult) {\n                    return;\n                }\n                if (cache.data instanceof DepTrackingCache) {\n                    return cache.cacheKeyRoot.lookup(c.query, JSON.stringify(c.variables));\n                }\n            }\n        });\n        return _this;\n    }\n    InMemoryCache.prototype.restore = function (data) {\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).toObject();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        if (typeof options.rootId === 'string' &&\n            typeof this.data.get(options.rootId) === 'undefined') {\n            return null;\n        }\n        return this.storeReader.readQueryFromStore({\n            store: options.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(options.query),\n            variables: options.variables,\n            rootId: options.rootId,\n            fragmentMatcherFunction: this.config.fragmentMatcher.match,\n            previousResult: options.previousResult,\n            config: this.config,\n        });\n    };\n    InMemoryCache.prototype.write = function (write) {\n        this.storeWriter.writeResultToStore({\n            dataId: write.dataId,\n            result: write.result,\n            variables: write.variables,\n            document: this.transformDocument(write.query),\n            store: this.data,\n            dataIdFromObject: this.config.dataIdFromObject,\n            fragmentMatcherFunction: this.config.fragmentMatcher.match,\n        });\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.diff = function (query) {\n        return this.storeReader.diffQueryAgainstStore({\n            store: query.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(query.query),\n            variables: query.variables,\n            returnPartialData: query.returnPartialData,\n            previousResult: query.previousResult,\n            fragmentMatcherFunction: this.config.fragmentMatcher.match,\n            config: this.config,\n        });\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        this.watches.add(watch);\n        return function () {\n            _this.watches.delete(watch);\n        };\n    };\n    InMemoryCache.prototype.evict = function (query) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"eviction is not implemented on InMemory Cache\");\n    };\n    InMemoryCache.prototype.reset = function () {\n        this.data.clear();\n        this.broadcastWatches();\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var toReapply = [];\n        var removedCount = 0;\n        var layer = this.optimisticData;\n        while (layer instanceof OptimisticCacheLayer) {\n            if (layer.optimisticId === idToRemove) {\n                ++removedCount;\n            }\n            else {\n                toReapply.push(layer);\n            }\n            layer = layer.parent;\n        }\n        if (removedCount > 0) {\n            this.optimisticData = layer;\n            while (toReapply.length > 0) {\n                var layer_1 = toReapply.pop();\n                this.performTransaction(layer_1.transaction, layer_1.optimisticId);\n            }\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.performTransaction = function (transaction, optimisticId) {\n        var _a = this, data = _a.data, silenceBroadcast = _a.silenceBroadcast;\n        this.silenceBroadcast = true;\n        if (typeof optimisticId === 'string') {\n            this.data = this.optimisticData = new OptimisticCacheLayer(optimisticId, this.optimisticData, transaction);\n        }\n        try {\n            transaction(this);\n        }\n        finally {\n            this.silenceBroadcast = silenceBroadcast;\n            this.data = data;\n        }\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.recordOptimisticTransaction = function (transaction, id) {\n        return this.performTransaction(transaction, id);\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function () {\n        var _this = this;\n        if (!this.silenceBroadcast) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c); });\n        }\n    };\n    InMemoryCache.prototype.maybeBroadcastWatch = function (c) {\n        c.callback(this.diff({\n            query: c.query,\n            variables: c.variables,\n            previousResult: c.previousResult && c.previousResult(),\n            optimistic: c.optimistic,\n        }));\n    };\n    return InMemoryCache;\n}(ApolloCache));\n\nexport { HeuristicFragmentMatcher, InMemoryCache, IntrospectionFragmentMatcher, ObjectCache, StoreReader, StoreWriter, WriteError, assertIdValue, defaultDataIdFromObject, defaultNormalizedCacheFactory$1 as defaultNormalizedCacheFactory, enhanceErrorWithDocument };\n//# sourceMappingURL=bundle.esm.js.map\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isString(value) {\n    return typeof value === 'string';\n}\nexports.default = isString;\n//# sourceMappingURL=is-string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(value) {\n    return ((value !== null) && (typeof value === 'object'));\n}\nexports.default = isObject;\n//# sourceMappingURL=is-object.js.map","/**\n * Produces the value of a block string from its parsed raw value, similar to\n * CoffeeScript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n */\nexport function dedentBlockStringValue(rawString) {\n  // Expand a block string's raw value into independent lines.\n  var lines = rawString.split(/\\r\\n|[\\n\\r]/g); // Remove common indentation from all lines but first.\n\n  var commonIndent = getBlockStringIndentation(lines);\n\n  if (commonIndent !== 0) {\n    for (var i = 1; i < lines.length; i++) {\n      lines[i] = lines[i].slice(commonIndent);\n    }\n  } // Remove leading and trailing blank lines.\n\n\n  while (lines.length > 0 && isBlank(lines[0])) {\n    lines.shift();\n  }\n\n  while (lines.length > 0 && isBlank(lines[lines.length - 1])) {\n    lines.pop();\n  } // Return a string of the lines joined with U+000A.\n\n\n  return lines.join('\\n');\n} // @internal\n\nexport function getBlockStringIndentation(lines) {\n  var commonIndent = null;\n\n  for (var i = 1; i < lines.length; i++) {\n    var line = lines[i];\n    var indent = leadingWhitespace(line);\n\n    if (indent === line.length) {\n      continue; // skip empty lines\n    }\n\n    if (commonIndent === null || indent < commonIndent) {\n      commonIndent = indent;\n\n      if (commonIndent === 0) {\n        break;\n      }\n    }\n  }\n\n  return commonIndent === null ? 0 : commonIndent;\n}\n\nfunction leadingWhitespace(str) {\n  var i = 0;\n\n  while (i < str.length && (str[i] === ' ' || str[i] === '\\t')) {\n    i++;\n  }\n\n  return i;\n}\n\nfunction isBlank(str) {\n  return leadingWhitespace(str) === str.length;\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n */\n\n\nexport function printBlockString(value) {\n  var indentation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var preferMultipleLines = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var isSingleLine = value.indexOf('\\n') === -1;\n  var hasLeadingSpace = value[0] === ' ' || value[0] === '\\t';\n  var hasTrailingQuote = value[value.length - 1] === '\"';\n  var printAsMultipleLines = !isSingleLine || hasTrailingQuote || preferMultipleLines;\n  var result = ''; // Format a multi-line block quote to account for leading space.\n\n  if (printAsMultipleLines && !(isSingleLine && hasLeadingSpace)) {\n    result += '\\n' + indentation;\n  }\n\n  result += indentation ? value.replace(/\\n/g, '\\n' + indentation) : value;\n\n  if (printAsMultipleLines) {\n    result += '\\n';\n  }\n\n  return '\"\"\"' + result.replace(/\"\"\"/g, '\\\\\"\"\"') + '\"\"\"';\n}\n","import { visit } from './visitor';\nimport { printBlockString } from './blockString';\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, {\n    leave: printDocASTReducer\n  });\n} // TODO: provide better type coverage in future\n\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    return join([wrap('', alias, ': ') + name + wrap('(', join(args, ', '), ')'), join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? printBlockString(value, key === 'description' ? '' : '  ') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: function SchemaDefinition(_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        repeatable = _ref31.repeatable,\n        locations = _ref31.locations;\n    return 'directive @' + name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + (repeatable ? ' repeatable' : '') + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray, separator) {\n  return maybeArray ? maybeArray.filter(function (x) {\n    return x;\n  }).join(separator || '') : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return array && array.length !== 0 ? '{\\n' + indent(join(array, '\\n')) + '\\n}' : '';\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise\n * print an empty string.\n */\n\n\nfunction wrap(start, maybeString, end) {\n  return maybeString ? start + maybeString + (end || '') : '';\n}\n\nfunction indent(maybeString) {\n  return maybeString && '  ' + maybeString.replace(/\\n/g, '\\n  ');\n}\n\nfunction isMultiline(string) {\n  return string.indexOf('\\n') !== -1;\n}\n\nfunction hasMultilineItems(maybeArray) {\n  return maybeArray && maybeArray.some(isMultiline);\n}\n","/**\n * The set of allowed kind values for AST nodes.\n */\nexport var Kind = Object.freeze({\n  // Name\n  NAME: 'Name',\n  // Document\n  DOCUMENT: 'Document',\n  OPERATION_DEFINITION: 'OperationDefinition',\n  VARIABLE_DEFINITION: 'VariableDefinition',\n  SELECTION_SET: 'SelectionSet',\n  FIELD: 'Field',\n  ARGUMENT: 'Argument',\n  // Fragments\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_FRAGMENT: 'InlineFragment',\n  FRAGMENT_DEFINITION: 'FragmentDefinition',\n  // Values\n  VARIABLE: 'Variable',\n  INT: 'IntValue',\n  FLOAT: 'FloatValue',\n  STRING: 'StringValue',\n  BOOLEAN: 'BooleanValue',\n  NULL: 'NullValue',\n  ENUM: 'EnumValue',\n  LIST: 'ListValue',\n  OBJECT: 'ObjectValue',\n  OBJECT_FIELD: 'ObjectField',\n  // Directives\n  DIRECTIVE: 'Directive',\n  // Types\n  NAMED_TYPE: 'NamedType',\n  LIST_TYPE: 'ListType',\n  NON_NULL_TYPE: 'NonNullType',\n  // Type System Definitions\n  SCHEMA_DEFINITION: 'SchemaDefinition',\n  OPERATION_TYPE_DEFINITION: 'OperationTypeDefinition',\n  // Type Definitions\n  SCALAR_TYPE_DEFINITION: 'ScalarTypeDefinition',\n  OBJECT_TYPE_DEFINITION: 'ObjectTypeDefinition',\n  FIELD_DEFINITION: 'FieldDefinition',\n  INPUT_VALUE_DEFINITION: 'InputValueDefinition',\n  INTERFACE_TYPE_DEFINITION: 'InterfaceTypeDefinition',\n  UNION_TYPE_DEFINITION: 'UnionTypeDefinition',\n  ENUM_TYPE_DEFINITION: 'EnumTypeDefinition',\n  ENUM_VALUE_DEFINITION: 'EnumValueDefinition',\n  INPUT_OBJECT_TYPE_DEFINITION: 'InputObjectTypeDefinition',\n  // Directive Definitions\n  DIRECTIVE_DEFINITION: 'DirectiveDefinition',\n  // Type System Extensions\n  SCHEMA_EXTENSION: 'SchemaExtension',\n  // Type Extensions\n  SCALAR_TYPE_EXTENSION: 'ScalarTypeExtension',\n  OBJECT_TYPE_EXTENSION: 'ObjectTypeExtension',\n  INTERFACE_TYPE_EXTENSION: 'InterfaceTypeExtension',\n  UNION_TYPE_EXTENSION: 'UnionTypeExtension',\n  ENUM_TYPE_EXTENSION: 'EnumTypeExtension',\n  INPUT_OBJECT_TYPE_EXTENSION: 'InputObjectTypeExtension'\n});\n/**\n * The enum type representing the possible kind values of AST nodes.\n */\n","import { Kind } from '../language/kinds';\n\n/**\n * Returns an operation AST given a document AST and optionally an operation\n * name. If a name is not provided, an operation is only returned if only one is\n * provided in the document.\n */\nexport function getOperationAST(documentAST, operationName) {\n  var operation = null;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = documentAST.definitions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var definition = _step.value;\n\n      if (definition.kind === Kind.OPERATION_DEFINITION) {\n        if (!operationName) {\n          // If no operation name was provided, only return an Operation if there\n          // is one defined in the document. Upon encountering the second, return\n          // null.\n          if (operation) {\n            return null;\n          }\n\n          operation = definition;\n        } else if (definition.name && definition.name.value === operationName) {\n          return definition;\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return operation;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GRAPHQL_WS = 'graphql-ws';\nexports.GRAPHQL_WS = GRAPHQL_WS;\nvar GRAPHQL_SUBSCRIPTIONS = 'graphql-subscriptions';\nexports.GRAPHQL_SUBSCRIPTIONS = GRAPHQL_SUBSCRIPTIONS;\n//# sourceMappingURL=protocol.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WS_TIMEOUT = 30000;\nexports.WS_TIMEOUT = WS_TIMEOUT;\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MessageTypes = (function () {\n    function MessageTypes() {\n        throw new Error('Static Class');\n    }\n    MessageTypes.GQL_CONNECTION_INIT = 'connection_init';\n    MessageTypes.GQL_CONNECTION_ACK = 'connection_ack';\n    MessageTypes.GQL_CONNECTION_ERROR = 'connection_error';\n    MessageTypes.GQL_CONNECTION_KEEP_ALIVE = 'ka';\n    MessageTypes.GQL_CONNECTION_TERMINATE = 'connection_terminate';\n    MessageTypes.GQL_START = 'start';\n    MessageTypes.GQL_DATA = 'data';\n    MessageTypes.GQL_ERROR = 'error';\n    MessageTypes.GQL_COMPLETE = 'complete';\n    MessageTypes.GQL_STOP = 'stop';\n    MessageTypes.SUBSCRIPTION_START = 'subscription_start';\n    MessageTypes.SUBSCRIPTION_DATA = 'subscription_data';\n    MessageTypes.SUBSCRIPTION_SUCCESS = 'subscription_success';\n    MessageTypes.SUBSCRIPTION_FAIL = 'subscription_fail';\n    MessageTypes.SUBSCRIPTION_END = 'subscription_end';\n    MessageTypes.INIT = 'init';\n    MessageTypes.INIT_SUCCESS = 'init_success';\n    MessageTypes.INIT_FAIL = 'init_fail';\n    MessageTypes.KEEP_ALIVE = 'keepalive';\n    return MessageTypes;\n}());\nexports.default = MessageTypes;\n//# sourceMappingURL=message-types.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _global = typeof global !== 'undefined' ? global : (typeof window !== 'undefined' ? window : {});\nvar NativeWebSocket = _global.WebSocket || _global.MozWebSocket;\nvar Backoff = require(\"backo2\");\nvar eventemitter3_1 = require(\"eventemitter3\");\nvar is_string_1 = require(\"./utils/is-string\");\nvar is_object_1 = require(\"./utils/is-object\");\nvar printer_1 = require(\"graphql/language/printer\");\nvar getOperationAST_1 = require(\"graphql/utilities/getOperationAST\");\nvar symbol_observable_1 = require(\"symbol-observable\");\nvar protocol_1 = require(\"./protocol\");\nvar defaults_1 = require(\"./defaults\");\nvar message_types_1 = require(\"./message-types\");\nvar SubscriptionClient = (function () {\n    function SubscriptionClient(url, options, webSocketImpl, webSocketProtocols) {\n        var _a = (options || {}), _b = _a.connectionCallback, connectionCallback = _b === void 0 ? undefined : _b, _c = _a.connectionParams, connectionParams = _c === void 0 ? {} : _c, _d = _a.timeout, timeout = _d === void 0 ? defaults_1.WS_TIMEOUT : _d, _e = _a.reconnect, reconnect = _e === void 0 ? false : _e, _f = _a.reconnectionAttempts, reconnectionAttempts = _f === void 0 ? Infinity : _f, _g = _a.lazy, lazy = _g === void 0 ? false : _g, _h = _a.inactivityTimeout, inactivityTimeout = _h === void 0 ? 0 : _h;\n        this.wsImpl = webSocketImpl || NativeWebSocket;\n        if (!this.wsImpl) {\n            throw new Error('Unable to find native implementation, or alternative implementation for WebSocket!');\n        }\n        this.wsProtocols = webSocketProtocols || protocol_1.GRAPHQL_WS;\n        this.connectionCallback = connectionCallback;\n        this.url = url;\n        this.operations = {};\n        this.nextOperationId = 0;\n        this.wsTimeout = timeout;\n        this.unsentMessagesQueue = [];\n        this.reconnect = reconnect;\n        this.reconnecting = false;\n        this.reconnectionAttempts = reconnectionAttempts;\n        this.lazy = !!lazy;\n        this.inactivityTimeout = inactivityTimeout;\n        this.closedByUser = false;\n        this.backoff = new Backoff({ jitter: 0.5 });\n        this.eventEmitter = new eventemitter3_1.EventEmitter();\n        this.middlewares = [];\n        this.client = null;\n        this.maxConnectTimeGenerator = this.createMaxConnectTimeGenerator();\n        this.connectionParams = this.getConnectionParams(connectionParams);\n        if (!this.lazy) {\n            this.connect();\n        }\n    }\n    Object.defineProperty(SubscriptionClient.prototype, \"status\", {\n        get: function () {\n            if (this.client === null) {\n                return this.wsImpl.CLOSED;\n            }\n            return this.client.readyState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SubscriptionClient.prototype.close = function (isForced, closedByUser) {\n        if (isForced === void 0) { isForced = true; }\n        if (closedByUser === void 0) { closedByUser = true; }\n        this.clearInactivityTimeout();\n        if (this.client !== null) {\n            this.closedByUser = closedByUser;\n            if (isForced) {\n                this.clearCheckConnectionInterval();\n                this.clearMaxConnectTimeout();\n                this.clearTryReconnectTimeout();\n                this.unsubscribeAll();\n                this.sendMessage(undefined, message_types_1.default.GQL_CONNECTION_TERMINATE, null);\n            }\n            this.client.close();\n            this.client = null;\n            this.eventEmitter.emit('disconnected');\n            if (!isForced) {\n                this.tryReconnect();\n            }\n        }\n    };\n    SubscriptionClient.prototype.request = function (request) {\n        var _a;\n        var getObserver = this.getObserver.bind(this);\n        var executeOperation = this.executeOperation.bind(this);\n        var unsubscribe = this.unsubscribe.bind(this);\n        var opId;\n        this.clearInactivityTimeout();\n        return _a = {},\n            _a[symbol_observable_1.default] = function () {\n                return this;\n            },\n            _a.subscribe = function (observerOrNext, onError, onComplete) {\n                var observer = getObserver(observerOrNext, onError, onComplete);\n                opId = executeOperation(request, function (error, result) {\n                    if (error === null && result === null) {\n                        if (observer.complete) {\n                            observer.complete();\n                        }\n                    }\n                    else if (error) {\n                        if (observer.error) {\n                            observer.error(error[0]);\n                        }\n                    }\n                    else {\n                        if (observer.next) {\n                            observer.next(result);\n                        }\n                    }\n                });\n                return {\n                    unsubscribe: function () {\n                        if (opId) {\n                            unsubscribe(opId);\n                            opId = null;\n                        }\n                    },\n                };\n            },\n            _a;\n    };\n    SubscriptionClient.prototype.on = function (eventName, callback, context) {\n        var handler = this.eventEmitter.on(eventName, callback, context);\n        return function () {\n            handler.off(eventName, callback, context);\n        };\n    };\n    SubscriptionClient.prototype.onConnected = function (callback, context) {\n        return this.on('connected', callback, context);\n    };\n    SubscriptionClient.prototype.onConnecting = function (callback, context) {\n        return this.on('connecting', callback, context);\n    };\n    SubscriptionClient.prototype.onDisconnected = function (callback, context) {\n        return this.on('disconnected', callback, context);\n    };\n    SubscriptionClient.prototype.onReconnected = function (callback, context) {\n        return this.on('reconnected', callback, context);\n    };\n    SubscriptionClient.prototype.onReconnecting = function (callback, context) {\n        return this.on('reconnecting', callback, context);\n    };\n    SubscriptionClient.prototype.onError = function (callback, context) {\n        return this.on('error', callback, context);\n    };\n    SubscriptionClient.prototype.unsubscribeAll = function () {\n        var _this = this;\n        Object.keys(this.operations).forEach(function (subId) {\n            _this.unsubscribe(subId);\n        });\n    };\n    SubscriptionClient.prototype.applyMiddlewares = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var queue = function (funcs, scope) {\n                var next = function (error) {\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        if (funcs.length > 0) {\n                            var f = funcs.shift();\n                            if (f) {\n                                f.applyMiddleware.apply(scope, [options, next]);\n                            }\n                        }\n                        else {\n                            resolve(options);\n                        }\n                    }\n                };\n                next();\n            };\n            queue(_this.middlewares.slice(), _this);\n        });\n    };\n    SubscriptionClient.prototype.use = function (middlewares) {\n        var _this = this;\n        middlewares.map(function (middleware) {\n            if (typeof middleware.applyMiddleware === 'function') {\n                _this.middlewares.push(middleware);\n            }\n            else {\n                throw new Error('Middleware must implement the applyMiddleware function.');\n            }\n        });\n        return this;\n    };\n    SubscriptionClient.prototype.getConnectionParams = function (connectionParams) {\n        return function () { return new Promise(function (resolve, reject) {\n            if (typeof connectionParams === 'function') {\n                try {\n                    return resolve(connectionParams.call(null));\n                }\n                catch (error) {\n                    return reject(error);\n                }\n            }\n            resolve(connectionParams);\n        }); };\n    };\n    SubscriptionClient.prototype.executeOperation = function (options, handler) {\n        var _this = this;\n        if (this.client === null) {\n            this.connect();\n        }\n        var opId = this.generateOperationId();\n        this.operations[opId] = { options: options, handler: handler };\n        this.applyMiddlewares(options)\n            .then(function (processedOptions) {\n            _this.checkOperationOptions(processedOptions, handler);\n            if (_this.operations[opId]) {\n                _this.operations[opId] = { options: processedOptions, handler: handler };\n                _this.sendMessage(opId, message_types_1.default.GQL_START, processedOptions);\n            }\n        })\n            .catch(function (error) {\n            _this.unsubscribe(opId);\n            handler(_this.formatErrors(error));\n        });\n        return opId;\n    };\n    SubscriptionClient.prototype.getObserver = function (observerOrNext, error, complete) {\n        if (typeof observerOrNext === 'function') {\n            return {\n                next: function (v) { return observerOrNext(v); },\n                error: function (e) { return error && error(e); },\n                complete: function () { return complete && complete(); },\n            };\n        }\n        return observerOrNext;\n    };\n    SubscriptionClient.prototype.createMaxConnectTimeGenerator = function () {\n        var minValue = 1000;\n        var maxValue = this.wsTimeout;\n        return new Backoff({\n            min: minValue,\n            max: maxValue,\n            factor: 1.2,\n        });\n    };\n    SubscriptionClient.prototype.clearCheckConnectionInterval = function () {\n        if (this.checkConnectionIntervalId) {\n            clearInterval(this.checkConnectionIntervalId);\n            this.checkConnectionIntervalId = null;\n        }\n    };\n    SubscriptionClient.prototype.clearMaxConnectTimeout = function () {\n        if (this.maxConnectTimeoutId) {\n            clearTimeout(this.maxConnectTimeoutId);\n            this.maxConnectTimeoutId = null;\n        }\n    };\n    SubscriptionClient.prototype.clearTryReconnectTimeout = function () {\n        if (this.tryReconnectTimeoutId) {\n            clearTimeout(this.tryReconnectTimeoutId);\n            this.tryReconnectTimeoutId = null;\n        }\n    };\n    SubscriptionClient.prototype.clearInactivityTimeout = function () {\n        if (this.inactivityTimeoutId) {\n            clearTimeout(this.inactivityTimeoutId);\n            this.inactivityTimeoutId = null;\n        }\n    };\n    SubscriptionClient.prototype.setInactivityTimeout = function () {\n        var _this = this;\n        if (this.inactivityTimeout > 0 && Object.keys(this.operations).length === 0) {\n            this.inactivityTimeoutId = setTimeout(function () {\n                if (Object.keys(_this.operations).length === 0) {\n                    _this.close();\n                }\n            }, this.inactivityTimeout);\n        }\n    };\n    SubscriptionClient.prototype.checkOperationOptions = function (options, handler) {\n        var query = options.query, variables = options.variables, operationName = options.operationName;\n        if (!query) {\n            throw new Error('Must provide a query.');\n        }\n        if (!handler) {\n            throw new Error('Must provide an handler.');\n        }\n        if ((!is_string_1.default(query) && !getOperationAST_1.getOperationAST(query, operationName)) ||\n            (operationName && !is_string_1.default(operationName)) ||\n            (variables && !is_object_1.default(variables))) {\n            throw new Error('Incorrect option types. query must be a string or a document,' +\n                '`operationName` must be a string, and `variables` must be an object.');\n        }\n    };\n    SubscriptionClient.prototype.buildMessage = function (id, type, payload) {\n        var payloadToReturn = payload && payload.query ? __assign({}, payload, { query: typeof payload.query === 'string' ? payload.query : printer_1.print(payload.query) }) :\n            payload;\n        return {\n            id: id,\n            type: type,\n            payload: payloadToReturn,\n        };\n    };\n    SubscriptionClient.prototype.formatErrors = function (errors) {\n        if (Array.isArray(errors)) {\n            return errors;\n        }\n        if (errors && errors.errors) {\n            return this.formatErrors(errors.errors);\n        }\n        if (errors && errors.message) {\n            return [errors];\n        }\n        return [{\n                name: 'FormatedError',\n                message: 'Unknown error',\n                originalError: errors,\n            }];\n    };\n    SubscriptionClient.prototype.sendMessage = function (id, type, payload) {\n        this.sendMessageRaw(this.buildMessage(id, type, payload));\n    };\n    SubscriptionClient.prototype.sendMessageRaw = function (message) {\n        switch (this.status) {\n            case this.wsImpl.OPEN:\n                var serializedMessage = JSON.stringify(message);\n                try {\n                    JSON.parse(serializedMessage);\n                }\n                catch (e) {\n                    this.eventEmitter.emit('error', new Error(\"Message must be JSON-serializable. Got: \" + message));\n                }\n                this.client.send(serializedMessage);\n                break;\n            case this.wsImpl.CONNECTING:\n                this.unsentMessagesQueue.push(message);\n                break;\n            default:\n                if (!this.reconnecting) {\n                    this.eventEmitter.emit('error', new Error('A message was not sent because socket is not connected, is closing or ' +\n                        'is already closed. Message was: ' + JSON.stringify(message)));\n                }\n        }\n    };\n    SubscriptionClient.prototype.generateOperationId = function () {\n        return String(++this.nextOperationId);\n    };\n    SubscriptionClient.prototype.tryReconnect = function () {\n        var _this = this;\n        if (!this.reconnect || this.backoff.attempts >= this.reconnectionAttempts) {\n            return;\n        }\n        if (!this.reconnecting) {\n            Object.keys(this.operations).forEach(function (key) {\n                _this.unsentMessagesQueue.push(_this.buildMessage(key, message_types_1.default.GQL_START, _this.operations[key].options));\n            });\n            this.reconnecting = true;\n        }\n        this.clearTryReconnectTimeout();\n        var delay = this.backoff.duration();\n        this.tryReconnectTimeoutId = setTimeout(function () {\n            _this.connect();\n        }, delay);\n    };\n    SubscriptionClient.prototype.flushUnsentMessagesQueue = function () {\n        var _this = this;\n        this.unsentMessagesQueue.forEach(function (message) {\n            _this.sendMessageRaw(message);\n        });\n        this.unsentMessagesQueue = [];\n    };\n    SubscriptionClient.prototype.checkConnection = function () {\n        if (this.wasKeepAliveReceived) {\n            this.wasKeepAliveReceived = false;\n            return;\n        }\n        if (!this.reconnecting) {\n            this.close(false, true);\n        }\n    };\n    SubscriptionClient.prototype.checkMaxConnectTimeout = function () {\n        var _this = this;\n        this.clearMaxConnectTimeout();\n        this.maxConnectTimeoutId = setTimeout(function () {\n            if (_this.status !== _this.wsImpl.OPEN) {\n                _this.reconnecting = true;\n                _this.close(false, true);\n            }\n        }, this.maxConnectTimeGenerator.duration());\n    };\n    SubscriptionClient.prototype.connect = function () {\n        var _this = this;\n        this.client = new this.wsImpl(this.url, this.wsProtocols);\n        this.checkMaxConnectTimeout();\n        this.client.onopen = function () { return __awaiter(_this, void 0, void 0, function () {\n            var connectionParams, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(this.status === this.wsImpl.OPEN)) return [3, 4];\n                        this.clearMaxConnectTimeout();\n                        this.closedByUser = false;\n                        this.eventEmitter.emit(this.reconnecting ? 'reconnecting' : 'connecting');\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4, this.connectionParams()];\n                    case 2:\n                        connectionParams = _a.sent();\n                        this.sendMessage(undefined, message_types_1.default.GQL_CONNECTION_INIT, connectionParams);\n                        this.flushUnsentMessagesQueue();\n                        return [3, 4];\n                    case 3:\n                        error_1 = _a.sent();\n                        this.sendMessage(undefined, message_types_1.default.GQL_CONNECTION_ERROR, error_1);\n                        this.flushUnsentMessagesQueue();\n                        return [3, 4];\n                    case 4: return [2];\n                }\n            });\n        }); };\n        this.client.onclose = function () {\n            if (!_this.closedByUser) {\n                _this.close(false, false);\n            }\n        };\n        this.client.onerror = function (err) {\n            _this.eventEmitter.emit('error', err);\n        };\n        this.client.onmessage = function (_a) {\n            var data = _a.data;\n            _this.processReceivedData(data);\n        };\n    };\n    SubscriptionClient.prototype.processReceivedData = function (receivedData) {\n        var parsedMessage;\n        var opId;\n        try {\n            parsedMessage = JSON.parse(receivedData);\n            opId = parsedMessage.id;\n        }\n        catch (e) {\n            throw new Error(\"Message must be JSON-parseable. Got: \" + receivedData);\n        }\n        if ([message_types_1.default.GQL_DATA,\n            message_types_1.default.GQL_COMPLETE,\n            message_types_1.default.GQL_ERROR,\n        ].indexOf(parsedMessage.type) !== -1 && !this.operations[opId]) {\n            this.unsubscribe(opId);\n            return;\n        }\n        switch (parsedMessage.type) {\n            case message_types_1.default.GQL_CONNECTION_ERROR:\n                if (this.connectionCallback) {\n                    this.connectionCallback(parsedMessage.payload);\n                }\n                break;\n            case message_types_1.default.GQL_CONNECTION_ACK:\n                this.eventEmitter.emit(this.reconnecting ? 'reconnected' : 'connected');\n                this.reconnecting = false;\n                this.backoff.reset();\n                this.maxConnectTimeGenerator.reset();\n                if (this.connectionCallback) {\n                    this.connectionCallback();\n                }\n                break;\n            case message_types_1.default.GQL_COMPLETE:\n                this.operations[opId].handler(null, null);\n                delete this.operations[opId];\n                break;\n            case message_types_1.default.GQL_ERROR:\n                this.operations[opId].handler(this.formatErrors(parsedMessage.payload), null);\n                delete this.operations[opId];\n                break;\n            case message_types_1.default.GQL_DATA:\n                var parsedPayload = !parsedMessage.payload.errors ?\n                    parsedMessage.payload : __assign({}, parsedMessage.payload, { errors: this.formatErrors(parsedMessage.payload.errors) });\n                this.operations[opId].handler(null, parsedPayload);\n                break;\n            case message_types_1.default.GQL_CONNECTION_KEEP_ALIVE:\n                var firstKA = typeof this.wasKeepAliveReceived === 'undefined';\n                this.wasKeepAliveReceived = true;\n                if (firstKA) {\n                    this.checkConnection();\n                }\n                if (this.checkConnectionIntervalId) {\n                    clearInterval(this.checkConnectionIntervalId);\n                    this.checkConnection();\n                }\n                this.checkConnectionIntervalId = setInterval(this.checkConnection.bind(this), this.wsTimeout);\n                break;\n            default:\n                throw new Error('Invalid message type!');\n        }\n    };\n    SubscriptionClient.prototype.unsubscribe = function (opId) {\n        if (this.operations[opId]) {\n            delete this.operations[opId];\n            this.setInactivityTimeout();\n            this.sendMessage(opId, message_types_1.default.GQL_STOP, undefined);\n        }\n    };\n    return SubscriptionClient;\n}());\nexports.SubscriptionClient = SubscriptionClient;\n//# sourceMappingURL=client.js.map","import { __extends } from 'tslib';\nimport { ApolloLink } from 'apollo-link';\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\n\nvar WebSocketLink = (function (_super) {\n    __extends(WebSocketLink, _super);\n    function WebSocketLink(paramsOrClient) {\n        var _this = _super.call(this) || this;\n        if (paramsOrClient instanceof SubscriptionClient) {\n            _this.subscriptionClient = paramsOrClient;\n        }\n        else {\n            _this.subscriptionClient = new SubscriptionClient(paramsOrClient.uri, paramsOrClient.options, paramsOrClient.webSocketImpl);\n        }\n        return _this;\n    }\n    WebSocketLink.prototype.request = function (operation) {\n        return this.subscriptionClient.request(operation);\n    };\n    return WebSocketLink;\n}(ApolloLink));\n\nexport { WebSocketLink };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __assign } from 'tslib';\nimport { print } from 'graphql/language/printer';\nimport { InvariantError } from 'ts-invariant';\n\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nvar fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nvar throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\nvar parseAndCheckHttpResponse = function (operations) { return function (response) {\n    return (response\n        .text()\n        .then(function (bodyText) {\n        try {\n            return JSON.parse(bodyText);\n        }\n        catch (err) {\n            var parseError = err;\n            parseError.name = 'ServerParseError';\n            parseError.response = response;\n            parseError.statusCode = response.status;\n            parseError.bodyText = bodyText;\n            return Promise.reject(parseError);\n        }\n    })\n        .then(function (result) {\n        if (response.status >= 300) {\n            throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n        }\n        if (!Array.isArray(result) &&\n            !result.hasOwnProperty('data') &&\n            !result.hasOwnProperty('errors')) {\n            throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations)\n                ? operations.map(function (op) { return op.operationName; })\n                : operations.operationName) + \"'.\");\n        }\n        return result;\n    }));\n}; };\nvar checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        var library = 'unfetch';\n        if (typeof window === 'undefined')\n            library = 'node-fetch';\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"\\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\\nyour environment like https://www.npmjs.com/package/\" + library + \".\\n\\nFor example:\\nimport fetch from '\" + library + \"';\\nimport { createHttpLink } from 'apollo-link-http';\\n\\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });\");\n    }\n};\nvar createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\nvar selectHttpOptionsAndBody = function (operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = __assign({}, fallbackConfig.options, { headers: fallbackConfig.headers, credentials: fallbackConfig.credentials });\n    var http = fallbackConfig.http;\n    configs.forEach(function (config) {\n        options = __assign({}, options, config.options, { headers: __assign({}, options.headers, config.headers) });\n        if (config.credentials)\n            options.credentials = config.credentials;\n        http = __assign({}, http, config.http);\n    });\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = print(query);\n    return {\n        options: options,\n        body: body,\n    };\n};\nvar serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = process.env.NODE_ENV === \"production\" ? new InvariantError(2) : new InvariantError(\"Network request failed. \" + label + \" is not serializable: \" + e.message);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\nvar selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n\nexport { checkFetcher, createSignalIfSupported, fallbackHttpConfig, parseAndCheckHttpResponse, selectHttpOptionsAndBody, selectURI, serializeFetchParameter, throwServerError };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __rest, __assign, __extends } from 'tslib';\nimport { ApolloLink, fromError, Observable } from 'apollo-link';\nimport { checkFetcher, selectURI, selectHttpOptionsAndBody, fallbackHttpConfig, createSignalIfSupported, serializeFetchParameter, parseAndCheckHttpResponse } from 'apollo-link-http-common';\n\nvar createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, fetcher = linkOptions.fetch, includeExtensions = linkOptions.includeExtensions, useGETForQueries = linkOptions.useGETForQueries, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"includeExtensions\", \"useGETForQueries\"]);\n    checkFetcher(fetcher);\n    if (!fetcher) {\n        fetcher = fetch;\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign({}, clientAwarenessHeaders, context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        var _b = selectHttpOptionsAndBody(operation, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        var controller;\n        if (!options.signal) {\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\n            controller = _controller;\n            if (controller)\n                options.signal = signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (options.method === 'GET') {\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            fetcher(chosenURI, options)\n                .then(function (response) {\n                operation.setContext({ response: response });\n                return response;\n            })\n                .then(parseAndCheckHttpResponse(operation))\n                .then(function (result) {\n                observer.next(result);\n                observer.complete();\n                return result;\n            })\n                .catch(function (err) {\n                if (err.name === 'AbortError')\n                    return;\n                if (err.result && err.result.errors && err.result.data) {\n                    observer.next(err.result);\n                }\n                observer.error(err);\n            });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\nfunction rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(key + \"=\" + encodeURIComponent(value));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(opts) {\n        return _super.call(this, createHttpLink(opts).request) || this;\n    }\n    return HttpLink;\n}(ApolloLink));\n\nexport { HttpLink, createHttpLink };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __extends } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction onError(errorHandler) {\n    return new ApolloLink(function (operation, forward) {\n        return new Observable(function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    __extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(ApolloLink));\n\nexport { ErrorLink, onError };\n//# sourceMappingURL=bundle.esm.js.map\n","import ApolloClient from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { WebSocketLink } from 'apollo-link-ws'\nimport { split, ApolloLink } from 'apollo-link'\nimport { HttpLink } from 'apollo-link-http'\nimport { onError } from 'apollo-link-error'\nimport { getMainDefinition } from 'apollo-utilities'\nimport { setContext } from 'apollo-link-context'\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const coldAuth = window.localStorage.getItem('token')\n  const token = coldAuth ? JSON.parse(coldAuth) : null\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : ''\n    }\n  }\n})\n\nconst cache = new InMemoryCache({\n  dataIdFromObject: object => object.id\n})\n\nconst errorsLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    graphQLErrors.map(({ message, locations, path }) =>\n      console.error(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`\n      )\n    )\n  }\n  if (networkError) console.error(`[Network error]: ${networkError}`)\n})\n\nconst wsEndpoint = process.env.NODE_ENV === 'production'\n  ? process.env.PROD_SUBSCRIPTION_ENDPOINT\n  : process.env.DEV_SUBSCRIPTION_ENDPOINT\n\nconst wsLink = new WebSocketLink({\n  uri: wsEndpoint,\n  options: {\n    reconnect: true,\n    lazy: true\n  }\n})\n\nconst apiEndpoint = process.env.NODE_ENV === 'production'\n  ? process.env.PROD_API_ENDPOINT\n  : process.env.DEV_API_ENDPOINT\n\nconst httpLink = new HttpLink({\n  uri: apiEndpoint\n})\n\nconst remoteLink = split(\n  ({ query }) => {\n    const { kind, operation } = getMainDefinition(query)\n    return kind === 'OperationDefinition' && operation === 'subscription'\n  },\n  wsLink,\n  httpLink\n)\n\nexport const client = new ApolloClient({\n  link: ApolloLink.from([errorsLink, authLink, remoteLink]),\n  cache\n})\n\nconst data = { isLoggedIn: !!window.localStorage.getItem('token') }\n// Default Data\ncache.writeData({ data })\n\nclient.onResetStore(() => cache.writeData({ data }))\n","import { __rest } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction setContext(setter) {\n    return new ApolloLink(function (operation, forward) {\n        var request = __rest(operation, []);\n        return new Observable(function (observer) {\n            var handle;\n            Promise.resolve(request)\n                .then(function (req) { return setter(req, operation.getContext()); })\n                .then(operation.setContext)\n                .then(function () {\n                handle = forward(operation).subscribe({\n                    next: observer.next.bind(observer),\n                    error: observer.error.bind(observer),\n                    complete: observer.complete.bind(observer),\n                });\n            })\n                .catch(observer.error.bind(observer));\n            return function () {\n                if (handle)\n                    handle.unsubscribe();\n            };\n        });\n    });\n}\n\nexport { setContext };\n//# sourceMappingURL=bundle.esm.js.map\n","import { readable } from 'svelte/store';\n\nvar OBSERVABLE;\r\nfunction isObservable(value) {\r\n    // Lazy-load Symbol to give polyfills a chance to run\r\n    if (!OBSERVABLE) {\r\n        OBSERVABLE =\r\n            (typeof Symbol === 'function' && Symbol.observable) || '@@observable';\r\n    }\r\n    return value && value[OBSERVABLE] && value[OBSERVABLE]() === value;\r\n}\r\nfunction deferred(set, initial) {\r\n    var initialized = initial !== undefined;\r\n    var resolve;\r\n    var reject;\r\n    // Set initial value\r\n    set(initialized\r\n        ? initial\r\n        : new Promise(function (_resolve, _reject) {\r\n            resolve = _resolve;\r\n            reject = _reject;\r\n        }));\r\n    return {\r\n        fulfill: function (value) {\r\n            if (initialized)\r\n                return set(Promise.resolve(value));\r\n            initialized = true;\r\n            resolve(value);\r\n        },\r\n        reject: function (error) {\r\n            if (initialized)\r\n                return set(Promise.reject(error));\r\n            initialized = true;\r\n            reject(error);\r\n        }\r\n    };\r\n}\n\nvar noop = function () { };\r\nfunction observe(observable, initial) {\r\n    if (!isObservable(observable)) {\r\n        return readable(observable, noop);\r\n    }\r\n    return readable(undefined, function (set) {\r\n        var _a = deferred(set, initial), fulfill = _a.fulfill, reject = _a.reject;\r\n        var subscription = observable.subscribe({\r\n            next: function (value) {\r\n                fulfill(value);\r\n            },\r\n            error: function (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n        return function () { return subscription.unsubscribe(); };\r\n    });\r\n}\n\nfunction flat(subscribable, initial) {\r\n    var is_observable = isObservable(subscribable);\r\n    return readable(undefined, function (set) {\r\n        var inner_unsubscribe = null;\r\n        var outer_unsubscribe = null;\r\n        var _a = (is_observable\r\n            ? deferred(set, initial)\r\n            : {}), _b = _a.fulfill, fulfill = _b === void 0 ? function (value) { return set(value); } : _b, reject = _a.reject;\r\n        function next(value) {\r\n            if (inner_unsubscribe) {\r\n                inner_unsubscribe();\r\n                inner_unsubscribe = null;\r\n            }\r\n            if (isObservable(value))\r\n                value = observe(value);\r\n            if (isStore(value)) {\r\n                inner_unsubscribe = value.subscribe(function (inner) { return fulfill(inner); });\r\n            }\r\n            else {\r\n                fulfill(value);\r\n            }\r\n        }\r\n        function error(error) {\r\n            reject(error);\r\n        }\r\n        if (is_observable) {\r\n            var subscription_1 = subscribable.subscribe({\r\n                next: next,\r\n                error: error\r\n            });\r\n            outer_unsubscribe = function () { return subscription_1.unsubscribe(); };\r\n        }\r\n        else {\r\n            outer_unsubscribe = subscribable.subscribe(next);\r\n        }\r\n        return function () {\r\n            if (inner_unsubscribe)\r\n                inner_unsubscribe();\r\n            outer_unsubscribe();\r\n        };\r\n    });\r\n}\r\nfunction isStore(value) {\r\n    return value && typeof value.subscribe === 'function';\r\n}\n\nexport { flat, observe };\n//# sourceMappingURL=svelte-observable.es.js.map\n","import { getContext, setContext, onMount } from 'svelte';\nimport { isEqual } from 'apollo-utilities';\nimport { readable } from 'svelte/store';\nimport { observe } from 'svelte-observable';\n\nvar CLIENT = typeof Symbol !== 'undefined' ? Symbol('client') : '@@client';\r\nfunction getClient() {\r\n    return getContext(CLIENT);\r\n}\r\nfunction setClient(client) {\r\n    setContext(CLIENT, client);\r\n}\n\nvar restoring = typeof WeakSet !== 'undefined' ? new WeakSet() : new Set();\r\nfunction restore(client, query, data) {\r\n    restoring.add(client);\r\n    afterHydrate(function () {\r\n        restoring.delete(client);\r\n    });\r\n    client.writeQuery({ query: query, data: data });\r\n}\r\nfunction afterHydrate(callback) {\r\n    // Attempt to wait for onMount (hydration of current component is complete),\r\n    // but if that fails (e.g. outside of component initialization)\r\n    // wait for next event loop for hydrate to complete\r\n    try {\r\n        onMount(callback);\r\n    }\r\n    catch (_error) {\r\n        setTimeout(callback, 1);\r\n    }\r\n}\n\nfunction query(client, options) {\r\n    var subscribed = false;\r\n    var initial_value;\r\n    // If client is restoring (e.g. from SSR)\r\n    // attempt synchronous readQuery first (to prevent loading in {#await})\r\n    if (restoring.has(client)) {\r\n        try {\r\n            // undefined = skip initial value (not in cache)\r\n            initial_value = client.readQuery(options) || undefined;\r\n            initial_value = { data: initial_value };\r\n        }\r\n        catch (err) {\r\n            // Ignore preload errors\r\n        }\r\n    }\r\n    // Create query and observe,\r\n    // but don't subscribe directly to avoid firing duplicate value if initialized\r\n    var observable_query = client.watchQuery(options);\r\n    var subscribe_to_query = observe(observable_query, initial_value).subscribe;\r\n    // Wrap the query subscription with a readable to prevent duplicate values\r\n    var subscribe = readable(initial_value, function (set) {\r\n        subscribed = true;\r\n        var skip_duplicate = initial_value !== undefined;\r\n        var initialized = false;\r\n        var skipped = false;\r\n        var unsubscribe = subscribe_to_query(function (value) {\r\n            if (skip_duplicate && initialized && !skipped) {\r\n                skipped = true;\r\n            }\r\n            else {\r\n                if (!initialized)\r\n                    initialized = true;\r\n                set(value);\r\n            }\r\n        });\r\n        return unsubscribe;\r\n    }).subscribe;\r\n    return {\r\n        subscribe: subscribe,\r\n        refetch: function (variables) {\r\n            // If variables have not changed and not subscribed, skip refetch\r\n            if (!subscribed && isEqual(variables, observable_query.variables))\r\n                return observable_query.result();\r\n            return observable_query.refetch(variables);\r\n        },\r\n        result: function () { return observable_query.result(); },\r\n        fetchMore: function (options) { return observable_query.fetchMore(options); },\r\n        setOptions: function (options) { return observable_query.setOptions(options); },\r\n        updateQuery: function (map) { return observable_query.updateQuery(map); },\r\n        startPolling: function (interval) { return observable_query.startPolling(interval); },\r\n        stopPolling: function () { return observable_query.stopPolling(); },\r\n        subscribeToMore: function (options) { return observable_query.subscribeToMore(options); }\r\n    };\r\n}\n\nfunction mutate(client, options) {\r\n    return client.mutate(options);\r\n}\n\nfunction subscribe(client, options) {\r\n    var observable = client.subscribe(options);\r\n    return observe(observable);\r\n}\n\nexport { getClient, mutate, query, restore, setClient, subscribe };\n//# sourceMappingURL=svelte-apollo.es.js.map\n","import nodejsCustomInspectSymbol from './nodejsCustomInspectSymbol';\n/**\n * The `defineToJSON()` function defines toJSON() and inspect() prototype\n * methods, if no function provided they become aliases for toString().\n */\n\nexport default function defineToJSON(classObject) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : classObject.prototype.toString;\n  classObject.prototype.toJSON = fn;\n  classObject.prototype.inspect = fn;\n\n  if (nodejsCustomInspectSymbol) {\n    classObject.prototype[nodejsCustomInspectSymbol] = fn;\n  }\n}\n","export default function invariant(condition, message) {\n  var booleanCondition = Boolean(condition);\n  /* istanbul ignore else */\n\n  if (!booleanCondition) {\n    throw new Error(message);\n  }\n}\n","import invariant from '../jsutils/invariant';\nimport defineToStringTag from '../jsutils/defineToStringTag';\n\n/**\n * A representation of source input to GraphQL.\n * `name` and `locationOffset` are optional. They are useful for clients who\n * store GraphQL documents in source files; for example, if the GraphQL input\n * starts at line 40 in a file named Foo.graphql, it might be useful for name to\n * be \"Foo.graphql\" and location to be `{ line: 40, column: 0 }`.\n * line and column in locationOffset are 1-indexed\n */\nexport var Source = function Source(body, name, locationOffset) {\n  this.body = body;\n  this.name = name || 'GraphQL request';\n  this.locationOffset = locationOffset || {\n    line: 1,\n    column: 1\n  };\n  !(this.locationOffset.line > 0) ? invariant(0, 'line in locationOffset is 1-indexed and must be positive') : void 0;\n  !(this.locationOffset.column > 0) ? invariant(0, 'column in locationOffset is 1-indexed and must be positive') : void 0;\n}; // Conditionally apply `[Symbol.toStringTag]` if `Symbol`s are supported\n\ndefineToStringTag(Source);\n","/**\n * The `defineToStringTag()` function checks first to see if the runtime\n * supports the `Symbol` class and then if the `Symbol.toStringTag` constant\n * is defined as a `Symbol` instance. If both conditions are met, the\n * Symbol.toStringTag property is defined as a getter that returns the\n * supplied class constructor's name.\n *\n * @method defineToStringTag\n *\n * @param {Class<any>} classObject a class such as Object, String, Number but\n * typically one of your own creation through the class keyword; `class A {}`,\n * for example.\n */\nexport default function defineToStringTag(classObject) {\n  if (typeof Symbol === 'function' && Symbol.toStringTag) {\n    Object.defineProperty(classObject.prototype, Symbol.toStringTag, {\n      get: function get() {\n        return this.constructor.name;\n      }\n    });\n  }\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Return true if `value` is object-like. A value is object-like if it's not\n * `null` and has a `typeof` result of \"object\".\n */\nexport default function isObjectLike(value) {\n  return _typeof(value) == 'object' && value !== null;\n}\n","/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match;\n\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n\n  return {\n    line: line,\n    column: column\n  };\n}\n","import { getLocation } from '../language/location';\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\nexport function printLocation(location) {\n  return printSourceLocation(location.source, getLocation(location.source, location.start));\n}\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\nexport function printSourceLocation(source, sourceLocation) {\n  var firstLineColumnOffset = source.locationOffset.column - 1;\n  var body = whitespace(firstLineColumnOffset) + source.body;\n  var lineIndex = sourceLocation.line - 1;\n  var lineOffset = source.locationOffset.line - 1;\n  var lineNum = sourceLocation.line + lineOffset;\n  var columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;\n  var columnNum = sourceLocation.column + columnOffset;\n  var locationStr = \"\".concat(source.name, \":\").concat(lineNum, \":\").concat(columnNum, \"\\n\");\n  var lines = body.split(/\\r\\n|[\\n\\r]/g);\n  var locationLine = lines[lineIndex]; // Special case for minified documents\n\n  if (locationLine.length > 120) {\n    var sublineIndex = Math.floor(columnNum / 80);\n    var sublineColumnNum = columnNum % 80;\n    var sublines = [];\n\n    for (var i = 0; i < locationLine.length; i += 80) {\n      sublines.push(locationLine.slice(i, i + 80));\n    }\n\n    return locationStr + printPrefixedLines([[\"\".concat(lineNum), sublines[0]]].concat(sublines.slice(1, sublineIndex + 1).map(function (subline) {\n      return ['', subline];\n    }), [[' ', whitespace(sublineColumnNum - 1) + '^'], ['', sublines[sublineIndex + 1]]]));\n  }\n\n  return locationStr + printPrefixedLines([// Lines specified like this: [\"prefix\", \"string\"],\n  [\"\".concat(lineNum - 1), lines[lineIndex - 1]], [\"\".concat(lineNum), locationLine], ['', whitespace(columnNum - 1) + '^'], [\"\".concat(lineNum + 1), lines[lineIndex + 1]]]);\n}\n\nfunction printPrefixedLines(lines) {\n  var existingLines = lines.filter(function (_ref) {\n    var _ = _ref[0],\n        line = _ref[1];\n    return line !== undefined;\n  });\n  var padLen = Math.max.apply(Math, existingLines.map(function (_ref2) {\n    var prefix = _ref2[0];\n    return prefix.length;\n  }));\n  return existingLines.map(function (_ref3) {\n    var prefix = _ref3[0],\n        line = _ref3[1];\n    return lpad(padLen, prefix) + ' | ' + line;\n  }).join('\\n');\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction lpad(len, str) {\n  return whitespace(len - str.length) + str;\n}\n","import isObjectLike from '../jsutils/isObjectLike';\nimport { getLocation } from '../language/location';\nimport { printLocation, printSourceLocation } from '../language/printLocation';\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\n\nexport function GraphQLError( // eslint-disable-line no-redeclare\nmessage, nodes, source, positions, path, originalError, extensions) {\n  // Compute list of blame nodes.\n  var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : undefined : nodes ? [nodes] : undefined; // Compute locations in the source for the given nodes/positions.\n\n\n  var _source = source;\n\n  if (!_source && _nodes) {\n    var node = _nodes[0];\n    _source = node && node.loc && node.loc.source;\n  }\n\n  var _positions = positions;\n\n  if (!_positions && _nodes) {\n    _positions = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(node.loc.start);\n      }\n\n      return list;\n    }, []);\n  }\n\n  if (_positions && _positions.length === 0) {\n    _positions = undefined;\n  }\n\n  var _locations;\n\n  if (positions && source) {\n    _locations = positions.map(function (pos) {\n      return getLocation(source, pos);\n    });\n  } else if (_nodes) {\n    _locations = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(getLocation(node.loc.source, node.loc.start));\n      }\n\n      return list;\n    }, []);\n  }\n\n  var _extensions = extensions;\n\n  if (_extensions == null && originalError != null) {\n    var originalExtensions = originalError.extensions;\n\n    if (isObjectLike(originalExtensions)) {\n      _extensions = originalExtensions;\n    }\n  }\n\n  Object.defineProperties(this, {\n    message: {\n      value: message,\n      // By being enumerable, JSON.stringify will include `message` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true,\n      writable: true\n    },\n    locations: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _locations || undefined,\n      // By being enumerable, JSON.stringify will include `locations` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_locations)\n    },\n    path: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: path || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(path)\n    },\n    nodes: {\n      value: _nodes || undefined\n    },\n    source: {\n      value: _source || undefined\n    },\n    positions: {\n      value: _positions || undefined\n    },\n    originalError: {\n      value: originalError\n    },\n    extensions: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _extensions || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_extensions)\n    }\n  }); // Include (non-enumerable) stack trace.\n\n  if (originalError && originalError.stack) {\n    Object.defineProperty(this, 'stack', {\n      value: originalError.stack,\n      writable: true,\n      configurable: true\n    });\n  } else if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, GraphQLError);\n  } else {\n    Object.defineProperty(this, 'stack', {\n      value: Error().stack,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nGraphQLError.prototype = Object.create(Error.prototype, {\n  constructor: {\n    value: GraphQLError\n  },\n  name: {\n    value: 'GraphQLError'\n  },\n  toString: {\n    value: function toString() {\n      return printError(this);\n    }\n  }\n});\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\n\nexport function printError(error) {\n  var output = error.message;\n\n  if (error.nodes) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = error.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var node = _step.value;\n\n        if (node.loc) {\n          output += '\\n\\n' + printLocation(node.loc);\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (error.source && error.locations) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = error.locations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var location = _step2.value;\n        output += '\\n\\n' + printSourceLocation(error.source, location);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return output;\n}\n","import { GraphQLError } from './GraphQLError';\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError(\"Syntax Error: \".concat(description), undefined, source, [position]);\n}\n","/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nexport var TokenKind = Object.freeze({\n  SOF: '<SOF>',\n  EOF: '<EOF>',\n  BANG: '!',\n  DOLLAR: '$',\n  AMP: '&',\n  PAREN_L: '(',\n  PAREN_R: ')',\n  SPREAD: '...',\n  COLON: ':',\n  EQUALS: '=',\n  AT: '@',\n  BRACKET_L: '[',\n  BRACKET_R: ']',\n  BRACE_L: '{',\n  PIPE: '|',\n  BRACE_R: '}',\n  NAME: 'Name',\n  INT: 'Int',\n  FLOAT: 'Float',\n  STRING: 'String',\n  BLOCK_STRING: 'BlockString',\n  COMMENT: 'Comment'\n});\n/**\n * The enum type representing the token kinds values.\n */\n","import defineToJSON from '../jsutils/defineToJSON';\nimport { TokenKind } from './tokenKind';\nimport { syntaxError } from '../error/syntaxError';\nimport { dedentBlockStringValue } from './blockString';\n/**\n * Given a Source object, this returns a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\n\nexport function createLexer(source, options) {\n  var startOfFileToken = new Tok(TokenKind.SOF, 0, 0, 0, 0, null);\n  var lexer = {\n    source: source,\n    options: options,\n    lastToken: startOfFileToken,\n    token: startOfFileToken,\n    line: 1,\n    lineStart: 0,\n    advance: advanceLexer,\n    lookahead: lookahead\n  };\n  return lexer;\n}\n\nfunction advanceLexer() {\n  this.lastToken = this.token;\n  var token = this.token = this.lookahead();\n  return token;\n}\n\nfunction lookahead() {\n  var token = this.token;\n\n  if (token.kind !== TokenKind.EOF) {\n    do {\n      // Note: next is only mutable during parsing, so we cast to allow this.\n      token = token.next || (token.next = readToken(this, token));\n    } while (token.kind === TokenKind.COMMENT);\n  }\n\n  return token;\n}\n/**\n * The return type of createLexer.\n */\n\n\n// @internal\nexport function isPunctuatorToken(token) {\n  var kind = token.kind;\n  return kind === TokenKind.BANG || kind === TokenKind.DOLLAR || kind === TokenKind.AMP || kind === TokenKind.PAREN_L || kind === TokenKind.PAREN_R || kind === TokenKind.SPREAD || kind === TokenKind.COLON || kind === TokenKind.EQUALS || kind === TokenKind.AT || kind === TokenKind.BRACKET_L || kind === TokenKind.BRACKET_R || kind === TokenKind.BRACE_L || kind === TokenKind.PIPE || kind === TokenKind.BRACE_R;\n}\n/**\n * A helper function to describe a token as a string for debugging\n */\n\nexport function getTokenDesc(token) {\n  var value = token.value;\n  return value ? \"\".concat(token.kind, \" \\\"\").concat(value, \"\\\"\") : token.kind;\n}\n/**\n * Helper function for constructing the Token object.\n */\n\nfunction Tok(kind, start, end, line, column, prev, value) {\n  this.kind = kind;\n  this.start = start;\n  this.end = end;\n  this.line = line;\n  this.column = column;\n  this.value = value;\n  this.prev = prev;\n  this.next = null;\n} // Print a simplified form when appearing in JSON/util.inspect.\n\n\ndefineToJSON(Tok, function () {\n  return {\n    kind: this.kind,\n    value: this.value,\n    line: this.line,\n    column: this.column\n  };\n});\n\nfunction printCharCode(code) {\n  return (// NaN/undefined represents access beyond the end of the file.\n    isNaN(code) ? TokenKind.EOF : // Trust JSON for ASCII.\n    code < 0x007f ? JSON.stringify(String.fromCharCode(code)) : // Otherwise print the escaped form.\n    \"\\\"\\\\u\".concat(('00' + code.toString(16).toUpperCase()).slice(-4), \"\\\"\")\n  );\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace until it finds the next lexable token, then lexes\n * punctuators immediately or calls the appropriate helper function for more\n * complicated tokens.\n */\n\n\nfunction readToken(lexer, prev) {\n  var source = lexer.source;\n  var body = source.body;\n  var bodyLength = body.length;\n  var pos = positionAfterWhitespace(body, prev.end, lexer);\n  var line = lexer.line;\n  var col = 1 + pos - lexer.lineStart;\n\n  if (pos >= bodyLength) {\n    return new Tok(TokenKind.EOF, bodyLength, bodyLength, line, col, prev);\n  }\n\n  var code = body.charCodeAt(pos); // SourceCharacter\n\n  switch (code) {\n    // !\n    case 33:\n      return new Tok(TokenKind.BANG, pos, pos + 1, line, col, prev);\n    // #\n\n    case 35:\n      return readComment(source, pos, line, col, prev);\n    // $\n\n    case 36:\n      return new Tok(TokenKind.DOLLAR, pos, pos + 1, line, col, prev);\n    // &\n\n    case 38:\n      return new Tok(TokenKind.AMP, pos, pos + 1, line, col, prev);\n    // (\n\n    case 40:\n      return new Tok(TokenKind.PAREN_L, pos, pos + 1, line, col, prev);\n    // )\n\n    case 41:\n      return new Tok(TokenKind.PAREN_R, pos, pos + 1, line, col, prev);\n    // .\n\n    case 46:\n      if (body.charCodeAt(pos + 1) === 46 && body.charCodeAt(pos + 2) === 46) {\n        return new Tok(TokenKind.SPREAD, pos, pos + 3, line, col, prev);\n      }\n\n      break;\n    // :\n\n    case 58:\n      return new Tok(TokenKind.COLON, pos, pos + 1, line, col, prev);\n    // =\n\n    case 61:\n      return new Tok(TokenKind.EQUALS, pos, pos + 1, line, col, prev);\n    // @\n\n    case 64:\n      return new Tok(TokenKind.AT, pos, pos + 1, line, col, prev);\n    // [\n\n    case 91:\n      return new Tok(TokenKind.BRACKET_L, pos, pos + 1, line, col, prev);\n    // ]\n\n    case 93:\n      return new Tok(TokenKind.BRACKET_R, pos, pos + 1, line, col, prev);\n    // {\n\n    case 123:\n      return new Tok(TokenKind.BRACE_L, pos, pos + 1, line, col, prev);\n    // |\n\n    case 124:\n      return new Tok(TokenKind.PIPE, pos, pos + 1, line, col, prev);\n    // }\n\n    case 125:\n      return new Tok(TokenKind.BRACE_R, pos, pos + 1, line, col, prev);\n    // A-Z _ a-z\n\n    case 65:\n    case 66:\n    case 67:\n    case 68:\n    case 69:\n    case 70:\n    case 71:\n    case 72:\n    case 73:\n    case 74:\n    case 75:\n    case 76:\n    case 77:\n    case 78:\n    case 79:\n    case 80:\n    case 81:\n    case 82:\n    case 83:\n    case 84:\n    case 85:\n    case 86:\n    case 87:\n    case 88:\n    case 89:\n    case 90:\n    case 95:\n    case 97:\n    case 98:\n    case 99:\n    case 100:\n    case 101:\n    case 102:\n    case 103:\n    case 104:\n    case 105:\n    case 106:\n    case 107:\n    case 108:\n    case 109:\n    case 110:\n    case 111:\n    case 112:\n    case 113:\n    case 114:\n    case 115:\n    case 116:\n    case 117:\n    case 118:\n    case 119:\n    case 120:\n    case 121:\n    case 122:\n      return readName(source, pos, line, col, prev);\n    // - 0-9\n\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return readNumber(source, pos, code, line, col, prev);\n    // \"\n\n    case 34:\n      if (body.charCodeAt(pos + 1) === 34 && body.charCodeAt(pos + 2) === 34) {\n        return readBlockString(source, pos, line, col, prev, lexer);\n      }\n\n      return readString(source, pos, line, col, prev);\n  }\n\n  throw syntaxError(source, pos, unexpectedCharacterMessage(code));\n}\n/**\n * Report a message that an unexpected character was encountered.\n */\n\n\nfunction unexpectedCharacterMessage(code) {\n  if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n    return \"Cannot contain the invalid character \".concat(printCharCode(code), \".\");\n  }\n\n  if (code === 39) {\n    // '\n    return 'Unexpected single quote character (\\'), did you mean to use a double quote (\")?';\n  }\n\n  return \"Cannot parse the unexpected character \".concat(printCharCode(code), \".\");\n}\n/**\n * Reads from body starting at startPosition until it finds a non-whitespace\n * character, then returns the position of that character for lexing.\n */\n\n\nfunction positionAfterWhitespace(body, startPosition, lexer) {\n  var bodyLength = body.length;\n  var position = startPosition;\n\n  while (position < bodyLength) {\n    var code = body.charCodeAt(position); // tab | space | comma | BOM\n\n    if (code === 9 || code === 32 || code === 44 || code === 0xfeff) {\n      ++position;\n    } else if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (body.charCodeAt(position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else {\n      break;\n    }\n  }\n\n  return position;\n}\n/**\n * Reads a comment token from the source file.\n *\n * #[\\u0009\\u0020-\\uFFFF]*\n */\n\n\nfunction readComment(source, start, line, col, prev) {\n  var body = source.body;\n  var code;\n  var position = start;\n\n  do {\n    code = body.charCodeAt(++position);\n  } while (!isNaN(code) && ( // SourceCharacter but not LineTerminator\n  code > 0x001f || code === 0x0009));\n\n  return new Tok(TokenKind.COMMENT, start, position, line, col, prev, body.slice(start + 1, position));\n}\n/**\n * Reads a number token from the source file, either a float\n * or an int depending on whether a decimal point appears.\n *\n * Int:   -?(0|[1-9][0-9]*)\n * Float: -?(0|[1-9][0-9]*)(\\.[0-9]+)?((E|e)(+|-)?[0-9]+)?\n */\n\n\nfunction readNumber(source, start, firstCode, line, col, prev) {\n  var body = source.body;\n  var code = firstCode;\n  var position = start;\n  var isFloat = false;\n\n  if (code === 45) {\n    // -\n    code = body.charCodeAt(++position);\n  }\n\n  if (code === 48) {\n    // 0\n    code = body.charCodeAt(++position);\n\n    if (code >= 48 && code <= 57) {\n      throw syntaxError(source, position, \"Invalid number, unexpected digit after 0: \".concat(printCharCode(code), \".\"));\n    }\n  } else {\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  }\n\n  if (code === 46) {\n    // .\n    isFloat = true;\n    code = body.charCodeAt(++position);\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  }\n\n  if (code === 69 || code === 101) {\n    // E e\n    isFloat = true;\n    code = body.charCodeAt(++position);\n\n    if (code === 43 || code === 45) {\n      // + -\n      code = body.charCodeAt(++position);\n    }\n\n    position = readDigits(source, position, code);\n  }\n\n  return new Tok(isFloat ? TokenKind.FLOAT : TokenKind.INT, start, position, line, col, prev, body.slice(start, position));\n}\n/**\n * Returns the new position in the source after reading digits.\n */\n\n\nfunction readDigits(source, start, firstCode) {\n  var body = source.body;\n  var position = start;\n  var code = firstCode;\n\n  if (code >= 48 && code <= 57) {\n    // 0 - 9\n    do {\n      code = body.charCodeAt(++position);\n    } while (code >= 48 && code <= 57); // 0 - 9\n\n\n    return position;\n  }\n\n  throw syntaxError(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n}\n/**\n * Reads a string token from the source file.\n *\n * \"([^\"\\\\\\u000A\\u000D]|(\\\\(u[0-9a-fA-F]{4}|[\"\\\\/bfnrt])))*\"\n */\n\n\nfunction readString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 1;\n  var chunkStart = position;\n  var code = 0;\n  var value = '';\n\n  while (position < body.length && !isNaN(code = body.charCodeAt(position)) && // not LineTerminator\n  code !== 0x000a && code !== 0x000d) {\n    // Closing Quote (\")\n    if (code === 34) {\n      value += body.slice(chunkStart, position);\n      return new Tok(TokenKind.STRING, start, position + 1, line, col, prev, value);\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    ++position;\n\n    if (code === 92) {\n      // \\\n      value += body.slice(chunkStart, position - 1);\n      code = body.charCodeAt(position);\n\n      switch (code) {\n        case 34:\n          value += '\"';\n          break;\n\n        case 47:\n          value += '/';\n          break;\n\n        case 92:\n          value += '\\\\';\n          break;\n\n        case 98:\n          value += '\\b';\n          break;\n\n        case 102:\n          value += '\\f';\n          break;\n\n        case 110:\n          value += '\\n';\n          break;\n\n        case 114:\n          value += '\\r';\n          break;\n\n        case 116:\n          value += '\\t';\n          break;\n\n        case 117:\n          {\n            // uXXXX\n            var charCode = uniCharCode(body.charCodeAt(position + 1), body.charCodeAt(position + 2), body.charCodeAt(position + 3), body.charCodeAt(position + 4));\n\n            if (charCode < 0) {\n              var invalidSequence = body.slice(position + 1, position + 5);\n              throw syntaxError(source, position, \"Invalid character escape sequence: \\\\u\".concat(invalidSequence, \".\"));\n            }\n\n            value += String.fromCharCode(charCode);\n            position += 4;\n            break;\n          }\n\n        default:\n          throw syntaxError(source, position, \"Invalid character escape sequence: \\\\\".concat(String.fromCharCode(code), \".\"));\n      }\n\n      ++position;\n      chunkStart = position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Reads a block string token from the source file.\n *\n * \"\"\"(\"?\"?(\\\\\"\"\"|\\\\(?!=\"\"\")|[^\"\\\\]))*\"\"\"\n */\n\n\nfunction readBlockString(source, start, line, col, prev, lexer) {\n  var body = source.body;\n  var position = start + 3;\n  var chunkStart = position;\n  var code = 0;\n  var rawValue = '';\n\n  while (position < body.length && !isNaN(code = body.charCodeAt(position))) {\n    // Closing Triple-Quote (\"\"\")\n    if (code === 34 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34) {\n      rawValue += body.slice(chunkStart, position);\n      return new Tok(TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, dedentBlockStringValue(rawValue));\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (body.charCodeAt(position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if ( // Escape Triple-Quote (\\\"\"\")\n    code === 92 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34 && body.charCodeAt(position + 3) === 34) {\n      rawValue += body.slice(chunkStart, position) + '\"\"\"';\n      position += 4;\n      chunkStart = position;\n    } else {\n      ++position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Converts four hexadecimal chars to the integer that the\n * string represents. For example, uniCharCode('0','0','0','f')\n * will return 15, and uniCharCode('0','0','f','f') returns 255.\n *\n * Returns a negative number on error, if a char was invalid.\n *\n * This is implemented by noting that char2hex() returns -1 on error,\n * which means the result of ORing the char2hex() will also be negative.\n */\n\n\nfunction uniCharCode(a, b, c, d) {\n  return char2hex(a) << 12 | char2hex(b) << 8 | char2hex(c) << 4 | char2hex(d);\n}\n/**\n * Converts a hex character to its integer value.\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 on error.\n */\n\n\nfunction char2hex(a) {\n  return a >= 48 && a <= 57 ? a - 48 // 0-9\n  : a >= 65 && a <= 70 ? a - 55 // A-F\n  : a >= 97 && a <= 102 ? a - 87 // a-f\n  : -1;\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * [_A-Za-z][_0-9A-Za-z]*\n */\n\n\nfunction readName(source, start, line, col, prev) {\n  var body = source.body;\n  var bodyLength = body.length;\n  var position = start + 1;\n  var code = 0;\n\n  while (position !== bodyLength && !isNaN(code = body.charCodeAt(position)) && (code === 95 || // _\n  code >= 48 && code <= 57 || // 0-9\n  code >= 65 && code <= 90 || // A-Z\n  code >= 97 && code <= 122) // a-z\n  ) {\n    ++position;\n  }\n\n  return new Tok(TokenKind.NAME, start, position, line, col, prev, body.slice(start, position));\n}\n","/**\n * The set of allowed directive location values.\n */\nexport var DirectiveLocation = Object.freeze({\n  // Request Definitions\n  QUERY: 'QUERY',\n  MUTATION: 'MUTATION',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  FIELD: 'FIELD',\n  FRAGMENT_DEFINITION: 'FRAGMENT_DEFINITION',\n  FRAGMENT_SPREAD: 'FRAGMENT_SPREAD',\n  INLINE_FRAGMENT: 'INLINE_FRAGMENT',\n  VARIABLE_DEFINITION: 'VARIABLE_DEFINITION',\n  // Type System Definitions\n  SCHEMA: 'SCHEMA',\n  SCALAR: 'SCALAR',\n  OBJECT: 'OBJECT',\n  FIELD_DEFINITION: 'FIELD_DEFINITION',\n  ARGUMENT_DEFINITION: 'ARGUMENT_DEFINITION',\n  INTERFACE: 'INTERFACE',\n  UNION: 'UNION',\n  ENUM: 'ENUM',\n  ENUM_VALUE: 'ENUM_VALUE',\n  INPUT_OBJECT: 'INPUT_OBJECT',\n  INPUT_FIELD_DEFINITION: 'INPUT_FIELD_DEFINITION'\n});\n/**\n * The enum type representing the directive location values.\n */\n","import inspect from '../jsutils/inspect';\nimport defineToJSON from '../jsutils/defineToJSON';\nimport { Source } from './source';\nimport { syntaxError } from '../error/syntaxError';\nimport { TokenKind } from './tokenKind';\nimport { getTokenDesc, createLexer } from './lexer';\nimport { Kind } from './kinds';\nimport { DirectiveLocation } from './directiveLocation';\n/**\n * Configuration options to control parser behavior\n */\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nexport function parse(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n\n  if (!(sourceObj instanceof Source)) {\n    throw new TypeError(\"Must provide Source. Received: \".concat(inspect(sourceObj)));\n  }\n\n  var lexer = createLexer(sourceObj, options || {});\n  return parseDocument(lexer);\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\nexport function parseValue(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expectToken(lexer, TokenKind.SOF);\n  var value = parseValueLiteral(lexer, false);\n  expectToken(lexer, TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\nexport function parseType(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expectToken(lexer, TokenKind.SOF);\n  var type = parseTypeReference(lexer);\n  expectToken(lexer, TokenKind.EOF);\n  return type;\n}\n/**\n * Converts a name lex token into a name parse node.\n */\n\nfunction parseName(lexer) {\n  var token = expectToken(lexer, TokenKind.NAME);\n  return {\n    kind: Kind.NAME,\n    value: token.value,\n    loc: loc(lexer, token)\n  };\n} // Implements the parsing rules in the Document section.\n\n/**\n * Document : Definition+\n */\n\n\nfunction parseDocument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.DOCUMENT,\n    definitions: many(lexer, TokenKind.SOF, parseDefinition, TokenKind.EOF),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Definition :\n *   - ExecutableDefinition\n *   - TypeSystemDefinition\n *   - TypeSystemExtension\n */\n\n\nfunction parseDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n      case 'fragment':\n        return parseExecutableDefinition(lexer);\n\n      case 'schema':\n      case 'scalar':\n      case 'type':\n      case 'interface':\n      case 'union':\n      case 'enum':\n      case 'input':\n      case 'directive':\n        return parseTypeSystemDefinition(lexer);\n\n      case 'extend':\n        return parseTypeSystemExtension(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseExecutableDefinition(lexer);\n  } else if (peekDescription(lexer)) {\n    return parseTypeSystemDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n}\n/**\n * ExecutableDefinition :\n *   - OperationDefinition\n *   - FragmentDefinition\n */\n\n\nfunction parseExecutableDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n        return parseOperationDefinition(lexer);\n\n      case 'fragment':\n        return parseFragmentDefinition(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseOperationDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n} // Implements the parsing rules in the Operations section.\n\n/**\n * OperationDefinition :\n *  - SelectionSet\n *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n */\n\n\nfunction parseOperationDefinition(lexer) {\n  var start = lexer.token;\n\n  if (peek(lexer, TokenKind.BRACE_L)) {\n    return {\n      kind: Kind.OPERATION_DEFINITION,\n      operation: 'query',\n      name: undefined,\n      variableDefinitions: [],\n      directives: [],\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n\n  var operation = parseOperationType(lexer);\n  var name;\n\n  if (peek(lexer, TokenKind.NAME)) {\n    name = parseName(lexer);\n  }\n\n  return {\n    kind: Kind.OPERATION_DEFINITION,\n    operation: operation,\n    name: name,\n    variableDefinitions: parseVariableDefinitions(lexer),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * OperationType : one of query mutation subscription\n */\n\n\nfunction parseOperationType(lexer) {\n  var operationToken = expectToken(lexer, TokenKind.NAME);\n\n  switch (operationToken.value) {\n    case 'query':\n      return 'query';\n\n    case 'mutation':\n      return 'mutation';\n\n    case 'subscription':\n      return 'subscription';\n  }\n\n  throw unexpected(lexer, operationToken);\n}\n/**\n * VariableDefinitions : ( VariableDefinition+ )\n */\n\n\nfunction parseVariableDefinitions(lexer) {\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, parseVariableDefinition, TokenKind.PAREN_R) : [];\n}\n/**\n * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n */\n\n\nfunction parseVariableDefinition(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.VARIABLE_DEFINITION,\n    variable: parseVariable(lexer),\n    type: (expectToken(lexer, TokenKind.COLON), parseTypeReference(lexer)),\n    defaultValue: expectOptionalToken(lexer, TokenKind.EQUALS) ? parseValueLiteral(lexer, true) : undefined,\n    directives: parseDirectives(lexer, true),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Variable : $ Name\n */\n\n\nfunction parseVariable(lexer) {\n  var start = lexer.token;\n  expectToken(lexer, TokenKind.DOLLAR);\n  return {\n    kind: Kind.VARIABLE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * SelectionSet : { Selection+ }\n */\n\n\nfunction parseSelectionSet(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.SELECTION_SET,\n    selections: many(lexer, TokenKind.BRACE_L, parseSelection, TokenKind.BRACE_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Selection :\n *   - Field\n *   - FragmentSpread\n *   - InlineFragment\n */\n\n\nfunction parseSelection(lexer) {\n  return peek(lexer, TokenKind.SPREAD) ? parseFragment(lexer) : parseField(lexer);\n}\n/**\n * Field : Alias? Name Arguments? Directives? SelectionSet?\n *\n * Alias : Name :\n */\n\n\nfunction parseField(lexer) {\n  var start = lexer.token;\n  var nameOrAlias = parseName(lexer);\n  var alias;\n  var name;\n\n  if (expectOptionalToken(lexer, TokenKind.COLON)) {\n    alias = nameOrAlias;\n    name = parseName(lexer);\n  } else {\n    name = nameOrAlias;\n  }\n\n  return {\n    kind: Kind.FIELD,\n    alias: alias,\n    name: name,\n    arguments: parseArguments(lexer, false),\n    directives: parseDirectives(lexer, false),\n    selectionSet: peek(lexer, TokenKind.BRACE_L) ? parseSelectionSet(lexer) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Arguments[Const] : ( Argument[?Const]+ )\n */\n\n\nfunction parseArguments(lexer, isConst) {\n  var item = isConst ? parseConstArgument : parseArgument;\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, item, TokenKind.PAREN_R) : [];\n}\n/**\n * Argument[Const] : Name : Value[?Const]\n */\n\n\nfunction parseArgument(lexer) {\n  var start = lexer.token;\n  var name = parseName(lexer);\n  expectToken(lexer, TokenKind.COLON);\n  return {\n    kind: Kind.ARGUMENT,\n    name: name,\n    value: parseValueLiteral(lexer, false),\n    loc: loc(lexer, start)\n  };\n}\n\nfunction parseConstArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expectToken(lexer, TokenKind.COLON), parseConstValue(lexer)),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Fragments section.\n\n/**\n * Corresponds to both FragmentSpread and InlineFragment in the spec.\n *\n * FragmentSpread : ... FragmentName Directives?\n *\n * InlineFragment : ... TypeCondition? Directives? SelectionSet\n */\n\n\nfunction parseFragment(lexer) {\n  var start = lexer.token;\n  expectToken(lexer, TokenKind.SPREAD);\n  var hasTypeCondition = expectOptionalKeyword(lexer, 'on');\n\n  if (!hasTypeCondition && peek(lexer, TokenKind.NAME)) {\n    return {\n      kind: Kind.FRAGMENT_SPREAD,\n      name: parseFragmentName(lexer),\n      directives: parseDirectives(lexer, false),\n      loc: loc(lexer, start)\n    };\n  }\n\n  return {\n    kind: Kind.INLINE_FRAGMENT,\n    typeCondition: hasTypeCondition ? parseNamedType(lexer) : undefined,\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * FragmentDefinition :\n *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n *\n * TypeCondition : NamedType\n */\n\n\nfunction parseFragmentDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'fragment'); // Experimental support for defining variables within fragments changes\n  // the grammar of FragmentDefinition:\n  //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n  if (lexer.options.experimentalFragmentVariables) {\n    return {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: parseFragmentName(lexer),\n      variableDefinitions: parseVariableDefinitions(lexer),\n      typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n      directives: parseDirectives(lexer, false),\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n\n  return {\n    kind: Kind.FRAGMENT_DEFINITION,\n    name: parseFragmentName(lexer),\n    typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * FragmentName : Name but not `on`\n */\n\n\nfunction parseFragmentName(lexer) {\n  if (lexer.token.value === 'on') {\n    throw unexpected(lexer);\n  }\n\n  return parseName(lexer);\n} // Implements the parsing rules in the Values section.\n\n/**\n * Value[Const] :\n *   - [~Const] Variable\n *   - IntValue\n *   - FloatValue\n *   - StringValue\n *   - BooleanValue\n *   - NullValue\n *   - EnumValue\n *   - ListValue[?Const]\n *   - ObjectValue[?Const]\n *\n * BooleanValue : one of `true` `false`\n *\n * NullValue : `null`\n *\n * EnumValue : Name but not `true`, `false` or `null`\n */\n\n\nfunction parseValueLiteral(lexer, isConst) {\n  var token = lexer.token;\n\n  switch (token.kind) {\n    case TokenKind.BRACKET_L:\n      return parseList(lexer, isConst);\n\n    case TokenKind.BRACE_L:\n      return parseObject(lexer, isConst);\n\n    case TokenKind.INT:\n      lexer.advance();\n      return {\n        kind: Kind.INT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.FLOAT:\n      lexer.advance();\n      return {\n        kind: Kind.FLOAT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.STRING:\n    case TokenKind.BLOCK_STRING:\n      return parseStringLiteral(lexer);\n\n    case TokenKind.NAME:\n      if (token.value === 'true' || token.value === 'false') {\n        lexer.advance();\n        return {\n          kind: Kind.BOOLEAN,\n          value: token.value === 'true',\n          loc: loc(lexer, token)\n        };\n      } else if (token.value === 'null') {\n        lexer.advance();\n        return {\n          kind: Kind.NULL,\n          loc: loc(lexer, token)\n        };\n      }\n\n      lexer.advance();\n      return {\n        kind: Kind.ENUM,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.DOLLAR:\n      if (!isConst) {\n        return parseVariable(lexer);\n      }\n\n      break;\n  }\n\n  throw unexpected(lexer);\n}\n\nfunction parseStringLiteral(lexer) {\n  var token = lexer.token;\n  lexer.advance();\n  return {\n    kind: Kind.STRING,\n    value: token.value,\n    block: token.kind === TokenKind.BLOCK_STRING,\n    loc: loc(lexer, token)\n  };\n}\n\nexport function parseConstValue(lexer) {\n  return parseValueLiteral(lexer, true);\n}\n\nfunction parseValueValue(lexer) {\n  return parseValueLiteral(lexer, false);\n}\n/**\n * ListValue[Const] :\n *   - [ ]\n *   - [ Value[?Const]+ ]\n */\n\n\nfunction parseList(lexer, isConst) {\n  var start = lexer.token;\n  var item = isConst ? parseConstValue : parseValueValue;\n  return {\n    kind: Kind.LIST,\n    values: any(lexer, TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectValue[Const] :\n *   - { }\n *   - { ObjectField[?Const]+ }\n */\n\n\nfunction parseObject(lexer, isConst) {\n  var start = lexer.token;\n\n  var item = function item() {\n    return parseObjectField(lexer, isConst);\n  };\n\n  return {\n    kind: Kind.OBJECT,\n    fields: any(lexer, TokenKind.BRACE_L, item, TokenKind.BRACE_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectField[Const] : Name : Value[?Const]\n */\n\n\nfunction parseObjectField(lexer, isConst) {\n  var start = lexer.token;\n  var name = parseName(lexer);\n  expectToken(lexer, TokenKind.COLON);\n  return {\n    kind: Kind.OBJECT_FIELD,\n    name: name,\n    value: parseValueLiteral(lexer, isConst),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Directives section.\n\n/**\n * Directives[Const] : Directive[?Const]+\n */\n\n\nfunction parseDirectives(lexer, isConst) {\n  var directives = [];\n\n  while (peek(lexer, TokenKind.AT)) {\n    directives.push(parseDirective(lexer, isConst));\n  }\n\n  return directives;\n}\n/**\n * Directive[Const] : @ Name Arguments[?Const]?\n */\n\n\nfunction parseDirective(lexer, isConst) {\n  var start = lexer.token;\n  expectToken(lexer, TokenKind.AT);\n  return {\n    kind: Kind.DIRECTIVE,\n    name: parseName(lexer),\n    arguments: parseArguments(lexer, isConst),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Types section.\n\n/**\n * Type :\n *   - NamedType\n *   - ListType\n *   - NonNullType\n */\n\n\nexport function parseTypeReference(lexer) {\n  var start = lexer.token;\n  var type;\n\n  if (expectOptionalToken(lexer, TokenKind.BRACKET_L)) {\n    type = parseTypeReference(lexer);\n    expectToken(lexer, TokenKind.BRACKET_R);\n    type = {\n      kind: Kind.LIST_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  } else {\n    type = parseNamedType(lexer);\n  }\n\n  if (expectOptionalToken(lexer, TokenKind.BANG)) {\n    return {\n      kind: Kind.NON_NULL_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  }\n\n  return type;\n}\n/**\n * NamedType : Name\n */\n\nexport function parseNamedType(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.NAMED_TYPE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Type Definition section.\n\n/**\n * TypeSystemDefinition :\n *   - SchemaDefinition\n *   - TypeDefinition\n *   - DirectiveDefinition\n *\n * TypeDefinition :\n *   - ScalarTypeDefinition\n *   - ObjectTypeDefinition\n *   - InterfaceTypeDefinition\n *   - UnionTypeDefinition\n *   - EnumTypeDefinition\n *   - InputObjectTypeDefinition\n */\n\nfunction parseTypeSystemDefinition(lexer) {\n  // Many definitions begin with a description and require a lookahead.\n  var keywordToken = peekDescription(lexer) ? lexer.lookahead() : lexer.token;\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaDefinition(lexer);\n\n      case 'scalar':\n        return parseScalarTypeDefinition(lexer);\n\n      case 'type':\n        return parseObjectTypeDefinition(lexer);\n\n      case 'interface':\n        return parseInterfaceTypeDefinition(lexer);\n\n      case 'union':\n        return parseUnionTypeDefinition(lexer);\n\n      case 'enum':\n        return parseEnumTypeDefinition(lexer);\n\n      case 'input':\n        return parseInputObjectTypeDefinition(lexer);\n\n      case 'directive':\n        return parseDirectiveDefinition(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n\nfunction peekDescription(lexer) {\n  return peek(lexer, TokenKind.STRING) || peek(lexer, TokenKind.BLOCK_STRING);\n}\n/**\n * Description : StringValue\n */\n\n\nfunction parseDescription(lexer) {\n  if (peekDescription(lexer)) {\n    return parseStringLiteral(lexer);\n  }\n}\n/**\n * SchemaDefinition : schema Directives[Const]? { OperationTypeDefinition+ }\n */\n\n\nfunction parseSchemaDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R);\n  return {\n    kind: Kind.SCHEMA_DEFINITION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * OperationTypeDefinition : OperationType : NamedType\n */\n\n\nfunction parseOperationTypeDefinition(lexer) {\n  var start = lexer.token;\n  var operation = parseOperationType(lexer);\n  expectToken(lexer, TokenKind.COLON);\n  var type = parseNamedType(lexer);\n  return {\n    kind: Kind.OPERATION_TYPE_DEFINITION,\n    operation: operation,\n    type: type,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n */\n\n\nfunction parseScalarTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.SCALAR_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectTypeDefinition :\n *   Description?\n *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n */\n\n\nfunction parseObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ImplementsInterfaces :\n *   - implements `&`? NamedType\n *   - ImplementsInterfaces & NamedType\n */\n\n\nfunction parseImplementsInterfaces(lexer) {\n  var types = [];\n\n  if (expectOptionalKeyword(lexer, 'implements')) {\n    // Optional leading ampersand\n    expectOptionalToken(lexer, TokenKind.AMP);\n\n    do {\n      types.push(parseNamedType(lexer));\n    } while (expectOptionalToken(lexer, TokenKind.AMP) || // Legacy support for the SDL?\n    lexer.options.allowLegacySDLImplementsInterfaces && peek(lexer, TokenKind.NAME));\n  }\n\n  return types;\n}\n/**\n * FieldsDefinition : { FieldDefinition+ }\n */\n\n\nfunction parseFieldsDefinition(lexer) {\n  // Legacy support for the SDL?\n  if (lexer.options.allowLegacySDLEmptyFields && peek(lexer, TokenKind.BRACE_L) && lexer.lookahead().kind === TokenKind.BRACE_R) {\n    lexer.advance();\n    lexer.advance();\n    return [];\n  }\n\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseFieldDefinition, TokenKind.BRACE_R) : [];\n}\n/**\n * FieldDefinition :\n *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n */\n\n\nfunction parseFieldDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expectToken(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.FIELD_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    type: type,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ArgumentsDefinition : ( InputValueDefinition+ )\n */\n\n\nfunction parseArgumentDefs(lexer) {\n  if (!peek(lexer, TokenKind.PAREN_L)) {\n    return [];\n  }\n\n  return many(lexer, TokenKind.PAREN_L, parseInputValueDef, TokenKind.PAREN_R);\n}\n/**\n * InputValueDefinition :\n *   - Description? Name : Type DefaultValue? Directives[Const]?\n */\n\n\nfunction parseInputValueDef(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  expectToken(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var defaultValue;\n\n  if (expectOptionalToken(lexer, TokenKind.EQUALS)) {\n    defaultValue = parseConstValue(lexer);\n  }\n\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.INPUT_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    type: type,\n    defaultValue: defaultValue,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InterfaceTypeDefinition :\n *   - Description? interface Name Directives[Const]? FieldsDefinition?\n */\n\n\nfunction parseInterfaceTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.INTERFACE_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionTypeDefinition :\n *   - Description? union Name Directives[Const]? UnionMemberTypes?\n */\n\n\nfunction parseUnionTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n  return {\n    kind: Kind.UNION_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionMemberTypes :\n *   - = `|`? NamedType\n *   - UnionMemberTypes | NamedType\n */\n\n\nfunction parseUnionMemberTypes(lexer) {\n  var types = [];\n\n  if (expectOptionalToken(lexer, TokenKind.EQUALS)) {\n    // Optional leading pipe\n    expectOptionalToken(lexer, TokenKind.PIPE);\n\n    do {\n      types.push(parseNamedType(lexer));\n    } while (expectOptionalToken(lexer, TokenKind.PIPE));\n  }\n\n  return types;\n}\n/**\n * EnumTypeDefinition :\n *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n */\n\n\nfunction parseEnumTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n  return {\n    kind: Kind.ENUM_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * EnumValuesDefinition : { EnumValueDefinition+ }\n */\n\n\nfunction parseEnumValuesDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseEnumValueDefinition, TokenKind.BRACE_R) : [];\n}\n/**\n * EnumValueDefinition : Description? EnumValue Directives[Const]?\n *\n * EnumValue : Name\n */\n\n\nfunction parseEnumValueDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.ENUM_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputObjectTypeDefinition :\n *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n */\n\n\nfunction parseInputObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputFieldsDefinition : { InputValueDefinition+ }\n */\n\n\nfunction parseInputFieldsDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseInputValueDef, TokenKind.BRACE_R) : [];\n}\n/**\n * TypeSystemExtension :\n *   - SchemaExtension\n *   - TypeExtension\n *\n * TypeExtension :\n *   - ScalarTypeExtension\n *   - ObjectTypeExtension\n *   - InterfaceTypeExtension\n *   - UnionTypeExtension\n *   - EnumTypeExtension\n *   - InputObjectTypeDefinition\n */\n\n\nfunction parseTypeSystemExtension(lexer) {\n  var keywordToken = lexer.lookahead();\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaExtension(lexer);\n\n      case 'scalar':\n        return parseScalarTypeExtension(lexer);\n\n      case 'type':\n        return parseObjectTypeExtension(lexer);\n\n      case 'interface':\n        return parseInterfaceTypeExtension(lexer);\n\n      case 'union':\n        return parseUnionTypeExtension(lexer);\n\n      case 'enum':\n        return parseEnumTypeExtension(lexer);\n\n      case 'input':\n        return parseInputObjectTypeExtension(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n/**\n * SchemaExtension :\n *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n *  - extend schema Directives[Const]\n */\n\n\nfunction parseSchemaExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R) : [];\n\n  if (directives.length === 0 && operationTypes.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.SCHEMA_EXTENSION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ScalarTypeExtension :\n *   - extend scalar Name Directives[Const]\n */\n\n\nfunction parseScalarTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n\n  if (directives.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.SCALAR_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectTypeExtension :\n *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n *  - extend type Name ImplementsInterfaces? Directives[Const]\n *  - extend type Name ImplementsInterfaces\n */\n\n\nfunction parseObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n\n  if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.OBJECT_TYPE_EXTENSION,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InterfaceTypeExtension :\n *   - extend interface Name Directives[Const]? FieldsDefinition\n *   - extend interface Name Directives[Const]\n */\n\n\nfunction parseInterfaceTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.INTERFACE_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionTypeExtension :\n *   - extend union Name Directives[Const]? UnionMemberTypes\n *   - extend union Name Directives[Const]\n */\n\n\nfunction parseUnionTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n\n  if (directives.length === 0 && types.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.UNION_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * EnumTypeExtension :\n *   - extend enum Name Directives[Const]? EnumValuesDefinition\n *   - extend enum Name Directives[Const]\n */\n\n\nfunction parseEnumTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n\n  if (directives.length === 0 && values.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.ENUM_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputObjectTypeExtension :\n *   - extend input Name Directives[Const]? InputFieldsDefinition\n *   - extend input Name Directives[Const]\n */\n\n\nfunction parseInputObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * DirectiveDefinition :\n *   - Description? directive @ Name ArgumentsDefinition? `repeatable`? on DirectiveLocations\n */\n\n\nfunction parseDirectiveDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'directive');\n  expectToken(lexer, TokenKind.AT);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  var repeatable = expectOptionalKeyword(lexer, 'repeatable');\n  expectKeyword(lexer, 'on');\n  var locations = parseDirectiveLocations(lexer);\n  return {\n    kind: Kind.DIRECTIVE_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    repeatable: repeatable,\n    locations: locations,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * DirectiveLocations :\n *   - `|`? DirectiveLocation\n *   - DirectiveLocations | DirectiveLocation\n */\n\n\nfunction parseDirectiveLocations(lexer) {\n  // Optional leading pipe\n  expectOptionalToken(lexer, TokenKind.PIPE);\n  var locations = [];\n\n  do {\n    locations.push(parseDirectiveLocation(lexer));\n  } while (expectOptionalToken(lexer, TokenKind.PIPE));\n\n  return locations;\n}\n/*\n * DirectiveLocation :\n *   - ExecutableDirectiveLocation\n *   - TypeSystemDirectiveLocation\n *\n * ExecutableDirectiveLocation : one of\n *   `QUERY`\n *   `MUTATION`\n *   `SUBSCRIPTION`\n *   `FIELD`\n *   `FRAGMENT_DEFINITION`\n *   `FRAGMENT_SPREAD`\n *   `INLINE_FRAGMENT`\n *\n * TypeSystemDirectiveLocation : one of\n *   `SCHEMA`\n *   `SCALAR`\n *   `OBJECT`\n *   `FIELD_DEFINITION`\n *   `ARGUMENT_DEFINITION`\n *   `INTERFACE`\n *   `UNION`\n *   `ENUM`\n *   `ENUM_VALUE`\n *   `INPUT_OBJECT`\n *   `INPUT_FIELD_DEFINITION`\n */\n\n\nfunction parseDirectiveLocation(lexer) {\n  var start = lexer.token;\n  var name = parseName(lexer);\n\n  if (DirectiveLocation[name.value] !== undefined) {\n    return name;\n  }\n\n  throw unexpected(lexer, start);\n} // Core parsing utility functions\n\n/**\n * Returns a location object, used to identify the place in\n * the source that created a given parsed object.\n */\n\n\nfunction loc(lexer, startToken) {\n  if (!lexer.options.noLocation) {\n    return new Loc(startToken, lexer.lastToken, lexer.source);\n  }\n}\n\nfunction Loc(startToken, endToken, source) {\n  this.start = startToken.start;\n  this.end = endToken.end;\n  this.startToken = startToken;\n  this.endToken = endToken;\n  this.source = source;\n} // Print a simplified form when appearing in JSON/util.inspect.\n\n\ndefineToJSON(Loc, function () {\n  return {\n    start: this.start,\n    end: this.end\n  };\n});\n/**\n * Determines if the next token is of a given kind\n */\n\nfunction peek(lexer, kind) {\n  return lexer.token.kind === kind;\n}\n/**\n * If the next token is of the given kind, return that token after advancing\n * the lexer. Otherwise, do not change the parser state and throw an error.\n */\n\n\nfunction expectToken(lexer, kind) {\n  var token = lexer.token;\n\n  if (token.kind === kind) {\n    lexer.advance();\n    return token;\n  }\n\n  throw syntaxError(lexer.source, token.start, \"Expected \".concat(kind, \", found \").concat(getTokenDesc(token)));\n}\n/**\n * If the next token is of the given kind, return that token after advancing\n * the lexer. Otherwise, do not change the parser state and return undefined.\n */\n\n\nfunction expectOptionalToken(lexer, kind) {\n  var token = lexer.token;\n\n  if (token.kind === kind) {\n    lexer.advance();\n    return token;\n  }\n\n  return undefined;\n}\n/**\n * If the next token is a given keyword, advance the lexer.\n * Otherwise, do not change the parser state and throw an error.\n */\n\n\nfunction expectKeyword(lexer, value) {\n  var token = lexer.token;\n\n  if (token.kind === TokenKind.NAME && token.value === value) {\n    lexer.advance();\n  } else {\n    throw syntaxError(lexer.source, token.start, \"Expected \\\"\".concat(value, \"\\\", found \").concat(getTokenDesc(token)));\n  }\n}\n/**\n * If the next token is a given keyword, return \"true\" after advancing\n * the lexer. Otherwise, do not change the parser state and return \"false\".\n */\n\n\nfunction expectOptionalKeyword(lexer, value) {\n  var token = lexer.token;\n\n  if (token.kind === TokenKind.NAME && token.value === value) {\n    lexer.advance();\n    return true;\n  }\n\n  return false;\n}\n/**\n * Helper function for creating an error when an unexpected lexed token\n * is encountered.\n */\n\n\nfunction unexpected(lexer, atToken) {\n  var token = atToken || lexer.token;\n  return syntaxError(lexer.source, token.start, \"Unexpected \".concat(getTokenDesc(token)));\n}\n/**\n * Returns a possibly empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\n\n\nfunction any(lexer, openKind, parseFn, closeKind) {\n  expectToken(lexer, openKind);\n  var nodes = [];\n\n  while (!expectOptionalToken(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n\n  return nodes;\n}\n/**\n * Returns a non-empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\n\n\nfunction many(lexer, openKind, parseFn, closeKind) {\n  expectToken(lexer, openKind);\n  var nodes = [parseFn(lexer)];\n\n  while (!expectOptionalToken(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n\n  return nodes;\n}\n","var parser = require('graphql/language/parser');\n\nvar parse = parser.parse;\n\n// Strip insignificant whitespace\n// Note that this could do a lot more, such as reorder fields etc.\nfunction normalize(string) {\n  return string.replace(/[\\s,]+/g, ' ').trim();\n}\n\n// A map docString -> graphql document\nvar docCache = {};\n\n// A map fragmentName -> [normalized source]\nvar fragmentSourceMap = {};\n\nfunction cacheKeyFromLoc(loc) {\n  return normalize(loc.source.body.substring(loc.start, loc.end));\n}\n\n// For testing.\nfunction resetCaches() {\n  docCache = {};\n  fragmentSourceMap = {};\n}\n\n// Take a unstripped parsed document (query/mutation or even fragment), and\n// check all fragment definitions, checking for name->source uniqueness.\n// We also want to make sure only unique fragments exist in the document.\nvar printFragmentWarnings = true;\nfunction processFragments(ast) {\n  var astFragmentMap = {};\n  var definitions = [];\n\n  for (var i = 0; i < ast.definitions.length; i++) {\n    var fragmentDefinition = ast.definitions[i];\n\n    if (fragmentDefinition.kind === 'FragmentDefinition') {\n      var fragmentName = fragmentDefinition.name.value;\n      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);\n\n      // We know something about this fragment\n      if (fragmentSourceMap.hasOwnProperty(fragmentName) && !fragmentSourceMap[fragmentName][sourceKey]) {\n\n        // this is a problem because the app developer is trying to register another fragment with\n        // the same name as one previously registered. So, we tell them about it.\n        if (printFragmentWarnings) {\n          console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n            + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n            + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n        }\n\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n\n      } else if (!fragmentSourceMap.hasOwnProperty(fragmentName)) {\n        fragmentSourceMap[fragmentName] = {};\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n      }\n\n      if (!astFragmentMap[sourceKey]) {\n        astFragmentMap[sourceKey] = true;\n        definitions.push(fragmentDefinition);\n      }\n    } else {\n      definitions.push(fragmentDefinition);\n    }\n  }\n\n  ast.definitions = definitions;\n  return ast;\n}\n\nfunction disableFragmentWarnings() {\n  printFragmentWarnings = false;\n}\n\nfunction stripLoc(doc, removeLocAtThisLevel) {\n  var docType = Object.prototype.toString.call(doc);\n\n  if (docType === '[object Array]') {\n    return doc.map(function (d) {\n      return stripLoc(d, removeLocAtThisLevel);\n    });\n  }\n\n  if (docType !== '[object Object]') {\n    throw new Error('Unexpected input.');\n  }\n\n  // We don't want to remove the root loc field so we can use it\n  // for fragment substitution (see below)\n  if (removeLocAtThisLevel && doc.loc) {\n    delete doc.loc;\n  }\n\n  // https://github.com/apollographql/graphql-tag/issues/40\n  if (doc.loc) {\n    delete doc.loc.startToken;\n    delete doc.loc.endToken;\n  }\n\n  var keys = Object.keys(doc);\n  var key;\n  var value;\n  var valueType;\n\n  for (key in keys) {\n    if (keys.hasOwnProperty(key)) {\n      value = doc[keys[key]];\n      valueType = Object.prototype.toString.call(value);\n\n      if (valueType === '[object Object]' || valueType === '[object Array]') {\n        doc[keys[key]] = stripLoc(value, true);\n      }\n    }\n  }\n\n  return doc;\n}\n\nvar experimentalFragmentVariables = false;\nfunction parseDocument(doc) {\n  var cacheKey = normalize(doc);\n\n  if (docCache[cacheKey]) {\n    return docCache[cacheKey];\n  }\n\n  var parsed = parse(doc, { experimentalFragmentVariables: experimentalFragmentVariables });\n  if (!parsed || parsed.kind !== 'Document') {\n    throw new Error('Not a valid GraphQL document.');\n  }\n\n  // check that all \"new\" fragments inside the documents are consistent with\n  // existing fragments of the same name\n  parsed = processFragments(parsed);\n  parsed = stripLoc(parsed, false);\n  docCache[cacheKey] = parsed;\n\n  return parsed;\n}\n\nfunction enableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = true;\n}\n\nfunction disableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = false;\n}\n\n// XXX This should eventually disallow arbitrary string interpolation, like Relay does\nfunction gql(/* arguments */) {\n  var args = Array.prototype.slice.call(arguments);\n\n  var literals = args[0];\n\n  // We always get literals[0] and then matching post literals for each arg given\n  var result = (typeof(literals) === \"string\") ? literals : literals[0];\n\n  for (var i = 1; i < args.length; i++) {\n    if (args[i] && args[i].kind && args[i].kind === 'Document') {\n      result += args[i].loc.source.body;\n    } else {\n      result += args[i];\n    }\n\n    result += literals[i];\n  }\n\n  return parseDocument(result);\n}\n\n// Support typescript, which isn't as nice as Babel about default exports\ngql.default = gql;\ngql.resetCaches = resetCaches;\ngql.disableFragmentWarnings = disableFragmentWarnings;\ngql.enableExperimentalFragmentVariables = enableExperimentalFragmentVariables;\ngql.disableExperimentalFragmentVariables = disableExperimentalFragmentVariables;\n\nmodule.exports = gql;\n","import gql from 'graphql-tag'\n\nexport const CourseFields = gql`\n  fragment CourseFields on Course {\n    id\n    name\n    term {\n      id\n      name\n    }\n    teachers {\n      id\n      name\n    }\n    students {\n      id\n    }\n  }`\n\nexport const SessionFields = gql`\n  fragment SessionFields on Session {\n    id\n    startsAt\n    endsAt\n    order\n    course {\n      name\n      id\n    }\n  }`\n\nexport const QuestionFields = gql`\n  fragment QuestionFields on Question {\n    id\n    text\n    order\n    asked\n    answers {\n      id\n      text\n    }\n    session {\n      id\n    }\n  }`\n\nexport const ResponseFields = gql`\n  fragment ResponseFields on Response {\n    id\n    createdAt\n    answer {\n      id\n    }\n    student {\n      id\n    }\n  }\n`\n","import gql from 'graphql-tag'\nimport { CourseFields, SessionFields, QuestionFields } from './fragments'\n\n// Auth\n\nexport const LOGIN = gql`\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user {\n        id\n        username\n        name\n        role\n      }\n    }\n  }\n`\n\nexport const SIGNUP = gql`\n  mutation Signup($username: String!, $name: String!, $password: String!) {\n    signup(username: $username, name: $name, password: $password) {\n      token\n      user {\n        id\n        username\n        name\n        role\n      }\n    }\n  }\n`\n\n// Courses\n\nexport const CREATE_COURSE = gql`\n  mutation CreateCourse($name: String!, $code: String!, $termId: ID!) {\n    createCourse(name:$name, code: $code, termId: $termId){ \n      ...CourseFields\n    }\n  }\n  ${CourseFields}\n`\n\nexport const DELETE_COURSE = gql`\n  mutation DeleteCourse($id: ID!) {\n    deleteCourse(id: $id){ \n      id\n    }\n  }\n`\n\nexport const ADD_STUDENT_TO_COURSE = gql`\n  mutation ($id: ID!, $code: String!){\n    addStudentToCourse(id: $id, code: $code ) {\n      ...CourseFields\n    }\n  }\n  ${CourseFields}\n`\n\nexport const ADD_TEACHER_TO_COURSE = gql`\n  mutation ($id: ID!, $courseId: ID!){\n    addTeacherToCourse(id: $id, courseId: $courseId ) {\n      ...CourseFields\n    }\n  }\n  ${CourseFields}\n`\n\nexport const REMOVE_TEACHER_FROM_COURSE = gql`\n  mutation ($id: ID!, $courseId: ID!){\n    removeTeacherFromCourse(id: $id, courseId: $courseId ) {\n      ...CourseFields\n    }\n  }\n  ${CourseFields}\n`\n\n// Terms\n\nexport const CREATE_TERM = gql`\n  mutation CreateTerm($startDate: DateTime!, $endDate: DateTime!, $name: String!) {\n    createTerm(startDate: $startDate, endDate: $endDate, name: $name) {\n      id\n      startDate\n      endDate\n      name\n      courses {\n        id\n      }\n    }\n  }\n`\n\n// Sessions\n\nexport const CREATE_SESSION = gql`\n  mutation CreateSession($startsAt: DateTime!, $endsAt:DateTime!, $courseId:ID!) {\n    createSession(startsAt:$startsAt, endsAt:$endsAt, courseId:$courseId) {\n      ...SessionFields\n    }\n  }\n  ${SessionFields}\n`\n\n// Question\n\nexport const CREATE_QUESTION = gql`\n  mutation CreateQuestion($text: String!, $sessionId: ID!, $order: Int){\n    createQuestion(text: $text, sessionId: $sessionId, order: $order) {\n      ...QuestionFields\n    }\n  }\n  ${QuestionFields}\n`\n\nexport const DELETE_QUESTION = gql`\n  mutation deleteQuestion($id: ID!){\n    deleteQuestion(id: $id) {\n      id\n    }\n  }\n`\n\nexport const ASK_QUESTION = gql`\n  mutation AskQuestion($id: ID!){\n    askQuestion(id: $id){\n      ...QuestionFields\n    }\n  }\n  ${QuestionFields}`\n\n//  Answer\n\nexport const CREATE_ANSWER = gql`\n  mutation CreateAnswer($text: String!, $questionId: ID!){\n    createAnswer(text: $text, questionId: $questionId) {\n      id\n      text\n    }\n  }\n`\n\nexport const DELETE_ANSWER = gql`\n  mutation DeleteAnswer($id: ID!){\n    deleteAnswer(id: $id) {\n      id\n    }\n  }\n`\n\nexport const ANSWER_QUESTION = gql`\n  mutation AnswerQuestion(\n    $studentId: ID!\n    $questionId: ID!\n    $answerId: ID!\n    $sessionId: ID!) {\n    answerQuestion(\n      studentId: $studentId\n      questionId: $questionId\n      answerId: $answerId\n      sessionId: $sessionId) {\n        id\n      }\n  }\n`\n","import { writable } from 'svelte/store'\nimport { client } from './apollo'\nimport { mutate } from 'svelte-apollo'\nimport { LOGIN, SIGNUP } from './mutations'\n\nconst getAuthFromStorage = () => {\n  const coldToken = window.localStorage.getItem('token')\n  const coldUser = window.localStorage.getItem('user')\n  const token = coldToken ? JSON.parse(coldToken) : null\n  const user = coldUser ? JSON.parse(coldUser) : null\n  return { user, token }\n}\n\nconst createAuthStore = () => {\n  // pull token and user from localStorage if it's there\n  const { user, token } = getAuthFromStorage()\n  const { subscribe, set, update } = writable({ ...user, token })\n\n  return {\n    subscribe,\n    login: async (username, password) => {\n      const response = await mutate(client, {\n        mutation: LOGIN,\n        variables: { username, password }\n      })\n      window.localStorage.setItem('user', JSON.stringify(response.data.login.user))\n      window.localStorage.setItem('token', JSON.stringify(response.data.login.token))\n      update(previous => ({\n        ...previous,\n        ...response.data.login.user,\n        token: response.data.login.token\n      }))\n    },\n    signup: async (username, name, password) => {\n      const response = await mutate(client, {\n        mutation: SIGNUP,\n        variables: { username, name, password }\n      })\n      window.localStorage.setItem('user', JSON.stringify(response.data.signup.user))\n      window.localStorage.setItem('token', JSON.stringify(response.data.signup.token))\n      update(previous => ({\n        ...previous,\n        ...response.data.signup.user,\n        token: response.data.signup.token\n      }))\n    },\n    logout: () => {\n      const { user } = getAuthFromStorage()\n      window.localStorage.removeItem('token')\n      window.localStorage.removeItem('user')\n      set({})\n      client.resetStore()\n      return user && user.username\n    }\n  }\n}\n\nexport const auth = createAuthStore()\n","<script context=\"module\">\nimport {readable, derived} from 'svelte/store'\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    getLocation(),\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/`)\n */\nexport function push(location) {\n    if (!location || location.length < 1 || location.charAt(0) != '/') {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        window.location.hash = '#' + location\n    }, 0)\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n */\nexport function pop() {\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        window.history.back()\n    }, 0)\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/`)\n */\nexport function replace(location) {\n    if (!location || location.length < 1 || location.charAt(0) != '/') {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        history.replaceState(undefined, undefined, '#' + location)\n\n        // The method above doesn't trigger the hashchange event, so let's do that manually\n        window.dispatchEvent(new Event('hashchange'))\n    }, 0)\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n */\nexport function link(node) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    // Destination must start with '/'\n    const href = node.getAttribute('href')\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute')\n    }\n\n    // onclick event handler\n    node.addEventListener('click', (event) => {\n        // Disable normal click event\n        event.preventDefault()\n\n        // Push link or link children click\n        let href\n        let target = event.target\n        while ((href = target.getAttribute('href')) === null) {\n            target = target.parentElement\n            if (target === null) {\n                throw Error('Could not find corresponding href value')\n            }\n        }\n        push(href)\n\n        return false\n    })\n}\n</script>\n\n<svelte:component this=\"{component}\" params=\"{componentParams}\" />\n\n<script>\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent} component - Svelte component for the route\n     */\n    constructor(path, component) {\n        // Path must start with '/' or '*'\n        if (!path || path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*')) {\n            throw Error('Invalid value for \"path\" argument')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n        this.component = component\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            out[this._keys[i]] = matches[++i] || null\n        }\n        return out\n    }\n}\n\n// Set up all routes\nconst routesList = Object.keys(routes).map((path) => {\n    return new RouteItem(path, routes[path])\n})\n\n// Props for the component to render\nlet component = null\nlet componentParams = {}\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n$: {\n    // Find a route matching the location\n    component = null\n    let i = 0\n    while (!component && i < routesList.length) {\n        const match = routesList[i].match($loc.location)\n        if (match) {\n            component = routesList[i].component\n            componentParams = match\n        }\n        i++\n    }\n}\n</script>\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","<script>\n  let input\n  export let value\n  export let showDescription = false\n  export let label = ''\n  let error = false\n  export let required = false\n  export let pattern = '^.+$'\n  export let minlength = 1\n  export let maxlength = 100\n  export let type = 'text'\n  export let description = ''\n  export let width = '40rem'\n  export let min = null\n  export let max = null\n  export let rightIcon = null\n  export let leftIcon = null\n  export let placeholder = ''\n\n  $: name = label.replace(/\\W+(.)/g, (match, chr) => chr.toUpperCase())\n  $: descriptionId = `description${name}`\n\n  function checkValidity () {\n    error =\n      !input.validity.valid && input.validationMessage\n        ? input.validationMessage\n        : ''\n  }\n</script>\n\n<div class=\"field\">\n  <label class=\"label\">{label} {#if description}\n    <p class=\"help is-info\" id=\"{descriptionId}\">{description}</p>\n    {/if}\n  </label>\n  <div class=\"field-body\">\n    <div\n      class=\"control\"\n      class:has-icons-left=\"{leftIcon}\"\n      class:has-icons-right=\"{rightIcon}\"\n    >\n      {#if type === 'text'}\n      <input\n        bind:this=\"{input}\"\n        {name}\n        class=\"input\"\n        bind:value\n        class:error=\"{error}\"\n        type=\"text\"\n        {pattern}\n        {minlength}\n        {maxlength}\n        {required}\n        aria-describedby=\"{descriptionId}\"\n        on:input=\"{checkValidity}\"\n        on:invalid|preventDefault=\"{checkValidity}\"\n        {placeholder}\n      />\n      {/if} \n      {#if type === 'password'}\n      <input\n        bind:this=\"{input}\"\n        {name}\n        class=\"input\"\n        bind:value\n        class:error=\"{error}\"\n        type=\"password\"\n        {pattern}\n        {minlength}\n        {maxlength}\n        {required}\n        aria-describedby=\"{descriptionId}\"\n        on:input=\"{checkValidity}\"\n        on:invalid|preventDefault=\"{checkValidity}\"\n        {placeholder}\n      />\n      {/if} \n      {#if type === 'date'}\n      <input\n        bind:this=\"{input}\"\n        {name}\n        class=\"input\"\n        bind:value\n        class:error=\"{error}\"\n        type=\"date\"\n        pattern=\"^[0-9]{4}-(1[0-2]|0[1-9])-([1-3][0-9]|0[1-9])$\"\n        {required}\n        {min}\n        {max}\n        aria-describedby=\"{descriptionId}\"\n        on:input=\"{checkValidity}\"\n        on:invalid|preventDefault=\"{checkValidity}\"\n      />\n      {/if} \n      {#if type === 'datetime-local'}\n      <input\n        bind:this=\"{input}\"\n        {name}\n        class=\"input\"\n        bind:value\n        class:error=\"{error}\"\n        type=\"datetime-local\"\n        {required}\n        {min}\n        {max}\n        aria-describedby=\"{descriptionId}\"\n        on:input=\"{checkValidity}\"\n        on:invalid|preventDefault=\"{checkValidity}\"\n      />\n      {/if} \n      {#if type === 'number'}\n      <input\n        bind:this=\"{input}\"\n        {name}\n        class=\"input\"\n        bind:value\n        class:error=\"{error}\"\n        type=\"number\"\n        {required}\n        {max}\n        {min}\n        aria-describedby=\"{descriptionId}\"\n        on:input=\"{checkValidity}\"\n        on:invalid|preventDefault=\"{checkValidity}\"\n      />\n      {/if}\n      {#if leftIcon}\n      <span class=\"icon is-small is-left\">\n        <i class=\"fas fa-{leftIcon}\"></i>\n      </span>\n      {/if} {#if rightIcon}\n      <span class=\"icon is-small is-right\">\n        <i class=\"fas fa-{rightIcon}\"></i>\n      </span>\n      {/if} {#if error}\n      <p class=\"help is-danger\">{error}</p>\n      {/if}\n    </div>\n  </div>\n</div>\n\n<style>\n  input {\n    max-width: 40rem;\n  }\n</style>","<script>\n  export let errors = ''\n\n  const getMessage = (errors) => {\n    if (!errors) return false\n    return (Array.isArray(errors))\n      ? errors.map(error => error.message).join('\\n')\n      : !errors.message ? errors : errors.message\n  }\n</script>\n\n<style>\n  .error {\n    background: #220000;\n    border-left: 2px solid #ff5555;\n    color: #ff5555;\n    padding: 0.3rem 0.6rem;\n    margin-bottom: 1rem;\n  }\n\n  .error strong {\n    color: inherit;\n  }\n\n  .error-message i {\n    margin-right: 0.3rem;\n  }\n</style>\n\n{#if getMessage(errors)}\n<p class=\"error\">\n    <span class=\"error-message\"><i class=\"fas fa-exclamation-triangle\"></i><strong>Error:</strong>&nbsp;{getMessage(errors)}</span>\n</p>\n{/if}","<script>\n  import { auth } from '../data/auth'\n  import { notifications } from './notifications'\n  import Input from './Input.svelte'\n  import Error from './Error.svelte'\n  import { push } from 'svelte-spa-router'\n\n  let username = ''\n  let name = ''\n  let password = ''\n  let confirmpass = ''\n  let errors = ''\n  let loading = false\n  let submit\n  let form\n\n  const signup = async () => {\n    let isValid = form.checkValidity()\n    if (password !== confirmpass) {\n      errors = 'Passwords do not match.'\n      isValid = false\n    }\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    loading = true\n    submit.disabled = true\n    try {\n      await auth.signup(username, name, password)\n      errors = ''\n      notifications.add({ text: `Created account for '${username}'`, type: 'success' })\n      push('/join-course')\n    } catch (error) {\n      errors = error\n      notifications.add({ text: 'registration failed.', type: 'danger' })\n      submit.disabled = false\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  .container-centered {\n    margin-top: 10vh;\n    display: flex;\n    justify-content: center;\n  }\n</style>\n\n<svelte:head>\n  <title>Signup</title>\n</svelte:head>\n\n<div class=\"container-centered\">\n  <div class=\"login\">\n    <h1 class=\"title\">Create an acount</h1>\n\n    <Error {errors} />\n    <form bind:this={form} novalidate on:submit|preventDefault={signup}>\n      <Input type=\"text\" bind:value={username} label=\"Student ID\" required leftIcon=\"id-card\" />\n\n      <Input type=\"text\" bind:value={name} label=\"Name\" required leftIcon=\"user\" />\n\n      <Input type=\"password\" bind:value={password} label=\"Password\" required leftIcon=\"key\" />\n      <Input type=\"password\" label=\"Confirm password\" bind:value={confirmpass} leftIcon=\"check\" />\n      <div class=\"field\">\n        <div class=\"control\">\n          <button type=\"submit\" class=\"button is-primary\" class:is-loading={loading} bind:this={submit}>\n            Register\n          </button>\n          <p>or</p>\n          <a href=\"#/login\" class=\"button\">Log in with existing account</a>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","var MILLISECONDS_IN_MINUTE = 60000;\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\n\nexport default function getTimezoneOffsetInMilliseconds(dirtyDate) {\n  var date = new Date(dirtyDate.getTime());\n  var baseTimezoneOffset = date.getTimezoneOffset();\n  date.setSeconds(0, 0);\n  var millisecondsPartOfTimezoneOffset = date.getTime() % MILLISECONDS_IN_MINUTE;\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE + millisecondsPartOfTimezoneOffset;\n}","import toDate from '../toDate/index.js';\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * var result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\n\nexport default function startOfDay(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nimport startOfDay from '../startOfDay/index.js';\nvar MILLISECONDS_IN_DAY = 86400000;\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\n\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from '../toDate/index.js';\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * var result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * var result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\n\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import toDate from '../toDate/index.js';\nimport differenceInCalendarMonths from '../differenceInCalendarMonths/index.js';\nimport compareAsc from '../compareAsc/index.js';\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\n\nexport default function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  dateLeft.setMonth(dateLeft.getMonth() - sign * difference); // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign;\n  var result = sign * (difference - isLastMonthNotFull); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}","import toDate from '../toDate/index.js';\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\n\nexport default function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}","import differenceInMilliseconds from '../differenceInMilliseconds/index.js';\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of seconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * var result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\n\nexport default function differenceInSeconds(dirtyDateLeft, dirtyDateRight) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / 1000;\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);\n}","import toDate from '../toDate/index.js';\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\nexport default function differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getTime() - dateRight.getTime();\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}","export default function buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from '../../../_lib/buildFormatLongFn/index.js';\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nexport default function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}","export default function buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = parsePatterns.findIndex(function (pattern) {\n        return pattern.test(string);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(string);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}","import buildMatchPatternFn from '../../../_lib/buildMatchPatternFn/index.js';\nimport buildMatchFn from '../../../_lib/buildMatchFn/index.js';\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","export default function buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}","import formatDistance from './_lib/formatDistance/index.js';\nimport formatLong from './_lib/formatLong/index.js';\nimport formatRelative from './_lib/formatRelative/index.js';\nimport localize from './_lib/localize/index.js';\nimport match from './_lib/match/index.js';\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import buildLocalizeFn from '../../../_lib/buildLocalizeFn/index.js';\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","import toInteger from '../_lib/toInteger/index.js';\nimport addMilliseconds from '../addMilliseconds/index.js';\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * var result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import toInteger from '../_lib/toInteger/index.js';\nimport toDate from '../toDate/index.js';\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * var result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}","import addLeadingZeros from '../../addLeadingZeros/index.js';\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n      case 'aaa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import toDate from '../../toDate/index.js';\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCDayOfYear(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from '../../toDate/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeek(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeekYear(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport startOfUTCISOWeekYear from '../startOfUTCISOWeekYear/index.js';\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeek(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import getUTCISOWeekYear from '../getUTCISOWeekYear/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeekYear(dirtyDate, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport startOfUTCWeekYear from '../startOfUTCWeekYear/index.js';\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeek(dirtyDate, options) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toInteger from '../toInteger/index.js';\nimport getUTCWeekYear from '../getUTCWeekYear/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}","import lightFormatters from '../lightFormatters/index.js';\nimport getUTCDayOfYear from '../../../_lib/getUTCDayOfYear/index.js';\nimport getUTCISOWeek from '../../../_lib/getUTCISOWeek/index.js';\nimport getUTCISOWeekYear from '../../../_lib/getUTCISOWeekYear/index.js';\nimport getUTCWeek from '../../../_lib/getUTCWeek/index.js';\nimport getUTCWeekYear from '../../../_lib/getUTCWeekYear/index.js';\nimport addLeadingZeros from '../../addLeadingZeros/index.js';\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nexport default formatters;","function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token) {\n  if (token === 'YYYY') {\n    throw new RangeError('Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr');\n  } else if (token === 'YY') {\n    throw new RangeError('Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr');\n  } else if (token === 'D') {\n    throw new RangeError('Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr');\n  } else if (token === 'DD') {\n    throw new RangeError('Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr');\n  }\n}","import isValid from '../isValid/index.js';\nimport defaultLocale from '../locale/en-US/index.js';\nimport subMilliseconds from '../subMilliseconds/index.js';\nimport toDate from '../toDate/index.js';\nimport formatters from '../_lib/format/formatters/index.js';\nimport longFormatters from '../_lib/format/longFormatters/index.js';\nimport getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from '../_lib/protectedTokens/index.js';\nimport toInteger from '../_lib/toInteger/index.js'; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'(.*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Su            | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aaa  | AM, PM                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 1, 2, ..., 11, 0                  |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 05/29/1453                        | 7     |\n * |                                 | PP      | May 29, 1453                      | 7     |\n * |                                 | PPP     | May 29th, 1453                    | 7     |\n * |                                 | PPPP    | Sunday, May 29th, 1453            | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 05/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | May 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | May 29th, 1453 at ...             | 7     |\n * |                                 | PPPPpppp| Sunday, May 29th, 1453 at ...     | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","import toDate from '../toDate/index.js';\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `true`        |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\nexport default function isValid(dirtyDate) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n}","import assign from '../assign/index.js';\nexport default function cloneObject(dirtyObject) {\n  return assign({}, dirtyObject);\n}","export default function assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  dirtyObject = dirtyObject || {};\n\n  for (var property in dirtyObject) {\n    if (dirtyObject.hasOwnProperty(property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n\n  return target;\n}","import compareAsc from '../compareAsc/index.js';\nimport differenceInMonths from '../differenceInMonths/index.js';\nimport differenceInSeconds from '../differenceInSeconds/index.js';\nimport defaultLocale from '../locale/en-US/index.js';\nimport toDate from '../toDate/index.js';\nimport cloneObject from '../_lib/cloneObject/index.js';\nimport getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWords ` to `formatDistance`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n * - The order of arguments is swapped to make the function\n *   consistent with `differenceIn...` functions.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWords(\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *\n *   // v2.0.0 onward\n *\n *   formatDistance(\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *   ```\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * var result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * var result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * var result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistance(dirtyDate, dirtyBaseDate, dirtyOptions) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain formatDistance property');\n  }\n\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var localizeOptions = cloneObject(options);\n  localizeOptions.addSuffix = Boolean(options.addSuffix);\n  localizeOptions.comparison = comparison;\n  var dateLeft;\n  var dateRight;\n\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = Math.round((seconds - offsetInSeconds) / 60);\n  var months; // 0 up to 2 mins\n\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance('halfAMinute', null, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', minutes, localizeOptions);\n      }\n    } // 2 mins up to 0.75 hrs\n\n  } else if (minutes < 45) {\n    return locale.formatDistance('xMinutes', minutes, localizeOptions); // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance('aboutXHours', 1, localizeOptions); // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return locale.formatDistance('aboutXHours', hours, localizeOptions); // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return locale.formatDistance('xDays', 1, localizeOptions); // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions); // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('aboutXMonths', months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft); // 2 months up to 12 months\n\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('xMonths', nearestMonth, localizeOptions); // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12); // N years up to 1 years 3 months\n\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance('aboutXYears', years, localizeOptions); // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance('overXYears', years, localizeOptions); // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}","import getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nimport compareAsc from '../compareAsc/index.js';\nimport toDate from '../toDate/index.js';\nimport differenceInSeconds from '../differenceInSeconds/index.js';\nimport cloneObject from '../_lib/cloneObject/index.js';\nimport defaultLocale from '../locale/en-US/index.js';\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_YEAR = 525600;\n/**\n * @name formatDistanceStrict\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words, using strict units.\n * This is like `formatDistance`, but does not use helpers like 'almost', 'over',\n * 'less than' and the like.\n *\n * | Distance between dates | Result              |\n * |------------------------|---------------------|\n * | 0 ... 59 secs          | [0..59] seconds     |\n * | 1 ... 59 mins          | [1..59] minutes     |\n * | 1 ... 23 hrs           | [1..23] hours       |\n * | 1 ... 29 days          | [1..29] days        |\n * | 1 ... 11 months        | [1..11] months      |\n * | 1 ... N years          | [1..N]  years       |\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWordsStrict` to `formatDistanceStrict`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n * - The order of arguments is swapped to make the function\n *   consistent with `differenceIn...` functions.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWordsStrict(\n *     new Date(2015, 0, 2),\n *     new Date(2014, 6, 2)\n *   ) //=> '6 months'\n *\n *   // v2.0.0 onward\n *\n *   formatDistanceStrict(\n *     new Date(2014, 6, 2),\n *     new Date(2015, 0, 2)\n *   ) //=> '6 months'\n *   ```\n *\n * - `partialMethod` option is renamed to `roundingMethod`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWordsStrict(\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     new Date(1986, 3, 4, 10, 33, 1),\n *     { partialMethod: 'ceil' }\n *   ) //=> '2 minutes'\n *\n *   // v2.0.0 onward\n *\n *   formatDistanceStrict(\n *     new Date(1986, 3, 4, 10, 33, 1),\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     { roundingMethod: 'ceil' }\n *   ) //=> '2 minutes'\n *   ```\n *\n * - If `roundingMethod` is not specified, it now defaults to `round` instead of `floor`.\n *\n * - `unit` option now accepts one of the strings:\n *   'second', 'minute', 'hour', 'day', 'month' or 'year' instead of 's', 'm', 'h', 'd', 'M' or 'Y'\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWordsStrict(\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     new Date(1986, 3, 4, 10, 33, 1),\n *     { unit: 'm' }\n *   )\n *\n *   // v2.0.0 onward\n *\n *   formatDistanceStrict(\n *     new Date(1986, 3, 4, 10, 33, 1),\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     { unit: 'minute' }\n *   )\n *   ```\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {'second'|'minute'|'hour'|'day'|'month'|'year'} [options.unit] - if specified, will force a unit\n * @param {'floor'|'ceil'|'round'} [options.roundingMethod='round'] - which way to round partial units\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.roundingMethod` must be 'floor', 'ceil' or 'round'\n * @throws {RangeError} `options.unit` must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * var result = formatDistanceStrict(new Date(2014, 6, 2), new Date(2015, 0, 2))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00?\n * var result = formatDistanceStrict(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0)\n * )\n * //=> '15 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * var result = formatDistanceStrict(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> '1 year ago'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, in minutes?\n * var result = formatDistanceStrict(new Date(2016, 0, 1), new Date(2015, 0, 1), {\n *   unit: 'minute'\n * })\n * //=> '525600 minutes'\n *\n * @example\n * // What is the distance from 1 January 2015\n * // to 28 January 2015, in months, rounded up?\n * var result = formatDistanceStrict(new Date(2015, 0, 28), new Date(2015, 0, 1), {\n *   unit: 'month',\n *   roundingMethod: 'ceil'\n * })\n * //=> '1 month'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = formatDistanceStrict(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> '1 jaro'\n */\n\nexport default function formatDistanceStrict(dirtyDate, dirtyBaseDate, dirtyOptions) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain localize.formatDistance property');\n  }\n\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var localizeOptions = cloneObject(options);\n  localizeOptions.addSuffix = Boolean(options.addSuffix);\n  localizeOptions.comparison = comparison;\n  var dateLeft;\n  var dateRight;\n\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n\n  var roundingMethod = options.roundingMethod == null ? 'round' : String(options.roundingMethod);\n  var roundingMethodFn;\n\n  if (roundingMethod === 'floor') {\n    roundingMethodFn = Math.floor;\n  } else if (roundingMethod === 'ceil') {\n    roundingMethodFn = Math.ceil;\n  } else if (roundingMethod === 'round') {\n    roundingMethodFn = Math.round;\n  } else {\n    throw new RangeError(\"roundingMethod must be 'floor', 'ceil' or 'round'\");\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = roundingMethodFn((seconds - offsetInSeconds) / 60);\n  var unit;\n\n  if (options.unit == null) {\n    if (minutes < 1) {\n      unit = 'second';\n    } else if (minutes < 60) {\n      unit = 'minute';\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'hour';\n    } else if (minutes < MINUTES_IN_MONTH) {\n      unit = 'day';\n    } else if (minutes < MINUTES_IN_YEAR) {\n      unit = 'month';\n    } else {\n      unit = 'year';\n    }\n  } else {\n    unit = String(options.unit);\n  } // 0 up to 60 seconds\n\n\n  if (unit === 'second') {\n    return locale.formatDistance('xSeconds', seconds, localizeOptions); // 1 up to 60 mins\n  } else if (unit === 'minute') {\n    return locale.formatDistance('xMinutes', minutes, localizeOptions); // 1 up to 24 hours\n  } else if (unit === 'hour') {\n    var hours = roundingMethodFn(minutes / 60);\n    return locale.formatDistance('xHours', hours, localizeOptions); // 1 up to 30 days\n  } else if (unit === 'day') {\n    var days = roundingMethodFn(minutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions); // 1 up to 12 months\n  } else if (unit === 'month') {\n    var months = roundingMethodFn(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('xMonths', months, localizeOptions); // 1 year up to max Date\n  } else if (unit === 'year') {\n    var years = roundingMethodFn(minutes / MINUTES_IN_YEAR);\n    return locale.formatDistance('xYears', years, localizeOptions);\n  }\n\n  throw new RangeError(\"unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\");\n}","import distanceInWords from '../formatDistance/index.js';\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * > ⚠️ Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWordsToNow ` to `formatDistanceToNow`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWordsToNow(new Date(2014, 6, 2), { addSuffix: true })\n *   //=> 'in 6 months'\n *\n *   // v2.0.0 onward\n *\n *   formatDistanceToNow(new Date(2014, 6, 2), { addSuffix: true })\n *   //=> 'in 6 months'\n *   ```\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result specifies if now is earlier or later than the passed date\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * var result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * var result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * var result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistanceToNow(dirtyDate, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  return distanceInWords(dirtyDate, Date.now(), dirtyOptions);\n}","import differenceInCalendarDays from '../differenceInCalendarDays/index.js';\nimport format from '../format/index.js';\nimport defaultLocale from '../locale/en-US/index.js';\nimport subMilliseconds from '../subMilliseconds/index.js';\nimport toDate from '../toDate/index.js';\nimport getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\n/**\n * @name formatRelative\n * @category Common Helpers\n * @summary Represent the date in words relative to the given base date.\n *\n * @description\n * Represent the date in words relative to the given base date.\n *\n * | Distance to the base date | Result                    |\n * |---------------------------|---------------------------|\n * | Previous 6 days           | last Sunday at 04:30 AM   |\n * | Last day                  | yesterday at 04:30 AM     |\n * | Same day                  | today at 04:30 AM         |\n * | Next day                  | tomorrow at 04:30 AM      |\n * | Next 6 days               | Sunday at 04:30 AM        |\n * | Other                     | 12/31/2017                |\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to format\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {String} the date in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.locale` must contain `formatRelative` property\n */\n\nexport default function formatRelative(dirtyDate, dirtyBaseDate, dirtyOptions) {\n  if (arguments.length < 2) {\n    throw new TypeError('2 arguments required, but only ' + arguments.length + ' present');\n  }\n\n  var date = toDate(dirtyDate);\n  var baseDate = toDate(dirtyBaseDate);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  if (!locale.formatRelative) {\n    throw new RangeError('locale must contain formatRelative property');\n  }\n\n  var diff = differenceInCalendarDays(date, baseDate);\n\n  if (isNaN(diff)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var token;\n\n  if (diff < -6) {\n    token = 'other';\n  } else if (diff < -1) {\n    token = 'lastWeek';\n  } else if (diff < 0) {\n    token = 'yesterday';\n  } else if (diff < 1) {\n    token = 'today';\n  } else if (diff < 2) {\n    token = 'tomorrow';\n  } else if (diff < 7) {\n    token = 'nextWeek';\n  } else {\n    token = 'other';\n  }\n\n  var utcDate = subMilliseconds(date, getTimezoneOffsetInMilliseconds(date));\n  var utcBaseDate = subMilliseconds(baseDate, getTimezoneOffsetInMilliseconds(baseDate));\n  var formatStr = locale.formatRelative(token, utcDate, utcBaseDate, options);\n  return format(date, formatStr, options);\n}","import gql from 'graphql-tag'\nimport { CourseFields, SessionFields, QuestionFields, ResponseFields } from './fragments'\n\nexport const ME = gql`\n{\n  me {\n    username\n    name\n    role\n    id\n    coursesTeaching {\n      id\n      name\n    }\n    coursesAttending {\n      id\n      name\n    }\n  }\n}`\n\nexport const GET_MY_SESSIONS = gql`\nquery GetMYSessions($id: ID!, $now: DateTime!, $latest: DateTime!){\n  sessions( orderBy: startsAt_ASC, where: { AND: [ \n    { OR: [\n      { course: { teachers_some: { id: $id } }},\n      { course: { students_some: { id: $id } }}\n    ]},\n    { endsAt_gte: $now, endsAt_lt: $latest }\n  ]}){\n    ...SessionFields\n  }\n}\n${SessionFields}`\n\nexport const SESSION = gql`\nquery Session($id: ID!){\n  session(id: $id){\n    id\n    startsAt\n    endsAt\n    order\n    course {\n      id\n      name\n      term {\n        id\n        name\n      }\n    }\n    questions {\n      id\n      text\n      order\n    }\n  }\n}`\n\nexport const TERMS_AND_ALL = gql`\n{\n  terms(orderBy: startDate_ASC) {\n    id\n    startDate\n    endDate\n    name\n    courses {\n      ...CourseFields\n    }\n  }\n}\n${CourseFields}`\n\nexport const TERM = gql`\nquery Term($id: ID!){\n  term(id:$id) {\n    id\n    startDate\n    endDate\n    name\n    courses {\n      ...CourseFields\n    }\n  }\n}\n${CourseFields}`\n\nexport const TERMS = gql`\n{\n  terms(orderBy: startDate_ASC) {\n    id\n    name\n  }\n}`\n\nexport const COURSE_SESSIONS = gql`\n  query CourseSessions($courseId: ID!){\n    sessions(orderBy: startsAt_ASC, where : { course: {id: $courseId}}) {\n      ...SessionFields\n    }\n  }\n${SessionFields}`\n\nexport const COURSE = gql`\n  query Course($id: ID!){\n    course(id: $id){\n      ...CourseFields\n      sessions(orderBy: startsAt_DESC) {\n        ...SessionFields\n      }\n    }\n  }\n  ${SessionFields}\n  ${CourseFields}`\n\nexport const COURSES = gql`\nquery Courses {\n  courses{\n    id\n    name\n    term {\n      name\n      id\n      startDate\n    }\n    teachers {\n      id\n      name\n    }\n    students {\n      id\n    }\n  }\n}`\n\nexport const QUESTION = gql`\nquery Question($id: ID!){\n  question(id: $id){\n    id\n    text\n    order\n    answers {\n      id\n      text\n      responses {\n        id\n        student {\n          id\n        }\n        createdAt\n      }\n    }\n    session {\n      id\n      order\n      course {\n        id\n        name\n        term {\n          id\n          name\n        }\n      }\n    }\n  }\n}`\n\nexport const ACTIVE_TEACHER_SESSION = gql`\n  query Session($id: ID!){\n    session(id: $id){\n      id\n      questions {\n        id\n        text\n        order\n        asked\n        answers {\n          id\n          text\n        }\n      }\n    }\n  }\n`\n\nexport const RESPONSES = gql`\n  query Responses($questionId: ID!){\n    responses(where:{question:{id: $questionId}}){\n      ...ResponseFields\n    }\n  }\n${ResponseFields}`\n\nexport const QUESTION_SUB = gql`\n  subscription Questions($sessionId: ID!) {\n  questions(sessionId: $sessionId) {\n    ...QuestionFields\n  }\n}\n${QuestionFields}`\n\nexport const RESPONSE_SUBSCRIPTION = gql`\n  subscription Reponses($questionId: ID!) {\n    responses(questionId: $questionId) {\n      ...ResponseFields\n    }\n  }\n${ResponseFields}`\n","<script>\n  import { fade, fly } from 'svelte/transition'\n\n  export let open = false\n\n  const close = () => { open = false }\n</script>\n\n<style>\n  .modal-content {\n    background: black;\n    display: flex;\n    justify-content: center;\n    border-radius: 4px;\n  }\n\n  .modal-content section {\n    padding: 2rem;\n  }\n</style>\n\n{#if open}\n  <div class=\"modal is-active\">\n    <div class=\"modal-background\" on:click={close} transition:fade|local=\"{{ duration: 200 }}\"></div>\n    <div class=\"modal-content is-clipped\" in:fly=\"{{ duration: 200, y: -300 }}\" out:fly=\"{{ duration: 200, y: 300 }}\">\n      <section class=\"section\">\n       <slot></slot>\n      </section>\n    </div>\n  </div>\n  {/if}","<script>\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { TERMS } from '../../data/queries'\n\n  export let termId = ''\n  let termSelect\n\n  const terms = query(client, { query: TERMS })\n\n  const handleChange = () => {\n    termId = termSelect.value\n  }\n</script>\n\n<style>\n  .select {\n    margin-bottom: 1rem;\n  }\n</style>\n\n<div class=\"select\">\n\n  <select bind:value={termId} on:change={handleChange} bind:this={termSelect}>\n    {#await $terms}\n      <option>Loading...</option>\n    {:then result}\n      {#if !termId}\n      <option>-- Select a term --</option>\n      {/if}\n      {#each result.data.terms as term (term.id)}\n      <option value={term.id} selected={term.id === termId}>{term.name}</option>\n      {/each}\n    {:catch}\n      <option />\n    {/await}\n  </select>\n</div>","<script>\n  import { createEventDispatcher } from 'svelte'\n  import { notifications } from '../notifications'\n  import Input from '../Input.svelte'\n  import Error from '../Error.svelte'\n  import TermSelect from './TermSelect.svelte'\n\n  const dispatch = createEventDispatcher()\n\n  export let errors\n  export let loading = false\n  let form\n  let saveButton\n  export let id = ''\n  export let name = ''\n  export let code = ''\n  export let termId = ''\n\n  const handleSubmit = () => {\n    const isValid = form.checkValidity()\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    dispatch('submit', { id, name, termId, code })\n  }\n</script>\n\n<h2 class=\"title\">{#if id}Edit{:else}Add{/if} a course</h2>\n  <Error {errors} />\n  <form novalidate bind:this={form} on:submit|preventDefault={handleSubmit} on:reset>\n    <Input label=\"Name\" type=\"text\" bind:value={name} required />\n    <Input label=\"Code\" type=\"text\" bind:value={code} required />\n\n    <label class=\"label\">\n      Term\n    </label>\n    <TermSelect bind:termId />\n\n    <div class=\"buttons\">\n        <button class=\"button is-primary\" class:is-loading={loading} bind:this={saveButton} type=\"submit\">Save</button>\n        <input class=\"button\" type=\"reset\" value=\"Cancel\" />\n    </div>\n   \n  </form>","<script>\n  import Modal from '../Modal.svelte'\n  import { mutate } from 'svelte-apollo'\n  import CourseForm from './CourseForm.svelte'\n  import { notifications } from '../notifications'\n  import { CREATE_COURSE } from '../../data/mutations'\n  import { TERMS_AND_ALL } from '../../data/queries'\n  import { client } from '../../data/apollo'\n\n  let errors = ''\n  let open = false\n  let loading = false\n  export let termId = ''\n\n  const reset = () => {\n    errors = ''\n    open = false\n  }\n\n  const save = async ({ detail }) => {\n    loading = true\n    try {\n      await mutate(client, {\n        mutation: CREATE_COURSE,\n        variables: { ...detail },\n        refetchQueries: [{ query: TERMS_AND_ALL }]\n        // update: (cache, { data: { createCourse } }) => {\n        //   const data = cache.readQuery({ query: TERMS_AND_ALL })\n        //   const index = data.terms.findIndex(t => t.id === createCourse.term.id)\n        //   data.terms[index].courses.push({ ...createCourse, __typename: 'Course' })\n        //   console.log(data.terms[index].courses)\n        //   client.writeQuery({ query: TERMS_AND_ALL, data })\n        // }\n      })\n      // const { terms } = client.readQuery({ query: TERMS_AND_ALL })\n      // const index = terms.findIndex(t => t.id === response.data.createCourse.term.id)\n      // terms[index].courses.push({ ...response.data.createCourse, __typename: 'Course' })\n      // restore(client, TERMS_AND_ALL, { terms })\n      // termsCache.refetch()\n      notifications.add({ text: `Saved new course '${detail.name}'`, type: 'success' })\n      reset()\n    } catch (error) {\n      errors = error\n      notifications.add({\n        text: 'Could not save new course.',\n        type: 'danger'\n      })\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n\n  button {\n    margin: 1rem 0;\n  }\n</style>\n\n<button class=\"button\" on:click={() => { open = true }}>\n  <i class=\"fas fa-plus\"></i>Add a course\n</button>\n<Modal bind:open>\n  <CourseForm on:reset={reset} on:submit={save} {errors} {termId} {loading} />\n</Modal>","<script>\n  import { auth } from '../../data/auth'\n\n  export let courses = []\n\n  $: teaching = courses && courses.filter(c => c.teachers.find(t => t.id === $auth.id))\n  $: notTeaching = courses.filter(c => !c.teachers.find(t => t.id === $auth.id))\n  $: attending = courses.filter(c => c.students.find(s => s.id === $auth.id))\n  $: notAttending = courses.filter(c => !c.students.find(s => s.id === $auth.id))\n</script>\n\n<style>\n  h2.title {\n    margin: 2rem 0 1rem;\n  }\n</style>\n{#if courses.length > 0}\n\n  {#if teaching && teaching.length}\n    <h2 class=\"title is-5\">Teaching</h2>\n    {#each teaching as course (course.id)}\n      <li><a href=\"#/course/{course.id}\">{course.name}</a></li>\n    {/each}\n  {/if}\n\n  {#if attending && attending.length}\n    <h2 class=\"title is-5\">Attending</h2>\n    {#each attending as course (course.id)}\n      <li><a href=\"#/course/{course.id}\">{course.name}</a></li>\n    {/each}\n  {/if}\n\n  {#if $auth.role === 'Teacher' && notTeaching.length > 0}\n    <h2 class=\"title is-5\">Not teaching</h2>\n    {#each notTeaching as course (course.id)}\n      <li><a href=\"#/course/{course.id}\">{course.name}</a></li>\n    {/each}\n  {/if}\n\n  {#if $auth.role === 'Student' && notAttending.length > 0}\n    <h2 class=\"title is-5\">Not attending</h2>\n    {#each notAttending as course (course.id)}\n      <li><a href=\"#/course/{course.id}\">{course.name}</a></li>\n    {/each}\n  {/if}\n\n{/if}","/* flatpickr v4.6.2, @license MIT */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.flatpickr = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var HOOKS = [\n        \"onChange\",\n        \"onClose\",\n        \"onDayCreate\",\n        \"onDestroy\",\n        \"onKeyDown\",\n        \"onMonthChange\",\n        \"onOpen\",\n        \"onParseConfig\",\n        \"onReady\",\n        \"onValueUpdate\",\n        \"onYearChange\",\n        \"onPreCalendarPosition\",\n    ];\n    var defaults = {\n        _disable: [],\n        _enable: [],\n        allowInput: false,\n        altFormat: \"F j, Y\",\n        altInput: false,\n        altInputClass: \"form-control input\",\n        animate: typeof window === \"object\" &&\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n        ariaDateFormat: \"F j, Y\",\n        clickOpens: true,\n        closeOnSelect: true,\n        conjunction: \", \",\n        dateFormat: \"Y-m-d\",\n        defaultHour: 12,\n        defaultMinute: 0,\n        defaultSeconds: 0,\n        disable: [],\n        disableMobile: false,\n        enable: [],\n        enableSeconds: false,\n        enableTime: false,\n        errorHandler: function (err) {\n            return typeof console !== \"undefined\" && console.warn(err);\n        },\n        getWeek: function (givenDate) {\n            var date = new Date(givenDate.getTime());\n            date.setHours(0, 0, 0, 0);\n            // Thursday in current week decides the year.\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n            // January 4 is always in week 1.\n            var week1 = new Date(date.getFullYear(), 0, 4);\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n            return (1 +\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                    3 +\n                    ((week1.getDay() + 6) % 7)) /\n                    7));\n        },\n        hourIncrement: 1,\n        ignoredFocusElements: [],\n        inline: false,\n        locale: \"default\",\n        minuteIncrement: 5,\n        mode: \"single\",\n        monthSelectorType: \"dropdown\",\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n        noCalendar: false,\n        now: new Date(),\n        onChange: [],\n        onClose: [],\n        onDayCreate: [],\n        onDestroy: [],\n        onKeyDown: [],\n        onMonthChange: [],\n        onOpen: [],\n        onParseConfig: [],\n        onReady: [],\n        onValueUpdate: [],\n        onYearChange: [],\n        onPreCalendarPosition: [],\n        plugins: [],\n        position: \"auto\",\n        positionElement: undefined,\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n        shorthandCurrentMonth: false,\n        showMonths: 1,\n        static: false,\n        time_24hr: false,\n        weekNumbers: false,\n        wrap: false\n    };\n\n    var english = {\n        weekdays: {\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            longhand: [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n            ]\n        },\n        months: {\n            shorthand: [\n                \"Jan\",\n                \"Feb\",\n                \"Mar\",\n                \"Apr\",\n                \"May\",\n                \"Jun\",\n                \"Jul\",\n                \"Aug\",\n                \"Sep\",\n                \"Oct\",\n                \"Nov\",\n                \"Dec\",\n            ],\n            longhand: [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n            ]\n        },\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        firstDayOfWeek: 0,\n        ordinal: function (nth) {\n            var s = nth % 100;\n            if (s > 3 && s < 21)\n                return \"th\";\n            switch (s % 10) {\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        },\n        rangeSeparator: \" to \",\n        weekAbbreviation: \"Wk\",\n        scrollTitle: \"Scroll to increment\",\n        toggleTitle: \"Click to toggle\",\n        amPM: [\"AM\", \"PM\"],\n        yearAriaLabel: \"Year\",\n        hourAriaLabel: \"Hour\",\n        minuteAriaLabel: \"Minute\",\n        time_24hr: false\n    };\n\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\n    var int = function (bool) { return (bool === true ? 1 : 0); };\n    /* istanbul ignore next */\n    function debounce(func, wait, immediate) {\n        if (immediate === void 0) { immediate = false; }\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            timeout !== null && clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                timeout = null;\n                if (!immediate)\n                    func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout)\n                func.apply(context, args);\n        };\n    }\n    var arrayify = function (obj) {\n        return obj instanceof Array ? obj : [obj];\n    };\n\n    function toggleClass(elem, className, bool) {\n        if (bool === true)\n            return elem.classList.add(className);\n        elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n        var e = window.document.createElement(tag);\n        className = className || \"\";\n        content = content || \"\";\n        e.className = className;\n        if (content !== undefined)\n            e.textContent = content;\n        return e;\n    }\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function findParent(node, condition) {\n        if (condition(node))\n            return node;\n        else if (node.parentNode)\n            return findParent(node.parentNode, condition);\n        return undefined; // nothing found\n    }\n    function createNumberInput(inputClassName, opts) {\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n            numInput.type = \"number\";\n        }\n        else {\n            numInput.type = \"text\";\n            numInput.pattern = \"\\\\d*\";\n        }\n        if (opts !== undefined)\n            for (var key in opts)\n                numInput.setAttribute(key, opts[key]);\n        wrapper.appendChild(numInput);\n        wrapper.appendChild(arrowUp);\n        wrapper.appendChild(arrowDown);\n        return wrapper;\n    }\n    function getEventTarget(event) {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n\n    var doNothing = function () { return undefined; };\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n    var revFormat = {\n        D: doNothing,\n        F: function (dateObj, monthName, locale) {\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n        },\n        G: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        H: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        J: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        K: function (dateObj, amPM, locale) {\n            dateObj.setHours((dateObj.getHours() % 12) +\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n        },\n        M: function (dateObj, shortMonth, locale) {\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n        },\n        S: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n        W: function (dateObj, weekNum, locale) {\n            var weekNumber = parseInt(weekNum);\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n            return date;\n        },\n        Y: function (dateObj, year) {\n            dateObj.setFullYear(parseFloat(year));\n        },\n        Z: function (_, ISODate) { return new Date(ISODate); },\n        d: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        h: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        i: function (dateObj, minutes) {\n            dateObj.setMinutes(parseFloat(minutes));\n        },\n        j: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        l: doNothing,\n        m: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        n: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        s: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        u: function (_, unixMillSeconds) {\n            return new Date(parseFloat(unixMillSeconds));\n        },\n        w: doNothing,\n        y: function (dateObj, year) {\n            dateObj.setFullYear(2000 + parseFloat(year));\n        }\n    };\n    var tokenRegex = {\n        D: \"(\\\\w+)\",\n        F: \"(\\\\w+)\",\n        G: \"(\\\\d\\\\d|\\\\d)\",\n        H: \"(\\\\d\\\\d|\\\\d)\",\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n        K: \"\",\n        M: \"(\\\\w+)\",\n        S: \"(\\\\d\\\\d|\\\\d)\",\n        U: \"(.+)\",\n        W: \"(\\\\d\\\\d|\\\\d)\",\n        Y: \"(\\\\d{4})\",\n        Z: \"(.+)\",\n        d: \"(\\\\d\\\\d|\\\\d)\",\n        h: \"(\\\\d\\\\d|\\\\d)\",\n        i: \"(\\\\d\\\\d|\\\\d)\",\n        j: \"(\\\\d\\\\d|\\\\d)\",\n        l: \"(\\\\w+)\",\n        m: \"(\\\\d\\\\d|\\\\d)\",\n        n: \"(\\\\d\\\\d|\\\\d)\",\n        s: \"(\\\\d\\\\d|\\\\d)\",\n        u: \"(.+)\",\n        w: \"(\\\\d\\\\d|\\\\d)\",\n        y: \"(\\\\d{2})\"\n    };\n    var formats = {\n        // get the date in UTC\n        Z: function (date) { return date.toISOString(); },\n        // weekday name, short, e.g. Thu\n        D: function (date, locale, options) {\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\n        },\n        // full month name e.g. January\n        F: function (date, locale, options) {\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n        },\n        // padded hour 1-12\n        G: function (date, locale, options) {\n            return pad(formats.h(date, locale, options));\n        },\n        // hours with leading zero e.g. 03\n        H: function (date) { return pad(date.getHours()); },\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\n        J: function (date, locale) {\n            return locale.ordinal !== undefined\n                ? date.getDate() + locale.ordinal(date.getDate())\n                : date.getDate();\n        },\n        // AM/PM\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n        // shorthand month e.g. Jan, Sep, Oct, etc\n        M: function (date, locale) {\n            return monthToStr(date.getMonth(), true, locale);\n        },\n        // seconds 00-59\n        S: function (date) { return pad(date.getSeconds()); },\n        // unix timestamp\n        U: function (date) { return date.getTime() / 1000; },\n        W: function (date, _, options) {\n            return options.getWeek(date);\n        },\n        // full year e.g. 2016\n        Y: function (date) { return date.getFullYear(); },\n        // day in month, padded (01-30)\n        d: function (date) { return pad(date.getDate()); },\n        // hour from 1-12 (am/pm)\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n        // minutes, padded with leading zero e.g. 09\n        i: function (date) { return pad(date.getMinutes()); },\n        // day in month (1-30)\n        j: function (date) { return date.getDate(); },\n        // weekday name, full, e.g. Thursday\n        l: function (date, locale) {\n            return locale.weekdays.longhand[date.getDay()];\n        },\n        // padded month number (01-12)\n        m: function (date) { return pad(date.getMonth() + 1); },\n        // the month number (1-12)\n        n: function (date) { return date.getMonth() + 1; },\n        // seconds 0-59\n        s: function (date) { return date.getSeconds(); },\n        // Unix Milliseconds\n        u: function (date) { return date.getTime(); },\n        // number of the day of the week\n        w: function (date) { return date.getDay(); },\n        // last two digits of year e.g. 16 for 2016\n        y: function (date) { return String(date.getFullYear()).substring(2); }\n    };\n\n    var createDateFormatter = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (dateObj, frmt, overrideLocale) {\n            var locale = overrideLocale || l10n;\n            if (config.formatDate !== undefined) {\n                return config.formatDate(dateObj, frmt, locale);\n            }\n            return frmt\n                .split(\"\")\n                .map(function (c, i, arr) {\n                return formats[c] && arr[i - 1] !== \"\\\\\"\n                    ? formats[c](dateObj, locale, config)\n                    : c !== \"\\\\\"\n                        ? c\n                        : \"\";\n            })\n                .join(\"\");\n        };\n    };\n    var createDateParser = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (date, givenFormat, timeless, customLocale) {\n            if (date !== 0 && !date)\n                return undefined;\n            var locale = customLocale || l10n;\n            var parsedDate;\n            var dateOrig = date;\n            if (date instanceof Date)\n                parsedDate = new Date(date.getTime());\n            else if (typeof date !== \"string\" &&\n                date.toFixed !== undefined // timestamp\n            )\n                // create a copy\n                parsedDate = new Date(date);\n            else if (typeof date === \"string\") {\n                // date string\n                var format = givenFormat || (config || defaults).dateFormat;\n                var datestr = String(date).trim();\n                if (datestr === \"today\") {\n                    parsedDate = new Date();\n                    timeless = true;\n                }\n                else if (/Z$/.test(datestr) ||\n                    /GMT$/.test(datestr) // datestrings w/ timezone\n                )\n                    parsedDate = new Date(date);\n                else if (config && config.parseDate)\n                    parsedDate = config.parseDate(date, format);\n                else {\n                    parsedDate =\n                        !config || !config.noCalendar\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                            : new Date(new Date().setHours(0, 0, 0, 0));\n                    var matched = void 0, ops = [];\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                        var token_1 = format[i];\n                        var isBackSlash = token_1 === \"\\\\\";\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                        if (tokenRegex[token_1] && !escaped) {\n                            regexStr += tokenRegex[token_1];\n                            var match = new RegExp(regexStr).exec(date);\n                            if (match && (matched = true)) {\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\n                                    fn: revFormat[token_1],\n                                    val: match[++matchIndex]\n                                });\n                            }\n                        }\n                        else if (!isBackSlash)\n                            regexStr += \".\"; // don't really care\n                        ops.forEach(function (_a) {\n                            var fn = _a.fn, val = _a.val;\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                        });\n                    }\n                    parsedDate = matched ? parsedDate : undefined;\n                }\n            }\n            /* istanbul ignore next */\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n                return undefined;\n            }\n            if (timeless === true)\n                parsedDate.setHours(0, 0, 0, 0);\n            return parsedDate;\n        };\n    };\n    /**\n     * Compute the difference in dates, measured in ms\n     */\n    function compareDates(date1, date2, timeless) {\n        if (timeless === void 0) { timeless = true; }\n        if (timeless !== false) {\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\n        }\n        return date1.getTime() - date2.getTime();\n    }\n    var isBetween = function (ts, ts1, ts2) {\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n        DAY: 86400000\n    };\n\n    if (typeof Object.assign !== \"function\") {\n        Object.assign = function (target) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (!target) {\n                throw TypeError(\"Cannot convert undefined or null to object\");\n            }\n            var _loop_1 = function (source) {\n                if (source) {\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n                }\n            };\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n                var source = args_1[_a];\n                _loop_1(source);\n            }\n            return target;\n        };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n    function FlatpickrInstance(element, instanceConfig) {\n        var self = {\n            config: __assign({}, defaults, flatpickr.defaultConfig),\n            l10n: english\n        };\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        self._handlers = [];\n        self.pluginElements = [];\n        self.loadedPlugins = [];\n        self._bind = bind;\n        self._setHoursFromDate = setHoursFromDate;\n        self._positionCalendar = positionCalendar;\n        self.changeMonth = changeMonth;\n        self.changeYear = changeYear;\n        self.clear = clear;\n        self.close = close;\n        self._createElement = createElement;\n        self.destroy = destroy;\n        self.isEnabled = isEnabled;\n        self.jumpToDate = jumpToDate;\n        self.open = open;\n        self.redraw = redraw;\n        self.set = set;\n        self.setDate = setDate;\n        self.toggle = toggle;\n        function setupHelperFunctions() {\n            self.utils = {\n                getDaysInMonth: function (month, yr) {\n                    if (month === void 0) { month = self.currentMonth; }\n                    if (yr === void 0) { yr = self.currentYear; }\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                        return 29;\n                    return self.l10n.daysInMonth[month];\n                }\n            };\n        }\n        function init() {\n            self.element = self.input = element;\n            self.isOpen = false;\n            parseConfig();\n            setupLocale();\n            setupInputs();\n            setupDates();\n            setupHelperFunctions();\n            if (!self.isMobile)\n                build();\n            bindEvents();\n            if (self.selectedDates.length || self.config.noCalendar) {\n                if (self.config.enableTime) {\n                    setHoursFromDate(self.config.noCalendar\n                        ? self.latestSelectedDateObj || self.config.minDate\n                        : undefined);\n                }\n                updateValue(false);\n            }\n            setCalendarWidth();\n            self.showTimeInput =\n                self.selectedDates.length > 0 || self.config.noCalendar;\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            /* TODO: investigate this further\n        \n              Currently, there is weird positioning behavior in safari causing pages\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\n        \n              However, most browsers are not Safari and positioning is expensive when used\n              in scale. https://github.com/chmln/flatpickr/issues/1096\n            */\n            if (!self.isMobile && isSafari) {\n                positionCalendar();\n            }\n            triggerEvent(\"onReady\");\n        }\n        function bindToInstance(fn) {\n            return fn.bind(self);\n        }\n        function setCalendarWidth() {\n            var config = self.config;\n            if (config.weekNumbers === false && config.showMonths === 1)\n                return;\n            else if (config.noCalendar !== true) {\n                window.requestAnimationFrame(function () {\n                    if (self.calendarContainer !== undefined) {\n                        self.calendarContainer.style.visibility = \"hidden\";\n                        self.calendarContainer.style.display = \"block\";\n                    }\n                    if (self.daysContainer !== undefined) {\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                        self.daysContainer.style.width = daysWidth + \"px\";\n                        self.calendarContainer.style.width =\n                            daysWidth +\n                                (self.weekWrapper !== undefined\n                                    ? self.weekWrapper.offsetWidth\n                                    : 0) +\n                                \"px\";\n                        self.calendarContainer.style.removeProperty(\"visibility\");\n                        self.calendarContainer.style.removeProperty(\"display\");\n                    }\n                });\n            }\n        }\n        /**\n         * The handler for all events targeting the time inputs\n         */\n        function updateTime(e) {\n            if (self.selectedDates.length === 0) {\n                setDefaultTime();\n            }\n            if (e !== undefined && e.type !== \"blur\") {\n                timeWrapper(e);\n            }\n            var prevValue = self._input.value;\n            setHoursFromInputs();\n            updateValue();\n            if (self._input.value !== prevValue) {\n                self._debouncedChange();\n            }\n        }\n        function ampm2military(hour, amPM) {\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n        }\n        function military2ampm(hour) {\n            switch (hour % 24) {\n                case 0:\n                case 12:\n                    return 12;\n                default:\n                    return hour % 12;\n            }\n        }\n        /**\n         * Syncs the selected date object time with user's time input\n         */\n        function setHoursFromInputs() {\n            if (self.hourElement === undefined || self.minuteElement === undefined)\n                return;\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\n                : 0;\n            if (self.amPM !== undefined) {\n                hours = ampm2military(hours, self.amPM.textContent);\n            }\n            var limitMinHours = self.config.minTime !== undefined ||\n                (self.config.minDate &&\n                    self.minDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                        0);\n            var limitMaxHours = self.config.maxTime !== undefined ||\n                (self.config.maxDate &&\n                    self.maxDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                        0);\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours())\n                    minutes = Math.max(minutes, minTime.getMinutes());\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Syncs time input values with a date\n         */\n        function setHoursFromDate(dateObj) {\n            var date = dateObj || self.latestSelectedDateObj;\n            if (date)\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n        function setDefaultHours() {\n            var hours = self.config.defaultHour;\n            var minutes = self.config.defaultMinute;\n            var seconds = self.config.defaultSeconds;\n            if (self.config.minDate !== undefined) {\n                var minHr = self.config.minDate.getHours();\n                var minMinutes = self.config.minDate.getMinutes();\n                hours = Math.max(hours, minHr);\n                if (hours === minHr)\n                    minutes = Math.max(minMinutes, minutes);\n                if (hours === minHr && minutes === minMinutes)\n                    seconds = self.config.minDate.getSeconds();\n            }\n            if (self.config.maxDate !== undefined) {\n                var maxHr = self.config.maxDate.getHours();\n                var maxMinutes = self.config.maxDate.getMinutes();\n                hours = Math.min(hours, maxHr);\n                if (hours === maxHr)\n                    minutes = Math.min(maxMinutes, minutes);\n                if (hours === maxHr && minutes === maxMinutes)\n                    seconds = self.config.maxDate.getSeconds();\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Sets the hours, minutes, and optionally seconds\n         * of the latest selected date object and the\n         * corresponding time inputs\n         * @param {Number} hours the hour. whether its military\n         *                 or am-pm gets inferred from config\n         * @param {Number} minutes the minutes\n         * @param {Number} seconds the seconds (optional)\n         */\n        function setHours(hours, minutes, seconds) {\n            if (self.latestSelectedDateObj !== undefined) {\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n            }\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\n                return;\n            self.hourElement.value = pad(!self.config.time_24hr\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n                : hours);\n            self.minuteElement.value = pad(minutes);\n            if (self.amPM !== undefined)\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n            if (self.secondElement !== undefined)\n                self.secondElement.value = pad(seconds);\n        }\n        /**\n         * Handles the year input and incrementing events\n         * @param {Event} event the keyup or increment event\n         */\n        function onYearInput(event) {\n            var year = parseInt(event.target.value) + (event.delta || 0);\n            if (year / 1000 > 1 ||\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n                changeYear(year);\n            }\n        }\n        /**\n         * Essentially addEventListener + tracking\n         * @param {Element} element the element to addEventListener to\n         * @param {String} event the event name\n         * @param {Function} handler the event handler\n         */\n        function bind(element, event, handler, options) {\n            if (event instanceof Array)\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n            if (element instanceof Array)\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\n            element.addEventListener(event, handler, options);\n            self._handlers.push({\n                element: element,\n                event: event,\n                handler: handler,\n                options: options\n            });\n        }\n        /**\n         * A mousedown handler which mimics click.\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\n         * Also, avoids handling right clicks.\n         *\n         * @param {Function} handler the event handler\n         */\n        function onClick(handler) {\n            return function (evt) {\n                evt.which === 1 && handler(evt);\n            };\n        }\n        function triggerChange() {\n            triggerEvent(\"onChange\");\n        }\n        /**\n         * Adds all the necessary event listeners\n         */\n        function bindEvents() {\n            if (self.config.wrap) {\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                        return bind(el, \"click\", self[evt]);\n                    });\n                });\n            }\n            if (self.isMobile) {\n                setupMobile();\n                return;\n            }\n            var debouncedResize = debounce(onResize, 50);\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n                bind(self.daysContainer, \"mouseover\", function (e) {\n                    if (self.config.mode === \"range\")\n                        onMouseOver(e.target);\n                });\n            bind(window.document.body, \"keydown\", onKeyDown);\n            if (!self.config.inline && !self.config.static)\n                bind(window, \"resize\", debouncedResize);\n            if (window.ontouchstart !== undefined)\n                bind(window.document, \"touchstart\", documentClick);\n            else\n                bind(window.document, \"mousedown\", onClick(documentClick));\n            bind(window.document, \"focus\", documentClick, { capture: true });\n            if (self.config.clickOpens === true) {\n                bind(self._input, \"focus\", self.open);\n                bind(self._input, \"mousedown\", onClick(self.open));\n            }\n            if (self.daysContainer !== undefined) {\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n            }\n            if (self.timeContainer !== undefined &&\n                self.minuteElement !== undefined &&\n                self.hourElement !== undefined) {\n                var selText = function (e) {\n                    return e.target.select();\n                };\n                bind(self.timeContainer, [\"increment\"], updateTime);\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n                if (self.secondElement !== undefined)\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n                if (self.amPM !== undefined) {\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\n                        updateTime(e);\n                        triggerChange();\n                    }));\n                }\n            }\n        }\n        /**\n         * Set the calendar view to a particular date.\n         * @param {Date} jumpDate the date to set the view to\n         * @param {boolean} triggerChange if change events should be triggered\n         */\n        function jumpToDate(jumpDate, triggerChange) {\n            var jumpTo = jumpDate !== undefined\n                ? self.parseDate(jumpDate)\n                : self.latestSelectedDateObj ||\n                    (self.config.minDate && self.config.minDate > self.now\n                        ? self.config.minDate\n                        : self.config.maxDate && self.config.maxDate < self.now\n                            ? self.config.maxDate\n                            : self.now);\n            var oldYear = self.currentYear;\n            var oldMonth = self.currentMonth;\n            try {\n                if (jumpTo !== undefined) {\n                    self.currentYear = jumpTo.getFullYear();\n                    self.currentMonth = jumpTo.getMonth();\n                }\n            }\n            catch (e) {\n                /* istanbul ignore next */\n                e.message = \"Invalid date supplied: \" + jumpTo;\n                self.config.errorHandler(e);\n            }\n            if (triggerChange && self.currentYear !== oldYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            if (triggerChange &&\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n                triggerEvent(\"onMonthChange\");\n            }\n            self.redraw();\n        }\n        /**\n         * The up/down arrow handler for time inputs\n         * @param {Event} e the click event\n         */\n        function timeIncrement(e) {\n            if (~e.target.className.indexOf(\"arrow\"))\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n        }\n        /**\n         * Increments/decrements the value of input associ-\n         * ated with the up/down arrow by dispatching an\n         * \"increment\" event on the input.\n         *\n         * @param {Event} e the click event\n         * @param {Number} delta the diff (usually 1 or -1)\n         * @param {Element} inputElem the input element\n         */\n        function incrementNumInput(e, delta, inputElem) {\n            var target = e && e.target;\n            var input = inputElem ||\n                (target && target.parentNode && target.parentNode.firstChild);\n            var event = createEvent(\"increment\");\n            event.delta = delta;\n            input && input.dispatchEvent(event);\n        }\n        function build() {\n            var fragment = window.document.createDocumentFragment();\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n            self.calendarContainer.tabIndex = -1;\n            if (!self.config.noCalendar) {\n                fragment.appendChild(buildMonthNav());\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n                if (self.config.weekNumbers) {\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                    self.innerContainer.appendChild(weekWrapper);\n                    self.weekNumbers = weekNumbers;\n                    self.weekWrapper = weekWrapper;\n                }\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n                self.rContainer.appendChild(buildWeekdays());\n                if (!self.daysContainer) {\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                    self.daysContainer.tabIndex = -1;\n                }\n                buildDays();\n                self.rContainer.appendChild(self.daysContainer);\n                self.innerContainer.appendChild(self.rContainer);\n                fragment.appendChild(self.innerContainer);\n            }\n            if (self.config.enableTime) {\n                fragment.appendChild(buildTime());\n            }\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n            self.calendarContainer.appendChild(fragment);\n            var customAppend = self.config.appendTo !== undefined &&\n                self.config.appendTo.nodeType !== undefined;\n            if (self.config.inline || self.config.static) {\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n                if (self.config.inline) {\n                    if (!customAppend && self.element.parentNode)\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                    else if (self.config.appendTo !== undefined)\n                        self.config.appendTo.appendChild(self.calendarContainer);\n                }\n                if (self.config.static) {\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                    if (self.element.parentNode)\n                        self.element.parentNode.insertBefore(wrapper, self.element);\n                    wrapper.appendChild(self.element);\n                    if (self.altInput)\n                        wrapper.appendChild(self.altInput);\n                    wrapper.appendChild(self.calendarContainer);\n                }\n            }\n            if (!self.config.static && !self.config.inline)\n                (self.config.appendTo !== undefined\n                    ? self.config.appendTo\n                    : window.document.body).appendChild(self.calendarContainer);\n        }\n        function createDay(className, date, dayNumber, i) {\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n            dayElement.dateObj = date;\n            dayElement.$i = i;\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n            if (className.indexOf(\"hidden\") === -1 &&\n                compareDates(date, self.now) === 0) {\n                self.todayDateElem = dayElement;\n                dayElement.classList.add(\"today\");\n                dayElement.setAttribute(\"aria-current\", \"date\");\n            }\n            if (dateIsEnabled) {\n                dayElement.tabIndex = -1;\n                if (isDateSelected(date)) {\n                    dayElement.classList.add(\"selected\");\n                    self.selectedDateElem = dayElement;\n                    if (self.config.mode === \"range\") {\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                            compareDates(date, self.selectedDates[0], true) === 0);\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                            compareDates(date, self.selectedDates[1], true) === 0);\n                        if (className === \"nextMonthDay\")\n                            dayElement.classList.add(\"inRange\");\n                    }\n                }\n            }\n            else {\n                dayElement.classList.add(\"flatpickr-disabled\");\n            }\n            if (self.config.mode === \"range\") {\n                if (isDateInRange(date) && !isDateSelected(date))\n                    dayElement.classList.add(\"inRange\");\n            }\n            if (self.weekNumbers &&\n                self.config.showMonths === 1 &&\n                className !== \"prevMonthDay\" &&\n                dayNumber % 7 === 1) {\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n            }\n            triggerEvent(\"onDayCreate\", dayElement);\n            return dayElement;\n        }\n        function focusOnDayElem(targetNode) {\n            targetNode.focus();\n            if (self.config.mode === \"range\")\n                onMouseOver(targetNode);\n        }\n        function getFirstAvailableDay(delta) {\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            for (var m = startMonth; m != endMonth; m += delta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\n                var endIndex = delta > 0 ? month.children.length : -1;\n                for (var i = startIndex; i != endIndex; i += delta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                        return c;\n                }\n            }\n            return undefined;\n        }\n        function getNextAvailableDay(current, delta) {\n            var givenMonth = current.className.indexOf(\"Month\") === -1\n                ? current.dateObj.getMonth()\n                : self.currentMonth;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            var loopDelta = delta > 0 ? 1 : -1;\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = givenMonth - self.currentMonth === m\n                    ? current.$i + delta\n                    : delta < 0\n                        ? month.children.length - 1\n                        : 0;\n                var numMonthDays = month.children.length;\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 &&\n                        isEnabled(c.dateObj) &&\n                        Math.abs(current.$i - i) >= Math.abs(delta))\n                        return focusOnDayElem(c);\n                }\n            }\n            self.changeMonth(loopDelta);\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\n            return undefined;\n        }\n        function focusOnDay(current, offset) {\n            var dayFocused = isInView(document.activeElement || document.body);\n            var startElem = current !== undefined\n                ? current\n                : dayFocused\n                    ? document.activeElement\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                        ? self.selectedDateElem\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                            ? self.todayDateElem\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\n            if (startElem === undefined)\n                return self._input.focus();\n            if (!dayFocused)\n                return focusOnDayElem(startElem);\n            getNextAvailableDay(startElem, offset);\n        }\n        function buildMonthDays(year, month) {\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n            // prepend days from the ending of previous month\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n            }\n            // Start at 1 since there is no 0th day\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n            }\n            // append days from the next month\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n            }\n            //updateNavigationCurrentMonth();\n            var dayContainer = createElement(\"div\", \"dayContainer\");\n            dayContainer.appendChild(days);\n            return dayContainer;\n        }\n        function buildDays() {\n            if (self.daysContainer === undefined) {\n                return;\n            }\n            clearNode(self.daysContainer);\n            // TODO: week numbers for each month\n            if (self.weekNumbers)\n                clearNode(self.weekNumbers);\n            var frag = document.createDocumentFragment();\n            for (var i = 0; i < self.config.showMonths; i++) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n            }\n            self.daysContainer.appendChild(frag);\n            self.days = self.daysContainer.firstChild;\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                onMouseOver();\n            }\n        }\n        function buildMonthSwitch() {\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType !== \"dropdown\")\n                return;\n            var shouldBuildMonth = function (month) {\n                if (self.config.minDate !== undefined &&\n                    self.currentYear === self.config.minDate.getFullYear() &&\n                    month < self.config.minDate.getMonth()) {\n                    return false;\n                }\n                return !(self.config.maxDate !== undefined &&\n                    self.currentYear === self.config.maxDate.getFullYear() &&\n                    month > self.config.maxDate.getMonth());\n            };\n            self.monthsDropdownContainer.tabIndex = -1;\n            self.monthsDropdownContainer.innerHTML = \"\";\n            for (var i = 0; i < 12; i++) {\n                if (!shouldBuildMonth(i))\n                    continue;\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n                month.value = new Date(self.currentYear, i).getMonth().toString();\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n                month.tabIndex = -1;\n                if (self.currentMonth === i) {\n                    month.selected = true;\n                }\n                self.monthsDropdownContainer.appendChild(month);\n            }\n        }\n        function buildMonth() {\n            var container = createElement(\"div\", \"flatpickr-month\");\n            var monthNavFragment = window.document.createDocumentFragment();\n            var monthElement;\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                monthElement = createElement(\"span\", \"cur-month\");\n            }\n            else {\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\n                    var target = e.target;\n                    var selectedMonth = parseInt(target.value, 10);\n                    self.changeMonth(selectedMonth - self.currentMonth);\n                    triggerEvent(\"onMonthChange\");\n                });\n                buildMonthSwitch();\n                monthElement = self.monthsDropdownContainer;\n            }\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n            if (self.config.minDate) {\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n            }\n            if (self.config.maxDate) {\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n                yearElement.disabled =\n                    !!self.config.minDate &&\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n            }\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n            currentMonth.appendChild(monthElement);\n            currentMonth.appendChild(yearInput);\n            monthNavFragment.appendChild(currentMonth);\n            container.appendChild(monthNavFragment);\n            return {\n                container: container,\n                yearElement: yearElement,\n                monthElement: monthElement\n            };\n        }\n        function buildMonths() {\n            clearNode(self.monthNav);\n            self.monthNav.appendChild(self.prevMonthNav);\n            if (self.config.showMonths) {\n                self.yearElements = [];\n                self.monthElements = [];\n            }\n            for (var m = self.config.showMonths; m--;) {\n                var month = buildMonth();\n                self.yearElements.push(month.yearElement);\n                self.monthElements.push(month.monthElement);\n                self.monthNav.appendChild(month.container);\n            }\n            self.monthNav.appendChild(self.nextMonthNav);\n        }\n        function buildMonthNav() {\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\n            self.yearElements = [];\n            self.monthElements = [];\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\n            buildMonths();\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n                get: function () { return self.__hidePrevMonthArrow; },\n                set: function (bool) {\n                    if (self.__hidePrevMonthArrow !== bool) {\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hidePrevMonthArrow = bool;\n                    }\n                }\n            });\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\n                get: function () { return self.__hideNextMonthArrow; },\n                set: function (bool) {\n                    if (self.__hideNextMonthArrow !== bool) {\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hideNextMonthArrow = bool;\n                    }\n                }\n            });\n            self.currentYearElement = self.yearElements[0];\n            updateNavigationCurrentMonth();\n            return self.monthNav;\n        }\n        function buildTime() {\n            self.calendarContainer.classList.add(\"hasTime\");\n            if (self.config.noCalendar)\n                self.calendarContainer.classList.add(\"noCalendar\");\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n            self.timeContainer.tabIndex = -1;\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\n                \"aria-label\": self.l10n.hourAriaLabel\n            });\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\n                \"aria-label\": self.l10n.minuteAriaLabel\n            });\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n            self.hourElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getHours()\n                : self.config.time_24hr\n                    ? self.config.defaultHour\n                    : military2ampm(self.config.defaultHour));\n            self.minuteElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getMinutes()\n                : self.config.defaultMinute);\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n            self.minuteElement.setAttribute(\"min\", \"0\");\n            self.minuteElement.setAttribute(\"max\", \"59\");\n            self.timeContainer.appendChild(hourInput);\n            self.timeContainer.appendChild(separator);\n            self.timeContainer.appendChild(minuteInput);\n            if (self.config.time_24hr)\n                self.timeContainer.classList.add(\"time24hr\");\n            if (self.config.enableSeconds) {\n                self.timeContainer.classList.add(\"hasSeconds\");\n                var secondInput = createNumberInput(\"flatpickr-second\");\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n                self.secondElement.value = pad(self.latestSelectedDateObj\n                    ? self.latestSelectedDateObj.getSeconds()\n                    : self.config.defaultSeconds);\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n                self.secondElement.setAttribute(\"min\", \"0\");\n                self.secondElement.setAttribute(\"max\", \"59\");\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n                self.timeContainer.appendChild(secondInput);\n            }\n            if (!self.config.time_24hr) {\n                // add self.amPM if appropriate\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                    ? self.hourElement.value\n                    : self.config.defaultHour) > 11)]);\n                self.amPM.title = self.l10n.toggleTitle;\n                self.amPM.tabIndex = -1;\n                self.timeContainer.appendChild(self.amPM);\n            }\n            return self.timeContainer;\n        }\n        function buildWeekdays() {\n            if (!self.weekdayContainer)\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n            else\n                clearNode(self.weekdayContainer);\n            for (var i = self.config.showMonths; i--;) {\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n                self.weekdayContainer.appendChild(container);\n            }\n            updateWeekdays();\n            return self.weekdayContainer;\n        }\n        function updateWeekdays() {\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\n            var weekdays = self.l10n.weekdays.shorthand.slice();\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n            }\n            for (var i = self.config.showMonths; i--;) {\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n            }\n        }\n        /* istanbul ignore next */\n        function buildWeeks() {\n            self.calendarContainer.classList.add(\"hasWeeks\");\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n            weekWrapper.appendChild(weekNumbers);\n            return {\n                weekWrapper: weekWrapper,\n                weekNumbers: weekNumbers\n            };\n        }\n        function changeMonth(value, isOffset) {\n            if (isOffset === void 0) { isOffset = true; }\n            var delta = isOffset ? value : value - self.currentMonth;\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n                (delta > 0 && self._hideNextMonthArrow === true))\n                return;\n            self.currentMonth += delta;\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\n                self.currentMonth = (self.currentMonth + 12) % 12;\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            buildDays();\n            triggerEvent(\"onMonthChange\");\n            updateNavigationCurrentMonth();\n        }\n        function clear(triggerChangeEvent, toInitial) {\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n            if (toInitial === void 0) { toInitial = true; }\n            self.input.value = \"\";\n            if (self.altInput !== undefined)\n                self.altInput.value = \"\";\n            if (self.mobileInput !== undefined)\n                self.mobileInput.value = \"\";\n            self.selectedDates = [];\n            self.latestSelectedDateObj = undefined;\n            if (toInitial === true) {\n                self.currentYear = self._initialDate.getFullYear();\n                self.currentMonth = self._initialDate.getMonth();\n            }\n            self.showTimeInput = false;\n            if (self.config.enableTime === true) {\n                setDefaultHours();\n            }\n            self.redraw();\n            if (triggerChangeEvent)\n                // triggerChangeEvent is true (default) or an Event\n                triggerEvent(\"onChange\");\n        }\n        function close() {\n            self.isOpen = false;\n            if (!self.isMobile) {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.classList.remove(\"open\");\n                }\n                if (self._input !== undefined) {\n                    self._input.classList.remove(\"active\");\n                }\n            }\n            triggerEvent(\"onClose\");\n        }\n        function destroy() {\n            if (self.config !== undefined)\n                triggerEvent(\"onDestroy\");\n            for (var i = self._handlers.length; i--;) {\n                var h = self._handlers[i];\n                h.element.removeEventListener(h.event, h.handler, h.options);\n            }\n            self._handlers = [];\n            if (self.mobileInput) {\n                if (self.mobileInput.parentNode)\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\n                self.mobileInput = undefined;\n            }\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\n                if (self.config.static && self.calendarContainer.parentNode) {\n                    var wrapper = self.calendarContainer.parentNode;\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                    if (wrapper.parentNode) {\n                        while (wrapper.firstChild)\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                        wrapper.parentNode.removeChild(wrapper);\n                    }\n                }\n                else\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n            }\n            if (self.altInput) {\n                self.input.type = \"text\";\n                if (self.altInput.parentNode)\n                    self.altInput.parentNode.removeChild(self.altInput);\n                delete self.altInput;\n            }\n            if (self.input) {\n                self.input.type = self.input._type;\n                self.input.classList.remove(\"flatpickr-input\");\n                self.input.removeAttribute(\"readonly\");\n                self.input.value = \"\";\n            }\n            [\n                \"_showTimeInput\",\n                \"latestSelectedDateObj\",\n                \"_hideNextMonthArrow\",\n                \"_hidePrevMonthArrow\",\n                \"__hideNextMonthArrow\",\n                \"__hidePrevMonthArrow\",\n                \"isMobile\",\n                \"isOpen\",\n                \"selectedDateElem\",\n                \"minDateHasTime\",\n                \"maxDateHasTime\",\n                \"days\",\n                \"daysContainer\",\n                \"_input\",\n                \"_positionElement\",\n                \"innerContainer\",\n                \"rContainer\",\n                \"monthNav\",\n                \"todayDateElem\",\n                \"calendarContainer\",\n                \"weekdayContainer\",\n                \"prevMonthNav\",\n                \"nextMonthNav\",\n                \"monthsDropdownContainer\",\n                \"currentMonthElement\",\n                \"currentYearElement\",\n                \"navigationCurrentMonth\",\n                \"selectedDateElem\",\n                \"config\",\n            ].forEach(function (k) {\n                try {\n                    delete self[k];\n                }\n                catch (_) { }\n            });\n        }\n        function isCalendarElem(elem) {\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\n                return true;\n            return self.calendarContainer.contains(elem);\n        }\n        function documentClick(e) {\n            if (self.isOpen && !self.config.inline) {\n                var eventTarget_1 = getEventTarget(e);\n                var isCalendarElement = isCalendarElem(eventTarget_1);\n                var isInput = eventTarget_1 === self.input ||\n                    eventTarget_1 === self.altInput ||\n                    self.element.contains(eventTarget_1) ||\n                    // web components\n                    // e.path is not present in all browsers. circumventing typechecks\n                    (e.path &&\n                        e.path.indexOf &&\n                        (~e.path.indexOf(self.input) ||\n                            ~e.path.indexOf(self.altInput)));\n                var lostFocus = e.type === \"blur\"\n                    ? isInput &&\n                        e.relatedTarget &&\n                        !isCalendarElem(e.relatedTarget)\n                    : !isInput &&\n                        !isCalendarElement &&\n                        !isCalendarElem(e.relatedTarget);\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                    return elem.contains(eventTarget_1);\n                });\n                if (lostFocus && isIgnored) {\n                    self.close();\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                        self.clear(false);\n                        self.redraw();\n                    }\n                }\n            }\n        }\n        function changeYear(newYear) {\n            if (!newYear ||\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n                return;\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n            self.currentYear = newYearNum || self.currentYear;\n            if (self.config.maxDate &&\n                self.currentYear === self.config.maxDate.getFullYear()) {\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n            }\n            else if (self.config.minDate &&\n                self.currentYear === self.config.minDate.getFullYear()) {\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n            }\n            if (isNewYear) {\n                self.redraw();\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n        }\n        function isEnabled(date, timeless) {\n            if (timeless === void 0) { timeless = true; }\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n            if ((self.config.minDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n                (self.config.maxDate &&\n                    dateToCheck &&\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n                return false;\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\n                return true;\n            if (dateToCheck === undefined)\n                return false;\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\n            for (var i = 0, d = void 0; i < array.length; i++) {\n                d = array[i];\n                if (typeof d === \"function\" &&\n                    d(dateToCheck) // disabled by function\n                )\n                    return bool;\n                else if (d instanceof Date &&\n                    dateToCheck !== undefined &&\n                    d.getTime() === dateToCheck.getTime())\n                    // disabled by date\n                    return bool;\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\n                    // disabled by date string\n                    var parsed = self.parseDate(d, undefined, true);\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\n                        ? bool\n                        : !bool;\n                }\n                else if (\n                // disabled by range\n                typeof d === \"object\" &&\n                    dateToCheck !== undefined &&\n                    d.from &&\n                    d.to &&\n                    dateToCheck.getTime() >= d.from.getTime() &&\n                    dateToCheck.getTime() <= d.to.getTime())\n                    return bool;\n            }\n            return !bool;\n        }\n        function isInView(elem) {\n            if (self.daysContainer !== undefined)\n                return (elem.className.indexOf(\"hidden\") === -1 &&\n                    self.daysContainer.contains(elem));\n            return false;\n        }\n        function onKeyDown(e) {\n            // e.key                      e.keyCode\n            // \"Backspace\"                        8\n            // \"Tab\"                              9\n            // \"Enter\"                           13\n            // \"Escape\"     (IE \"Esc\")           27\n            // \"ArrowLeft\"  (IE \"Left\")          37\n            // \"ArrowUp\"    (IE \"Up\")            38\n            // \"ArrowRight\" (IE \"Right\")         39\n            // \"ArrowDown\"  (IE \"Down\")          40\n            // \"Delete\"     (IE \"Del\")           46\n            var isInput = e.target === self._input;\n            var allowInput = self.config.allowInput;\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n            if (e.keyCode === 13 && isInput) {\n                if (allowInput) {\n                    self.setDate(self._input.value, true, e.target === self.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                    return e.target.blur();\n                }\n                else {\n                    self.open();\n                }\n            }\n            else if (isCalendarElem(e.target) ||\n                allowKeydown ||\n                allowInlineKeydown) {\n                var isTimeObj = !!self.timeContainer &&\n                    self.timeContainer.contains(e.target);\n                switch (e.keyCode) {\n                    case 13:\n                        if (isTimeObj) {\n                            e.preventDefault();\n                            updateTime();\n                            focusAndClose();\n                        }\n                        else\n                            selectDate(e);\n                        break;\n                    case 27: // escape\n                        e.preventDefault();\n                        focusAndClose();\n                        break;\n                    case 8:\n                    case 46:\n                        if (isInput && !self.config.allowInput) {\n                            e.preventDefault();\n                            self.clear();\n                        }\n                        break;\n                    case 37:\n                    case 39:\n                        if (!isTimeObj && !isInput) {\n                            e.preventDefault();\n                            if (self.daysContainer !== undefined &&\n                                (allowInput === false ||\n                                    (document.activeElement && isInView(document.activeElement)))) {\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\n                                if (!e.ctrlKey)\n                                    focusOnDay(undefined, delta_1);\n                                else {\n                                    e.stopPropagation();\n                                    changeMonth(delta_1);\n                                    focusOnDay(getFirstAvailableDay(1), 0);\n                                }\n                            }\n                        }\n                        else if (self.hourElement)\n                            self.hourElement.focus();\n                        break;\n                    case 38:\n                    case 40:\n                        e.preventDefault();\n                        var delta = e.keyCode === 40 ? 1 : -1;\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\n                            e.target === self.input) {\n                            if (e.ctrlKey) {\n                                e.stopPropagation();\n                                changeYear(self.currentYear - delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                            else if (!isTimeObj)\n                                focusOnDay(undefined, delta * 7);\n                        }\n                        else if (e.target === self.currentYearElement) {\n                            changeYear(self.currentYear - delta);\n                        }\n                        else if (self.config.enableTime) {\n                            if (!isTimeObj && self.hourElement)\n                                self.hourElement.focus();\n                            updateTime(e);\n                            self._debouncedChange();\n                        }\n                        break;\n                    case 9:\n                        if (isTimeObj) {\n                            var elems = [\n                                self.hourElement,\n                                self.minuteElement,\n                                self.secondElement,\n                                self.amPM,\n                            ]\n                                .concat(self.pluginElements)\n                                .filter(function (x) { return x; });\n                            var i = elems.indexOf(e.target);\n                            if (i !== -1) {\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\n                                e.preventDefault();\n                                (target || self._input).focus();\n                            }\n                        }\n                        else if (!self.config.noCalendar &&\n                            self.daysContainer &&\n                            self.daysContainer.contains(e.target) &&\n                            e.shiftKey) {\n                            e.preventDefault();\n                            self._input.focus();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                switch (e.key) {\n                    case self.l10n.amPM[0].charAt(0):\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[0];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                    case self.l10n.amPM[1].charAt(0):\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[1];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                }\n            }\n            if (isInput || isCalendarElem(e.target)) {\n                triggerEvent(\"onKeyDown\", e);\n            }\n        }\n        function onMouseOver(elem) {\n            if (self.selectedDates.length !== 1 ||\n                (elem &&\n                    (!elem.classList.contains(\"flatpickr-day\") ||\n                        elem.classList.contains(\"flatpickr-disabled\"))))\n                return;\n            var hoverDate = elem\n                ? elem.dateObj.getTime()\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n            var containsDisabled = false;\n            var minRange = 0, maxRange = 0;\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n                if (!isEnabled(new Date(t), true)) {\n                    containsDisabled =\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                    if (t < initialDate && (!minRange || t > minRange))\n                        minRange = t;\n                    else if (t > initialDate && (!maxRange || t < maxRange))\n                        maxRange = t;\n                }\n            }\n            for (var m = 0; m < self.config.showMonths; m++) {\n                var month = self.daysContainer.children[m];\n                var _loop_1 = function (i, l) {\n                    var dayElem = month.children[i], date = dayElem.dateObj;\n                    var timestamp = date.getTime();\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                        (maxRange > 0 && timestamp > maxRange);\n                    if (outOfRange) {\n                        dayElem.classList.add(\"notAllowed\");\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                            dayElem.classList.remove(c);\n                        });\n                        return \"continue\";\n                    }\n                    else if (containsDisabled && !outOfRange)\n                        return \"continue\";\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                        dayElem.classList.remove(c);\n                    });\n                    if (elem !== undefined) {\n                        elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                            ? \"startRange\"\n                            : \"endRange\");\n                        if (initialDate < hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"startRange\");\n                        else if (initialDate > hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"endRange\");\n                        if (timestamp >= minRange &&\n                            (maxRange === 0 || timestamp <= maxRange) &&\n                            isBetween(timestamp, initialDate, hoverDate))\n                            dayElem.classList.add(\"inRange\");\n                    }\n                };\n                for (var i = 0, l = month.children.length; i < l; i++) {\n                    _loop_1(i, l);\n                }\n            }\n        }\n        function onResize() {\n            if (self.isOpen && !self.config.static && !self.config.inline)\n                positionCalendar();\n        }\n        function setDefaultTime() {\n            self.setDate(self.config.minDate !== undefined\n                ? new Date(self.config.minDate.getTime())\n                : new Date(), true);\n            setDefaultHours();\n            updateValue();\n        }\n        function open(e, positionElement) {\n            if (positionElement === void 0) { positionElement = self._positionElement; }\n            if (self.isMobile === true) {\n                if (e) {\n                    e.preventDefault();\n                    e.target && e.target.blur();\n                }\n                if (self.mobileInput !== undefined) {\n                    self.mobileInput.focus();\n                    self.mobileInput.click();\n                }\n                triggerEvent(\"onOpen\");\n                return;\n            }\n            if (self._input.disabled || self.config.inline)\n                return;\n            var wasOpen = self.isOpen;\n            self.isOpen = true;\n            if (!wasOpen) {\n                self.calendarContainer.classList.add(\"open\");\n                self._input.classList.add(\"active\");\n                triggerEvent(\"onOpen\");\n                positionCalendar(positionElement);\n            }\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\n                if (self.selectedDates.length === 0) {\n                    setDefaultTime();\n                }\n                if (self.config.allowInput === false &&\n                    (e === undefined ||\n                        !self.timeContainer.contains(e.relatedTarget))) {\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\n                }\n            }\n        }\n        function minMaxDateSetter(type) {\n            return function (date) {\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n                if (dateObj !== undefined) {\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                        dateObj.getHours() > 0 ||\n                            dateObj.getMinutes() > 0 ||\n                            dateObj.getSeconds() > 0;\n                }\n                if (self.selectedDates) {\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                    if (!self.selectedDates.length && type === \"min\")\n                        setHoursFromDate(dateObj);\n                    updateValue();\n                }\n                if (self.daysContainer) {\n                    redraw();\n                    if (dateObj !== undefined)\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\n                    else\n                        self.currentYearElement.removeAttribute(type);\n                    self.currentYearElement.disabled =\n                        !!inverseDateObj &&\n                            dateObj !== undefined &&\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\n                }\n            };\n        }\n        function parseConfig() {\n            var boolOpts = [\n                \"wrap\",\n                \"weekNumbers\",\n                \"allowInput\",\n                \"clickOpens\",\n                \"time_24hr\",\n                \"enableTime\",\n                \"noCalendar\",\n                \"altInput\",\n                \"shorthandCurrentMonth\",\n                \"inline\",\n                \"static\",\n                \"enableSeconds\",\n                \"disableMobile\",\n            ];\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            var formats = {};\n            self.config.parseDate = userConfig.parseDate;\n            self.config.formatDate = userConfig.formatDate;\n            Object.defineProperty(self.config, \"enable\", {\n                get: function () { return self.config._enable; },\n                set: function (dates) {\n                    self.config._enable = parseDateRules(dates);\n                }\n            });\n            Object.defineProperty(self.config, \"disable\", {\n                get: function () { return self.config._disable; },\n                set: function (dates) {\n                    self.config._disable = parseDateRules(dates);\n                }\n            });\n            var timeMode = userConfig.mode === \"time\";\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\n                formats.dateFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n            }\n            if (userConfig.altInput &&\n                (userConfig.enableTime || timeMode) &&\n                !userConfig.altFormat) {\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\n                formats.altFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n            }\n            if (!userConfig.altInputClass) {\n                self.config.altInputClass =\n                    self.input.className + \" \" + self.config.altInputClass;\n            }\n            Object.defineProperty(self.config, \"minDate\", {\n                get: function () { return self.config._minDate; },\n                set: minMaxDateSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxDate\", {\n                get: function () { return self.config._maxDate; },\n                set: minMaxDateSetter(\"max\")\n            });\n            var minMaxTimeSetter = function (type) { return function (val) {\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i\");\n            }; };\n            Object.defineProperty(self.config, \"minTime\", {\n                get: function () { return self.config._minTime; },\n                set: minMaxTimeSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxTime\", {\n                get: function () { return self.config._maxTime; },\n                set: minMaxTimeSetter(\"max\")\n            });\n            if (userConfig.mode === \"time\") {\n                self.config.noCalendar = true;\n                self.config.enableTime = true;\n            }\n            Object.assign(self.config, formats, userConfig);\n            for (var i = 0; i < boolOpts.length; i++)\n                self.config[boolOpts[i]] =\n                    self.config[boolOpts[i]] === true ||\n                        self.config[boolOpts[i]] === \"true\";\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n            });\n            self.isMobile =\n                !self.config.disableMobile &&\n                    !self.config.inline &&\n                    self.config.mode === \"single\" &&\n                    !self.config.disable.length &&\n                    !self.config.enable.length &&\n                    !self.config.weekNumbers &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            for (var i = 0; i < self.config.plugins.length; i++) {\n                var pluginConf = self.config.plugins[i](self) || {};\n                for (var key in pluginConf) {\n                    if (HOOKS.indexOf(key) > -1) {\n                        self.config[key] = arrayify(pluginConf[key])\n                            .map(bindToInstance)\n                            .concat(self.config[key]);\n                    }\n                    else if (typeof userConfig[key] === \"undefined\")\n                        self.config[key] = pluginConf[key];\n                }\n            }\n            triggerEvent(\"onParseConfig\");\n        }\n        function setupLocale() {\n            if (typeof self.config.locale !== \"object\" &&\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\n                ? self.config.locale\n                : self.config.locale !== \"default\"\n                    ? flatpickr.l10ns[self.config.locale]\n                    : undefined));\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            if (userConfig.time_24hr === undefined &&\n                flatpickr.defaultConfig.time_24hr === undefined) {\n                self.config.time_24hr = self.l10n.time_24hr;\n            }\n            self.formatDate = createDateFormatter(self);\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        }\n        function positionCalendar(customPositionElement) {\n            if (self.calendarContainer === undefined)\n                return;\n            triggerEvent(\"onPreCalendarPosition\");\n            var positionElement = customPositionElement || self._positionElement;\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n                (configPosVertical !== \"below\" &&\n                    distanceFromBottom < calendarHeight &&\n                    inputBounds.top > calendarHeight);\n            var top = window.pageYOffset +\n                inputBounds.top +\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n            if (self.config.inline)\n                return;\n            var left = window.pageXOffset +\n                inputBounds.left -\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\n                    ? (calendarWidth - inputBounds.width) / 2\n                    : 0);\n            var right = window.document.body.offsetWidth - inputBounds.right;\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n            if (self.config.static)\n                return;\n            self.calendarContainer.style.top = top + \"px\";\n            if (!rightMost) {\n                self.calendarContainer.style.left = left + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n            else if (!centerMost) {\n                self.calendarContainer.style.left = \"auto\";\n                self.calendarContainer.style.right = right + \"px\";\n            }\n            else {\n                var doc = document.styleSheets[0];\n                // some testing environments don't have css support\n                if (doc === undefined)\n                    return;\n                var bodyWidth = window.document.body.offsetWidth;\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\n                var centerIndex = doc.cssRules.length;\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n                toggleClass(self.calendarContainer, \"rightMost\", false);\n                toggleClass(self.calendarContainer, \"centerMost\", true);\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n                self.calendarContainer.style.left = centerLeft + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n        }\n        function redraw() {\n            if (self.config.noCalendar || self.isMobile)\n                return;\n            updateNavigationCurrentMonth();\n            buildDays();\n        }\n        function focusAndClose() {\n            self._input.focus();\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n                navigator.msMaxTouchPoints !== undefined) {\n                // hack - bugs in the way IE handles focus keeps the calendar open\n                setTimeout(self.close, 0);\n            }\n            else {\n                self.close();\n            }\n        }\n        function selectDate(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var isSelectable = function (day) {\n                return day.classList &&\n                    day.classList.contains(\"flatpickr-day\") &&\n                    !day.classList.contains(\"flatpickr-disabled\") &&\n                    !day.classList.contains(\"notAllowed\");\n            };\n            var t = findParent(e.target, isSelectable);\n            if (t === undefined)\n                return;\n            var target = t;\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n                selectedDate.getMonth() >\n                    self.currentMonth + self.config.showMonths - 1) &&\n                self.config.mode !== \"range\";\n            self.selectedDateElem = target;\n            if (self.config.mode === \"single\")\n                self.selectedDates = [selectedDate];\n            else if (self.config.mode === \"multiple\") {\n                var selectedIndex = isDateSelected(selectedDate);\n                if (selectedIndex)\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\n                else\n                    self.selectedDates.push(selectedDate);\n            }\n            else if (self.config.mode === \"range\") {\n                if (self.selectedDates.length === 2) {\n                    self.clear(false, false);\n                }\n                self.latestSelectedDateObj = selectedDate;\n                self.selectedDates.push(selectedDate);\n                // unless selecting same date twice, sort ascendingly\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n            }\n            setHoursFromInputs();\n            if (shouldChangeMonth) {\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\n                self.currentYear = selectedDate.getFullYear();\n                self.currentMonth = selectedDate.getMonth();\n                if (isNewYear) {\n                    triggerEvent(\"onYearChange\");\n                    buildMonthSwitch();\n                }\n                triggerEvent(\"onMonthChange\");\n            }\n            updateNavigationCurrentMonth();\n            buildDays();\n            updateValue();\n            if (self.config.enableTime)\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\n            // maintain focus\n            if (!shouldChangeMonth &&\n                self.config.mode !== \"range\" &&\n                self.config.showMonths === 1)\n                focusOnDayElem(target);\n            else if (self.selectedDateElem !== undefined &&\n                self.hourElement === undefined) {\n                self.selectedDateElem && self.selectedDateElem.focus();\n            }\n            if (self.hourElement !== undefined)\n                self.hourElement !== undefined && self.hourElement.focus();\n            if (self.config.closeOnSelect) {\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\n                var range = self.config.mode === \"range\" &&\n                    self.selectedDates.length === 2 &&\n                    !self.config.enableTime;\n                if (single || range) {\n                    focusAndClose();\n                }\n            }\n            triggerChange();\n        }\n        var CALLBACKS = {\n            locale: [setupLocale, updateWeekdays],\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n            minDate: [jumpToDate],\n            maxDate: [jumpToDate]\n        };\n        function set(option, value) {\n            if (option !== null && typeof option === \"object\") {\n                Object.assign(self.config, option);\n                for (var key in option) {\n                    if (CALLBACKS[key] !== undefined)\n                        CALLBACKS[key].forEach(function (x) { return x(); });\n                }\n            }\n            else {\n                self.config[option] = value;\n                if (CALLBACKS[option] !== undefined)\n                    CALLBACKS[option].forEach(function (x) { return x(); });\n                else if (HOOKS.indexOf(option) > -1)\n                    self.config[option] = arrayify(value);\n            }\n            self.redraw();\n            updateValue(false);\n        }\n        function setSelectedDate(inputDate, format) {\n            var dates = [];\n            if (inputDate instanceof Array)\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\n                dates = [self.parseDate(inputDate, format)];\n            else if (typeof inputDate === \"string\") {\n                switch (self.config.mode) {\n                    case \"single\":\n                    case \"time\":\n                        dates = [self.parseDate(inputDate, format)];\n                        break;\n                    case \"multiple\":\n                        dates = inputDate\n                            .split(self.config.conjunction)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    case \"range\":\n                        dates = inputDate\n                            .split(self.l10n.rangeSeparator)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\n            if (self.config.mode === \"range\")\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        function setDate(date, triggerChange, format) {\n            if (triggerChange === void 0) { triggerChange = false; }\n            if (format === void 0) { format = self.config.dateFormat; }\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n                return self.clear(triggerChange);\n            setSelectedDate(date, format);\n            self.showTimeInput = self.selectedDates.length > 0;\n            self.latestSelectedDateObj =\n                self.selectedDates[self.selectedDates.length - 1];\n            self.redraw();\n            jumpToDate();\n            setHoursFromDate();\n            if (self.selectedDates.length === 0) {\n                self.clear(false);\n            }\n            updateValue(triggerChange);\n            if (triggerChange)\n                triggerEvent(\"onChange\");\n        }\n        function parseDateRules(arr) {\n            return arr\n                .slice()\n                .map(function (rule) {\n                if (typeof rule === \"string\" ||\n                    typeof rule === \"number\" ||\n                    rule instanceof Date) {\n                    return self.parseDate(rule, undefined, true);\n                }\n                else if (rule &&\n                    typeof rule === \"object\" &&\n                    rule.from &&\n                    rule.to)\n                    return {\n                        from: self.parseDate(rule.from, undefined),\n                        to: self.parseDate(rule.to, undefined)\n                    };\n                return rule;\n            })\n                .filter(function (x) { return x; }); // remove falsy values\n        }\n        function setupDates() {\n            self.selectedDates = [];\n            self.now = self.parseDate(self.config.now) || new Date();\n            // Workaround IE11 setting placeholder as the input's value\n            var preloadedDate = self.config.defaultDate ||\n                ((self.input.nodeName === \"INPUT\" ||\n                    self.input.nodeName === \"TEXTAREA\") &&\n                    self.input.placeholder &&\n                    self.input.value === self.input.placeholder\n                    ? null\n                    : self.input.value);\n            if (preloadedDate)\n                setSelectedDate(preloadedDate, self.config.dateFormat);\n            self._initialDate =\n                self.selectedDates.length > 0\n                    ? self.selectedDates[0]\n                    : self.config.minDate &&\n                        self.config.minDate.getTime() > self.now.getTime()\n                        ? self.config.minDate\n                        : self.config.maxDate &&\n                            self.config.maxDate.getTime() < self.now.getTime()\n                            ? self.config.maxDate\n                            : self.now;\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n            if (self.selectedDates.length > 0)\n                self.latestSelectedDateObj = self.selectedDates[0];\n            if (self.config.minTime !== undefined)\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n            if (self.config.maxTime !== undefined)\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n            self.minDateHasTime =\n                !!self.config.minDate &&\n                    (self.config.minDate.getHours() > 0 ||\n                        self.config.minDate.getMinutes() > 0 ||\n                        self.config.minDate.getSeconds() > 0);\n            self.maxDateHasTime =\n                !!self.config.maxDate &&\n                    (self.config.maxDate.getHours() > 0 ||\n                        self.config.maxDate.getMinutes() > 0 ||\n                        self.config.maxDate.getSeconds() > 0);\n            Object.defineProperty(self, \"showTimeInput\", {\n                get: function () { return self._showTimeInput; },\n                set: function (bool) {\n                    self._showTimeInput = bool;\n                    if (self.calendarContainer)\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n                    self.isOpen && positionCalendar();\n                }\n            });\n        }\n        function setupInputs() {\n            self.input = self.config.wrap\n                ? element.querySelector(\"[data-input]\")\n                : element;\n            /* istanbul ignore next */\n            if (!self.input) {\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\n                return;\n            }\n            // hack: store previous type to restore it after destroy()\n            self.input._type = self.input.type;\n            self.input.type = \"text\";\n            self.input.classList.add(\"flatpickr-input\");\n            self._input = self.input;\n            if (self.config.altInput) {\n                // replicate self.element\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n                self._input = self.altInput;\n                self.altInput.placeholder = self.input.placeholder;\n                self.altInput.disabled = self.input.disabled;\n                self.altInput.required = self.input.required;\n                self.altInput.tabIndex = self.input.tabIndex;\n                self.altInput.type = \"text\";\n                self.input.setAttribute(\"type\", \"hidden\");\n                if (!self.config.static && self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n            }\n            if (!self.config.allowInput)\n                self._input.setAttribute(\"readonly\", \"readonly\");\n            self._positionElement = self.config.positionElement || self._input;\n        }\n        function setupMobile() {\n            var inputType = self.config.enableTime\n                ? self.config.noCalendar\n                    ? \"time\"\n                    : \"datetime-local\"\n                : \"date\";\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n            self.mobileInput.tabIndex = 1;\n            self.mobileInput.type = inputType;\n            self.mobileInput.disabled = self.input.disabled;\n            self.mobileInput.required = self.input.required;\n            self.mobileInput.placeholder = self.input.placeholder;\n            self.mobileFormatStr =\n                inputType === \"datetime-local\"\n                    ? \"Y-m-d\\\\TH:i:S\"\n                    : inputType === \"date\"\n                        ? \"Y-m-d\"\n                        : \"H:i:S\";\n            if (self.selectedDates.length > 0) {\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n            }\n            if (self.config.minDate)\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n            if (self.config.maxDate)\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n            self.input.type = \"hidden\";\n            if (self.altInput !== undefined)\n                self.altInput.type = \"hidden\";\n            try {\n                if (self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n            }\n            catch (_a) { }\n            bind(self.mobileInput, \"change\", function (e) {\n                self.setDate(e.target.value, false, self.mobileFormatStr);\n                triggerEvent(\"onChange\");\n                triggerEvent(\"onClose\");\n            });\n        }\n        function toggle(e) {\n            if (self.isOpen === true)\n                return self.close();\n            self.open(e);\n        }\n        function triggerEvent(event, data) {\n            // If the instance has been destroyed already, all hooks have been removed\n            if (self.config === undefined)\n                return;\n            var hooks = self.config[event];\n            if (hooks !== undefined && hooks.length > 0) {\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\n                    hooks[i](self.selectedDates, self.input.value, self, data);\n            }\n            if (event === \"onChange\") {\n                self.input.dispatchEvent(createEvent(\"change\"));\n                // many front-end frameworks bind to the input event\n                self.input.dispatchEvent(createEvent(\"input\"));\n            }\n        }\n        function createEvent(name) {\n            var e = document.createEvent(\"Event\");\n            e.initEvent(name, true, true);\n            return e;\n        }\n        function isDateSelected(date) {\n            for (var i = 0; i < self.selectedDates.length; i++) {\n                if (compareDates(self.selectedDates[i], date) === 0)\n                    return \"\" + i;\n            }\n            return false;\n        }\n        function isDateInRange(date) {\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n                return false;\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\n                compareDates(date, self.selectedDates[1]) <= 0);\n        }\n        function updateNavigationCurrentMonth() {\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\n                return;\n            self.yearElements.forEach(function (yearElement, i) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                if (self.config.showMonths > 1 ||\n                    self.config.monthSelectorType === \"static\") {\n                    self.monthElements[i].textContent =\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n                }\n                else {\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\n                }\n                yearElement.value = d.getFullYear().toString();\n            });\n            self._hidePrevMonthArrow =\n                self.config.minDate !== undefined &&\n                    (self.currentYear === self.config.minDate.getFullYear()\n                        ? self.currentMonth <= self.config.minDate.getMonth()\n                        : self.currentYear < self.config.minDate.getFullYear());\n            self._hideNextMonthArrow =\n                self.config.maxDate !== undefined &&\n                    (self.currentYear === self.config.maxDate.getFullYear()\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                        : self.currentYear > self.config.maxDate.getFullYear());\n        }\n        function getDateStr(format) {\n            return self.selectedDates\n                .map(function (dObj) { return self.formatDate(dObj, format); })\n                .filter(function (d, i, arr) {\n                return self.config.mode !== \"range\" ||\n                    self.config.enableTime ||\n                    arr.indexOf(d) === i;\n            })\n                .join(self.config.mode !== \"range\"\n                ? self.config.conjunction\n                : self.l10n.rangeSeparator);\n        }\n        /**\n         * Updates the values of inputs associated with the calendar\n         */\n        function updateValue(triggerChange) {\n            if (triggerChange === void 0) { triggerChange = true; }\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\n                self.mobileInput.value =\n                    self.latestSelectedDateObj !== undefined\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                        : \"\";\n            }\n            self.input.value = getDateStr(self.config.dateFormat);\n            if (self.altInput !== undefined) {\n                self.altInput.value = getDateStr(self.config.altFormat);\n            }\n            if (triggerChange !== false)\n                triggerEvent(\"onValueUpdate\");\n        }\n        function onMonthNavClick(e) {\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\n            var isNextMonth = self.nextMonthNav.contains(e.target);\n            if (isPrevMonth || isNextMonth) {\n                changeMonth(isPrevMonth ? -1 : 1);\n            }\n            else if (self.yearElements.indexOf(e.target) >= 0) {\n                e.target.select();\n            }\n            else if (e.target.classList.contains(\"arrowUp\")) {\n                self.changeYear(self.currentYear + 1);\n            }\n            else if (e.target.classList.contains(\"arrowDown\")) {\n                self.changeYear(self.currentYear - 1);\n            }\n        }\n        function timeWrapper(e) {\n            e.preventDefault();\n            var isKeyDown = e.type === \"keydown\", input = e.target;\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n            var newValue = curValue + step * delta;\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n                if (newValue < min) {\n                    newValue =\n                        max +\n                            newValue +\n                            int(!isHourElem) +\n                            (int(isHourElem) && int(!self.amPM));\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, -1, self.hourElement);\n                }\n                else if (newValue > max) {\n                    newValue =\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, 1, self.hourElement);\n                }\n                if (self.amPM &&\n                    isHourElem &&\n                    (step === 1\n                        ? newValue + curValue === 23\n                        : Math.abs(newValue - curValue) > step)) {\n                    self.amPM.textContent =\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n                }\n                input.value = pad(newValue);\n            }\n        }\n        init();\n        return self;\n    }\n    /* istanbul ignore next */\n    function _flatpickr(nodeList, config) {\n        // static list\n        var nodes = Array.prototype.slice\n            .call(nodeList)\n            .filter(function (x) { return x instanceof HTMLElement; });\n        var instances = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            try {\n                if (node.getAttribute(\"data-fp-omit\") !== null)\n                    continue;\n                if (node._flatpickr !== undefined) {\n                    node._flatpickr.destroy();\n                    node._flatpickr = undefined;\n                }\n                node._flatpickr = FlatpickrInstance(node, config || {});\n                instances.push(node._flatpickr);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return instances.length === 1 ? instances[0] : instances;\n    }\n    /* istanbul ignore next */\n    if (typeof HTMLElement !== \"undefined\" &&\n        typeof HTMLCollection !== \"undefined\" &&\n        typeof NodeList !== \"undefined\") {\n        // browser env\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n        HTMLElement.prototype.flatpickr = function (config) {\n            return _flatpickr([this], config);\n        };\n    }\n    /* istanbul ignore next */\n    var flatpickr = function (selector, config) {\n        if (typeof selector === \"string\") {\n            return _flatpickr(window.document.querySelectorAll(selector), config);\n        }\n        else if (selector instanceof Node) {\n            return _flatpickr([selector], config);\n        }\n        else {\n            return _flatpickr(selector, config);\n        }\n    };\n    /* istanbul ignore next */\n    flatpickr.defaultConfig = {};\n    flatpickr.l10ns = {\n        en: __assign({}, english),\n        \"default\": __assign({}, english)\n    };\n    flatpickr.localize = function (l10n) {\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\n    };\n    flatpickr.setDefaults = function (config) {\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\n    };\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n    /* istanbul ignore next */\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n        jQuery.fn.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Date.prototype.fp_incr = function (days) {\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n    if (typeof window !== \"undefined\") {\n        window.flatpickr = flatpickr;\n    }\n\n    return flatpickr;\n\n}));\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","<!-- Most of this is adapted from svelte-flatpickr, modified to work with svelte3 -->\n<script>\n  import flatpickr from 'flatpickr'\n  import { onMount, onDestroy, createEventDispatcher } from 'svelte'\n  import 'flatpickr/dist/flatpickr.css'\n  import '../../public/calendar-theme.css'\n\n  const dispatch = createEventDispatcher()\n\n  let dateInput\n  let fp\n  export let value\n  export let placeholder = ''\n  export let className = ''\n  export let options = {}\n\n  const hooks = new Set([\n    'onChange',\n    'onOpen',\n    'onClose',\n    'onMonthChange',\n    'onYearChange',\n    'onReady',\n    'onValueUpdate',\n    'onDayCreate'\n  ])\n\n  onMount(() => {\n    fp = flatpickr(dateInput, addHooks(options))\n  })\n\n  $: if (fp && value) {\n    fp.setDate(value)\n  }\n\n  onDestroy(() => { if (fp && 'destroy' in fp) fp.destroy() })\n\n  const addHooks = (options) => {\n    options = Object.assign({}, options)\n    for (const hook of hooks) {\n      const dispatcher = (selectedDates, dateString, instance) => {\n        dispatch(stripOn(hook), [selectedDates, dateString, instance])\n      }\n      if (hook in options) {\n        // Hooks must be arrays\n        if (!Array.isArray(options[hook])) {\n          options[hook] = [options[hook]]\n        }\n        options[hook].push(dispatcher)\n      } else {\n        options[hook] = [dispatcher]\n      }\n    }\n    if (options.onChange && !options.onChange.includes(updateValue)) {\n      options.onChange.push(updateValue)\n    }\n    return options\n  }\n  const updateValue = (newValue) => {\n    if (Array.isArray(newValue) && newValue.length === 1) {\n      newValue = newValue[0]\n    }\n    value = newValue\n  }\n  const stripOn = (hook) => {\n    return hook.charAt(2).toLowerCase() + hook.substring(3)\n  }\n</script>\n\n<style>\n  input {\n    width: 308px;\n  }\n</style>\n\n<input bind:this={dateInput} bind:value type=\"date\" class={className} placeholder={placeholder} />","<script>\n  import { createEventDispatcher } from 'svelte'\n  import { notifications } from '../notifications'\n  import Input from '../Input.svelte'\n  import DatePicker from '../DatePicker.svelte'\n  import Error from '../Error.svelte'\n\n  let saveButton\n  let form\n  let startDate\n  let endDate\n  export let errors\n  export let loading\n  export let name = ''\n  export let defaultDate = null\n  const options = {\n    inline: true,\n    mode: 'range',\n    enableTime: false,\n    altInput: true,\n    altFormat: 'M j, Y',\n    dateFormat: 'Y-m-d'\n  }\n\n  const dispatch = createEventDispatcher()\n\n  $: if (saveButton) { saveButton.disabled = loading }\n\n  const handleChange = (selectedDates) => {\n    if (selectedDates.length === 2) {\n      startDate = selectedDates[0].toISOString()\n      endDate = new Date(selectedDates[1].setHours(23, 59, 59, 999)).toISOString()\n    }\n  }\n  const handleSubmit = () => {\n    const isValid = form.checkValidity()\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    dispatch('submit', { name, startDate, endDate })\n  }\n</script>\n\n<style>\n  .buttons {\n    padding-top: 1rem;\n  }\n\n  form {\n    max-width: 308px;\n  }\n</style>\n\n<h1 class=\"title\">{#if defaultDate}Edit{:else}Create{/if} semester</h1>\n\n<form novalidate bind:this={form} on:submit|preventDefault={handleSubmit} on:reset >\n  <Error {errors}/>\n  <Input bind:value={name} label=\"Name\" placeholder=\"i.e. 'Autumn 1978'\" required />\n  <label class=\"label\" >\n    Start and end dates\n  </label>\n  <DatePicker bind:value={defaultDate} placeholder=\"Pick two dates below\" className=\"input\" {options} on:change={(event) =>\n    handleChange(...event.detail)} />\n  <div class=\"buttons\">\n    <button type=\"submit\" class=\"button is-primary\" class:is-loading={loading} bind:this={saveButton}>Save term</button>\n    <input type=\"reset\" class=\"button\" value=\"Cancel\">\n  </div>\n</form>","<script>\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { notifications } from '../notifications'\n  import Modal from '../Modal.svelte'\n  import TermForm from './TermForm.svelte'\n  import { CREATE_TERM } from '../../data/mutations'\n  import { TERMS_AND_ALL } from '../../data/queries'\n\n  let loading = false\n  let errors = ''\n  let open = false\n\n  const reset = () => {\n    errors = ''\n    open = false\n  }\n\n  const save = async ({ detail }) => {\n    loading = true\n    try {\n      await mutate(client, {\n        mutation: CREATE_TERM,\n        variables: { ...detail },\n        update: (cache, { data: { createTerm } }) => {\n          const data = cache.readQuery({ query: TERMS_AND_ALL })\n          data.terms.push(createTerm)\n          cache.writeQuery({ query: TERMS_AND_ALL, data })\n        }\n      })\n      notifications.add({ text: `Saved new term '${detail.name}'`, type: 'success' })\n      reset()\n    } catch (error) {\n      errors = error\n      notifications.add({\n        text: 'Could not save new term.',\n        type: 'danger'\n      })\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n\n  button {\n    margin: 1rem 0;\n  }\n</style>\n\n<button class=\"button is-primary\" on:click={() => { open = true }}><i class=\"fas fa-plus\"></i>Create a term</button>\n<Modal bind:open>\n  <TermForm on:reset={reset} on:submit={save} {errors} {loading} />\n</Modal>","<script>\n  import { auth } from '../../data/auth'\n  import AddCourse from '../courses/AddCourse.svelte'\n  import CategorizedCourseList from '../courses/CategorizedCourseList.svelte'\n  import CreateTerm from './CreateTerm.svelte'\n\n  export let terms\n\n  const now = new Date().toJSON()\n\n  $: currentTerm = terms && terms.find(t => t.startDate < now && t.endDate > now)\n  $: nextTerm = terms && terms.find(t => t.startDate > now)\n  $: otherTerms = terms && terms.filter(t => {\n    if (currentTerm && t.id === currentTerm.id) return false\n    if (nextTerm && t.id === nextTerm.id) return false\n    return true\n  })\n</script>\n\n<style>\n  section.term {\n    margin: 2rem 1rem;\n  }\n</style>\n\n{#if !currentTerm}\n  <p>There is no term currently in session.</p>\n{:else}\n\n  <section class=\"term\">\n\n    {#if currentTerm.courses}\n      <h2 class=\"title is-4\">Current term: {currentTerm.name} </h2>\n      <CategorizedCourseList courses={currentTerm.courses} />\n      {#if $auth.role === 'Teacher'}\n        <AddCourse termId={currentTerm.id} />\n      {/if}\n    {/if} <!-- currentTerm.courses -->\n\n  </section>\n\n{/if} <!-- !currentTerm -->\n\n{#if $auth.role === 'Teacher'}\n  {#if !nextTerm}\n\n    <p>There are also no upcoming terms recorded yet.</p>\n    <CreateTerm/>\n\n  {:else}\n\n    <section class=\"term\">\n      {#if nextTerm.courses}\n        <h2 class=\"title is-4\">Next term: {nextTerm.name}</h2>\n        <CategorizedCourseList courses={nextTerm.courses} />\n        <AddCourse termId={nextTerm.id} />\n      {/if} <!-- nextTerm.courses -->\n    </section>\n\n  {/if} <!-- !nextTerm -->\n\n  {#each otherTerms as term (term.id)}\n    <section class=\"term\">\n      <h2 class=\"title is-4\">{term.name}</h2>\n      {#if term.courses && term.courses.length > 0}\n        <CategorizedCourseList courses={term.courses} />\n      {/if}\n      <AddCourse termId={term.id} />\n    </section>\n  {/each}\n{/if} <!-- $auth.role === 'Teacher -->\n\n{#if $auth.role === 'Student'}\n  <a href=\"#/join-course\" class=\"button\">Join a course</a>\n{/if}","<script>\n  export let what = 'things'\n</script>\n\n<style>\n  div {\n    width: 100%;\n    text-align: center;\n    padding: 1rem;\n  }\n\n  .spinner {\n    color: #14a098;\n    width: 3rem;\n    padding: 0.5rem;\n  }\n</style>\n\n<div>\n  <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"circle-notch\"\n    class=\"svg-inline--fa fa-circle-notch fa-w-16 fa-spin spinner\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\">\n    <path fill=\"currentColor\"\n      d=\"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z\">\n    </path>\n  </svg>\n  <p>\n    Loading {what} ...\n  </p>\n</div>","<script>\n  import { TERMS_AND_ALL } from '../../data/queries'\n  import { query, restore } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import TermsList from './TermsList.svelte'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n\n  const termsCache = query(client, { query: TERMS_AND_ALL })\n</script>\n\n{#await $termsCache}\n    <Loading what=\"terms and courses\" />\n  {:then result}\n    {#if result.data}\n    <TermsList terms={result.data.terms}/>\n    {/if}\n    {:catch errors}\n    <Error {errors}/>\n  {/await}","import { readable, writable } from 'svelte/store'\n\nexport function sleep (ms) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n\nexport const nowSession = writable()\nexport const imminentSession = writable()\nexport const currentQuestion = writable()\n\nexport const time = readable(new Date(), set => {\n  const interval = setInterval(() => {\n    set(new Date())\n  }, 1000)\n  return () => clearInterval(interval)\n})\n\nexport const everyMinute = readable(new Date(), set => {\n  const interval = setInterval(() => {\n    set(new Date())\n  }, 6e+4)\n  return () => clearInterval(interval)\n})\n\nexport const every15Seconds = readable(new Date(), set => {\n  const interval = setInterval(() => {\n    set(new Date())\n  }, 15000)\n  return () => clearInterval(interval)\n})\n\nexport const every2Hours = readable(new Date(), set => {\n  const interval = setInterval(() => {\n    set(new Date())\n  }, 2 * 3.6e+6)\n  return () => clearInterval(interval)\n})\n","<script>\n  export let answer\n  export let responses\n  export let totalResponses\n\n  $: percentage = responses.length === 0 || !totalResponses ? 0\n    : parseInt((responses.length / totalResponses) * 100)\n</script>\n\n<li>\n  <strong>{answer.text}</strong>\n  {#if responses.length > 0}\n  {responses.length} votes ({percentage}%)\n  {/if}\n</li>","<script>\n  import { onMount } from 'svelte'\n  import { client } from '../../data/apollo'\n  import { RESPONSES, RESPONSE_SUBSCRIPTION } from '../../data/queries'\n  import TeacherAnswerRow from './TeacherAnswerRow.svelte'\n\n  export let question\n  let responses = []\n\n  onMount(async () => {\n    const responsesResult = await client.query({\n      query: RESPONSES,\n      variables: { questionId: question.id }\n    })\n    responses = responsesResult.data.responses\n    client.subscribe({\n      query: RESPONSE_SUBSCRIPTION,\n      variables: { questionId: question.id }\n    }).subscribe({\n      next (result) {\n        responses = [...responses, result.data.responses]\n      }\n    })\n  })\n</script>\n\n<style>\n  .answers {\n    padding: 1rem;\n  }\n\n  .answers p {\n    margin-bottom: 1rem;\n  }\n</style>\n\n<div class=\"answers\">\n  <p>{responses.length} responses total:</p>\n  {#each question.answers as answer (answer.id)}\n      <TeacherAnswerRow \n      {answer} \n      responses={responses.filter(r => r.answer.id === answer.id)}\n      totalResponses={responses.length}\n      />\n    {/each}\n</div>","<script>\n  import { notifications } from '../notifications'\n  import { formatRelative } from 'date-fns'\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { currentQuestion } from './stores'\n  import { ASK_QUESTION } from '../../data/mutations'\n  import TeacherAnswers from './TeacherAnswers.svelte'\n\n  export let question\n  let asked = false\n  let loading = false\n\n  $: isCurrent = $currentQuestion && $currentQuestion.id === question.id\n\n  const select = () => {\n    currentQuestion.set(question)\n  }\n  const send = async () => {\n    loading = true\n    try {\n      mutate(client, {\n        mutation: ASK_QUESTION,\n        variables: { id: question.id }\n      })\n      asked = true\n      notifications.add({ text: 'Successfully sent question', type: 'success' })\n    } catch (error) {\n      console.error(error)\n      notifications.add({ text: 'Could not send question', type: 'danger' })\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  li {\n    list-style: none;\n    padding: 0.5rem;\n    cursor: pointer;\n  }\n\n  li:hover {\n    background: black;\n    border: 1px solid grey;\n  }\n\n  li.current {\n    border: 1px solid grey;\n    background: black;\n    cursor: inherit;\n  }\n\n  li.current .question {\n    font-size: 1.6rem;\n  }\n\n  button i {\n    margin-right: 0.5rem;\n  }\n\n  .buttons {\n    display: flex;\n    justify-content: space-between;\n  }\n</style>\n\n<li class:current={isCurrent}>\n\n  <div class=\"question\" on:click={select}>\n    {question.order + 1}. {question.text}\n    {#if !isCurrent}\n      <span class=\"is-pulled-right\"><i class=\"fas fa-check\"></i></span>\n    {/if}\n  </div>\n\n  {#if isCurrent}\n    <TeacherAnswers {question} />\n    <div class=\"buttons\">\n      {#if question.asked}\n        <span>Asked {formatRelative(new Date(question.asked), new Date())}</span>\n      {/if}\n      <button class:is-loading={loading} class=\"button is-primary\" on:click={send}>\n        <i class=\"fas fa-paper-plane\"></i>\n        {asked || question.asked ? 'Send again' : 'Send'}\n      </button>\n    </div>\n  {/if}\n\n</li>","<script>\n  import TeacherQuestionCard from './TeacherQuestionCard.svelte'\n  export let questions\n</script>\n\n<style>\n  .question-list {\n    margin-top: 1rem;\n  }\n</style>\n\n<section class=\"question-list\">\n  <h2 class=\"title is-4\">Questions</h2>\n  <p>Click a question to expand.</p>\n  {#if questions && questions.length}\n    {#each questions as question (question.id)}\n      <TeacherQuestionCard {question} />\n    {/each}\n  {/if}\n</section>","<script>\n  import { query } from 'svelte-apollo'\n  import { nowSession } from './stores'\n  import { client } from '../../data/apollo'\n  import { ACTIVE_TEACHER_SESSION } from '../../data/queries'\n  import Error from '../Error.svelte'\n  import Loading from '../Loading.svelte'\n  import TeachersQuestions from './TeachersQuestions.svelte'\n\n  const sessionCache = query(client, {\n    query: ACTIVE_TEACHER_SESSION,\n    variables: { id: $nowSession.id }\n  })\n</script>\n\n{#await $sessionCache}\n  <Loading what=\"Session data and questions\" />\n{:then result}\n  {#if result.data.session}\n    <TeachersQuestions questions={result.data.session.questions} />\n  {/if}\n{:catch errors}\n  <Error {errors}/>\n{/await}","<script>\n  import { mutate } from 'svelte-apollo'\n  import { ANSWER_QUESTION } from '../../data/mutations'\n  import { client } from '../../data/apollo'\n  import { auth } from '../../data/auth'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n\n  export let question\n  let answered = ''\n  let loading = false\n  let errors = ''\n\n  const respond = async (answer) => {\n    loading = true\n    try {\n      await mutate(client, {\n        mutation: ANSWER_QUESTION,\n        variables: {\n          questionId: question.id,\n          answerId: answer.id,\n          studentId: $auth.id,\n          sessionId: question.session.id\n        }\n      })\n      answered = answer.text\n    } catch (error) {\n      errors = error\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  section.question {\n    width: 100%;\n    margin-top: 1rem;\n    padding: 1rem;\n  }\n\n  button {\n    margin: 0.5rem;\n  }\n\n  li {\n    list-style: none;\n  }\n</style>\n\n<section class=\"question\">\n  <h2 class=\"title\"> {question.text}</h2>\n\n  <Error {errors} />\n  {#if loading}\n    <Loading what=\"response\" />\n  {:else if answered}\n    <p>You Answered: {answered}</p>\n  {:else}\n    <ul>\n      {#each question.answers as answer (answer.id)}\n        <li>\n          <button class=\"button is-primary\" on:click={() => { respond(answer) }}>{answer.text}</button>\n        </li>\n      {/each}\n    </ul>\n  {/if}\n</section>","<script>\n  import { subscribe } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { QUESTION_SUB } from '../../data/queries'\n  import { nowSession } from './stores'\n  import StudentQuestionCard from './StudentQuestionCard.svelte'\n\n  const newQuestions = subscribe(client, {\n    query: QUESTION_SUB,\n    variables: { sessionId: $nowSession.id }\n  })\n</script>\n\n{#await $newQuestions}\n  Waiting for questions...\n{:then result}\n  <StudentQuestionCard question={result.data.questions}/>\n{/await}","<script>\n  import { formatRelative } from 'date-fns'\n  import { auth } from '../../data/auth'\n  import { nowSession, every15Seconds } from './stores'\n  import ActiveTeacherSession from './ActiveTeacherSession.svelte'\n  import ActiveStudentSession from './ActiveStudentSession.svelte'\n\n  const formatDate = (date) => {\n    const string = formatRelative(new Date(date), new Date())\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  const exit = () => {\n    $nowSession.set()\n  }\n  $: classIsOver = $nowSession.endsAt < $every15Seconds.toJSON()\n</script>\n\n<h1 class=\"title\">{$nowSession.course.name}</h1>\n<p class=\"subtitle\">Lesson {$nowSession.order}</p>\n\n<p>Started {formatDate(new Date($nowSession.startsAt), { addSuffix: true })}</p>\n\n{#if classIsOver}\n  <p>This class was scheduled to end {formatDate(new Date($nowSession.endsAt))}.</p>\n  <button class=\"button is-primary\" on:click={exit}>Exit class</button>\n{/if}\n\n{#if $auth.role === 'Teacher'}\n  <ActiveTeacherSession/>\n{/if}\n\n{#if $auth.role === 'Student'}\n  <ActiveStudentSession/>\n{/if}","<script>\n  import { formatDistanceStrict } from 'date-fns'\n  import TermsLoader from '../terms/TermsLoader.svelte'\n  import { nowSession, imminentSession } from './stores'\n  import ActiveSession from './ActiveSession.svelte'\n</script>\n\n<style>\n  .countdown {\n    padding: 2rem;\n    text-align: center;\n    font-size: 2rem;\n  }\n\n  .big {\n    font-size: 3rem;\n  }\n</style>\n\n<svelte:head>\n  <title>Dashboard</title>\n</svelte:head>\n\n{#if $nowSession}\n  <ActiveSession />\n{:else if $imminentSession}\n<section class=\"countdown\">\n    <h2 class=\"title is-3\">{$imminentSession.course.name}</h2> \n      <h2 class=\"subtitle is-5\">Lesson {$imminentSession.order}</h2>\n      <p>starts in...</p>\n    <p class=\"big\">{formatDistanceStrict(new Date($imminentSession.startsAt), new Date(), { addSuffix: true })}</p>\n</section>\n  {:else}\n  <TermsLoader />\n{/if}","<script>\n  import { location, pop } from 'svelte-spa-router'\n</script>\n<style>\n  .container {\n    margin: 4rem;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n  }\n\n  .primary {\n    color: #cb2d6f;\n  }\n\n  .button {\n    margin-top: 1rem;\n  }\n</style>\n\n<div class=\"container\">\n  <section>\n    <h1 class=\"title is-1 primary\">\n      <i class=\"fas fa-frown-open\"></i>&nbsp;404\n    </h1>\n    <h2 class=\"subtitle is-3\">resource not found</h2>\n\n    <p>The path '{$location}' leads nowhere</p>\n    <p>It might be wise to return to the <a href=\"#/\">main page</a>.</p>\n    <button on:click={() => pop()} class=\"button is-link\"><i class=\"fas fa-backward\"></i>&nbsp;go back</button>\n  </section>\n</div>","<script>\n  import { push } from 'svelte-spa-router'\n  import { mutate } from 'svelte-apollo'\n  import { notifications } from '../notifications'\n  import { auth } from '../../data/auth'\n  import { ADD_STUDENT_TO_COURSE } from '../../data/mutations'\n  import { client } from '../../data/apollo'\n  import Input from '../Input.svelte'\n  import Error from '../Error.svelte'\n\n  let code = ''\n  let form\n  let submit\n  let loading = false\n  let errors = ''\n\n  const join = async () => {\n    const isValid = form.checkValidity()\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    loading = true\n    submit.disabled = true\n    try {\n      const response = await mutate(client, {\n        mutation: ADD_STUDENT_TO_COURSE,\n        variables: { id: $auth.id, code }\n      })\n      errors = ''\n      notifications.add({ text: `Student ${$auth.name} added to ${response.data.addStudentToCourse.name}`, type: 'success' })\n      push('/')\n    } catch (error) {\n      errors = error\n      notifications.add({ text: 'registration failed.', type: 'danger' })\n    } finally {\n      loading = false\n      submit.disabled = false\n    }\n  }\n</script>\n\n<style>\n  .container-centered {\n    margin-top: 10vh;\n    display: flex;\n    justify-content: center;\n  }\n</style>\n\n<div class=\"container-centered\">\n  <div class=\"join-course\">\n\n    <h1 class=\"title\">Join a course</h1>\n\n    <p>\n      Simply enter the code word given by your instructor and you'll be added to\n      the course roster.\n    </p>\n\n    <br />\n\n    <Error {errors} />\n    <form bind:this=\"{form}\" novalidate on:submit|preventDefault=\"{join}\">\n      <Input label=\"Code word\" bind:value=\"{code}\" required />\n\n      <button type=\"submit\" class=\"button is-primary\" class:is-loading=\"{loading}\" bind:this=\"{submit}\">\n        Join!\n      </button>\n    </form>\n  </div>\n</div>","<script>\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { ME } from '../../data/queries'\n  import Loading from '../Loading.svelte'\n  import DL from '../DL.svelte'\n  import Error from '../Error.svelte'\n\n  const me = query(client, { query: ME })\n</script>\n\n<h1 class=\"title\">User Profile</h1>\n\n{#await $me}\n  <Loading what=\"User\" />\n{:then result}\n  {#if result.data && result.data.me}\n    <DL>\n      <dt>Role:</dt>\n      <dd>{result.data.me.role}</dd>\n\n      <dt>{result.data.me.role === 'Student' ? 'Student ID:' : 'Username:'}</dt>\n      <dd>{result.data.me.username}</dd>\n\n      <dt>Name:</dt>\n      <dd>{result.data.me.name}</dd>\n      \n      <dt>ID:</dt>\n      <dd>{result.data.me.id}</dd>\n\n      {#if result.data.me.coursesAttending.length > 0}\n      <dt>Courses attending:</dt>\n      <dd>{result.data.me.coursesAttending.length} total \n        {#each result.data.me.coursesAttending as course (course.id)}\n          <li>{course.name}</li>\n        {/each}\n      </dd>\n      {/if}\n\n      {#if result.data.me.coursesTeaching.length > 0}\n      <dt>Courses teaching:</dt>\n      <dd>{result.data.me.coursesTeaching.length} total \n        {#each result.data.me.coursesTeaching as course (course.id)}\n          <li>{course.name}</li>\n        {/each}\n      </dd>\n      {/if}\n\n    </DL>\n  {/if}\n{:catch errors}\n  <Error {errors} />\n{/await}","<script>\n  import { formatRelative } from 'date-fns'\n  import { auth } from '../../data/auth'\n  import CategorizedCourseList from '../courses/CategorizedCourseList.svelte'\n  import AddCourse from '../courses/AddCourse.svelte'\n\n  export let term\n\n  const format = (date) => {\n    const string = formatRelative(new Date(date), new Date())\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n</script>\n\n<style>\n  section.term {\n    margin: 2rem 1rem;\n  }\n</style>\n\n<svelte:head>\n  <title>{term.name}</title>\n</svelte:head>\n\n<h1 class=\"title is-3\">{term.name}</h1>\n<p class=\"subtitle\">{format(term.startDate)} to {format(term.endDate)}</p>\n\n<section class=\"term\">\n  <CategorizedCourseList courses={term.courses} />\n\n  {#if $auth.role === 'Teacher'}\n    <AddCourse termId={term.id} />\n  {/if}\n</section>","<script>\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { TERM } from '../../data/queries'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n  import TermDetails from './TermDetails.svelte'\n\n  export let params = {}\n\n  const termCache = query(client, {\n    query: TERM,\n    variables: { id: params.id }\n  })\n</script>\n\n<svelte:head>\n  <title>Term Details</title>\n</svelte:head>\n\n{#await $termCache}\n    <Loading what=\"session\"/>\n  {:then result}\n    {#if result && result.data && result.data.term}\n      <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n        <ul>\n          <li><a href=\"#/terms\">Terms</a></li>\n        </ul>\n      </nav>\n      <TermDetails term={result.data.term}/>\n    {/if}\n  {:catch errors}\n    <Error {errors} />\n  {/await}","<script>\n  import TermsLoader from './TermsLoader.svelte'\n  import { auth } from '../../data/auth'\n  import CreateTerm from './CreateTerm.svelte'\n</script>\n\n<svelte:head>\n  <title>Terms</title>\n</svelte:head>\n\n<nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n  <ul>\n    <li><a href=\"#/\">Home</a></li>\n    <li class=\"is-active\"><a href=\"#/terms\" aria-current=\"page\">Terms</a></li>\n  </ul>\n</nav>\n\n<h1 class=\"title is-3\">All Terms</h1>\n\n{#if $auth.role === 'Teacher'}\n  <CreateTerm />\n{/if}\n\n<TermsLoader />","<script>\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { notifications } from '../notifications'\n  import { ADD_TEACHER_TO_COURSE } from '../../data/mutations'\n\n  export let user\n  export let course\n  let loading = false\n\n  const joinCourse = async () => {\n    loading = true\n    try {\n      const response = await mutate(client, {\n        mutation: ADD_TEACHER_TO_COURSE,\n        variables: { id: user, courseId: course.id }\n      })\n      notifications.add({ text: `Successfully added teacher to ${response.data.addTeacherToCourse.name}`, type: 'success' })\n    } catch (error) {\n      console.error(error)\n      notifications.add({ text: 'Failed to add teacher to course', type: 'danger' })\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n</style>\n\n<button class=\"button is-small\" class:is-loading={loading} on:click={joinCourse}><i\n    class=\"fas fa-user-plus\"></i>Join</button>","<script>\n  import { mutate } from 'svelte-apollo'\n  import { notifications } from '../notifications'\n  import { client } from '../../data/apollo'\n  import Error from '../Error.svelte'\n  import { REMOVE_TEACHER_FROM_COURSE } from '../../data/mutations'\n\n  export let user\n  export let course\n\n  let loading = false\n  let errors = ''\n\n  const leaveCourse = async () => {\n    loading = true\n    try {\n      const response = await mutate(client, {\n        mutation: REMOVE_TEACHER_FROM_COURSE,\n        variables: { id: user, courseId: course.id }\n      })\n      errors = ''\n      notifications.add({ text: `Successfully removed teacher from ${response.data.removeTeacherFromCourse.name}`, type: 'success' })\n    } catch (error) {\n      errors = error\n      notifications.add({ text: 'Failed remove teacher from course course', type: 'danger' })\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<button class=\"button is-small\" class:is-loading={loading} on:click={leaveCourse}>Leave</button>\n<Error {errors} />","<script>\n  import { createEventDispatcher } from 'svelte'\n  import { notifications } from '../notifications'\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { DELETE_COURSE } from '../../data/mutations'\n  import { TERMS_AND_ALL } from '../../data/queries'\n\n  export let course\n  const loading = false\n\n  const dispatch = createEventDispatcher()\n\n  const remove = async () => {\n    try {\n      await mutate(client, {\n        mutation: DELETE_COURSE,\n        variables: { id: course.id },\n        update: (cache, { data: { deleteCourse } }) => {\n          const data = cache.readQuery({ query: TERMS_AND_ALL })\n          let courseIndex = null\n          const termIndex = data.terms.findIndex(t => {\n            courseIndex = t.courses.findIndex(c => c.id === course.id)\n            return courseIndex > -1\n          })\n          data.terms[termIndex].courses.splice(courseIndex, 1)\n          cache.writeQuery({ query: TERMS_AND_ALL, data })\n        }\n      })\n      notifications.add({ text: 'Course delete successfully', type: 'success' })\n      dispatch('delete')\n    } catch (error) {\n      notifications.add({ text: 'Course could not be deleted', type: 'danger' })\n    }\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n</style>\n\n<button class=\"button\" class:is_loading={loading} on:click={remove}><i class=\"fas fa-trash\"></i>Delete Course</button>","<script>\n  import { format } from 'date-fns'\n  import { createEventDispatcher } from 'svelte'\n  import { notifications } from '../notifications'\n  import Input from '../Input.svelte'\n  import Error from '../Error.svelte'\n\n  let saveButton\n  let form\n  export let session = {}\n  export let startsAt = ''\n  export let endsAt = ''\n  export let errors\n  export let loading\n\n  const dispatch = createEventDispatcher()\n\n  $: if (saveButton) { saveButton.disabled = loading }\n\n  const handleSubmit = () => {\n    const isValid = form.checkValidity()\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    dispatch('submit', { startsAt, endsAt })\n  }\n</script>\n\n<style>\n  .buttons {\n    padding-top: 1rem;\n  }\n\n  form {\n    max-width: 308px;\n  }\n</style>\n\n<h1 class=\"title\">{#if session.id}Edit{:else}Create{/if} Session</h1>\n  \n  <form novalidate bind:this={form} on:submit|preventDefault={handleSubmit} on:reset >\n    <Error {errors}/>\n    <Input label=\"Start time\" type=\"datetime-local\" bind:value={startsAt} required min={format(new Date(), \"yyyy-MM-dd'T'HH:mm\")} />\n    <Input label=\"End time\" type=\"datetime-local\" bind:value={endsAt} required min={format(new Date(), \"yyyy-MM-dd'T'HH:mm\")} />\n    <div class=\"buttons\">\n      <button type=\"submit\" class=\"button is-primary\" class:is-loading={loading} bind:this={saveButton}>Save session</button>\n      <input type=\"reset\" class=\"button\" value=\"Cancel\">\n    </div>\n  </form>","<script>\n  import { mutate } from 'svelte-apollo'\n  import { auth } from '../../data/auth'\n  import { client } from '../../data/apollo'\n  import { notifications } from '../notifications'\n  import Modal from '../Modal.svelte'\n  import { COURSE, GET_MY_SESSIONS } from '../../data/queries'\n  import { CREATE_SESSION } from '../../data/mutations'\n  import SessionForm from './SessionForm.svelte'\n\n  export let courseId\n  let loading = false\n  let errors = ''\n  let open = false\n\n  const reset = () => {\n    errors = ''\n    open = false\n  }\n\n  const save = async ({ detail }) => {\n    loading = true\n    detail.startsAt = new Date(detail.startsAt).toISOString()\n    detail.endsAt = new Date(detail.endsAt).toISOString()\n    const now = new Date().toJSON()\n    const latest = new Date(new Date().getTime() + 24 * 3.6e+6).toJSON()\n    try {\n      if (detail.startsAt < now || detail.endsAt < now) {\n        throw new Error('New sessions must be in the future.')\n      }\n      if (detail.startsAt > detail.endsAt) {\n        throw new Error('Session ends before it starts.')\n      }\n      await mutate(client, {\n        mutation: CREATE_SESSION,\n        variables: { ...detail, courseId },\n        refetchQueries: [\n          { query: COURSE, variables: { id: courseId } },\n          { query: GET_MY_SESSIONS, variables: { id: $auth.id, now, latest } }\n        ]\n        // update: (cache, { data: { createSession } }) => {\n        //   const data = cache.readQuery({ query: COURSE, variables: { id: courseId } })\n        //   data.course.sessions.push(createSession)\n        //   data.course.sessions.sort((a, b) => a.startsAt.localeCompare(b.startsAt))\n        //   cache.writeQuery({ query: COURSE, data, variables: { id: courseId } })\n        // }\n      })\n      notifications.add({ text: 'Saved new session', type: 'success' })\n      reset()\n    } catch (error) {\n      errors = error\n      notifications.add({\n        text: 'Could not save new session.',\n        type: 'danger'\n      })\n    } finally {\n      loading = false\n    }\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n\n  button {\n    margin: 1rem 0;\n  }\n</style>\n\n<button class=\"button is-primary\" on:click={() => { open = true }}><i class=\"fas fa-plus\"></i>Add a new session</button>\n<Modal bind:open>\n  <SessionForm on:reset={reset} on:submit={save} {errors} {loading} />\n</Modal>","<script>\n  import { formatRelative } from 'date-fns'\n  import { pop } from 'svelte-spa-router'\n  import { auth } from '../../data/auth'\n  import AddTeacherToCourse from './AddTeacherToCourse.svelte'\n  import RemoveTeacherFromCourse from './RemoveTeacherFromCourse.svelte'\n  import DeleteCourse from './DeleteCourse.svelte'\n  import AddSession from '../sessions/AddSession.svelte'\n\n  export let course\n\n  $: isCourseTeacher = course.teachers.find(t => t.id === $auth.id)\n  $: isEnrolled = course.students.find(t => t.id === $auth.id)\n  $: teacherNames = course.teachers.map(teacher => {\n    return $auth.id === teacher.id ? 'You' : teacher.name\n  })\n  const now = new Date().toJSON()\n  $: past = course.sessions.filter(s => s.endsAt < now).sort((a, b) => b.startsAt.localeCompare(a.startsAt))\n  $: future = course.sessions.filter(s => s.endsAt > now).sort((a, b) => a.startsAt.localeCompare(b.startsAt))\n\n  const formatDate = (date) => {\n    const string = formatRelative(new Date(date), new Date())\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n</script>\n\n<style>\n  .subtitle span {\n    margin-right: 0.5rem;\n  }\n\n  .course-details {\n    padding: 1rem;\n  }\n\n  .buttons {\n    margin-top: 0.5rem;\n  }\n\n  li {\n    list-style: none;\n  }\n\n  dl {\n    display: grid;\n    grid-column-gap: 1rem;\n    grid-template-columns: [key] auto [value] auto;\n    grid-template-rows: auto;\n    justify-content: start;\n  }\n\n  dl dt {\n    grid-column: key;\n    justify-self: start;\n    font-weight: bold;\n  }\n\n  dl dd {\n    grid-column: value;\n    justify-self: start;\n  }\n\n  .sessions {\n    margin: 2rem 0 1rem 0;\n  }\n</style>\n\n<svelte:head>\n  <title>{course.name}</title>\n</svelte:head>\n\n<h1 class=\"title is-3\">{course.name}</h1>\n<p class=\"subtitle\">\n  {#if $auth.role === 'Teacher'}\n      <span>You are{!isCourseTeacher ? \"n't\" : ''} a teacher for this class.</span>\n    {#if !isCourseTeacher}\n      <AddTeacherToCourse user={$auth.id} {course} />\n    {:else}\n      <RemoveTeacherFromCourse user={$auth.id} {course} />\n    {/if}\n  {:else}\n    You are{!isEnrolled ? \"n't\" : ''} enrolled in this class.\n  {/if}\n</p>\n\n\n<div class=\"course-details\">\n  <dl>\n    <dt>Teacher(s):</dt>\n    <dd>\n      {teacherNames.length > 0 ? teacherNames.join(', ') : 'none'}\n    </dd>\n    <dt>Students:</dt>\n    <dd>{course.students.length}</dd>\n  </dl>\n\n  {#if $auth.role === 'Teacher'}\n    <div class=\"sessions\">\n      <h3 class=\"title is-5\">Current and future sessions</h3>\n      {#if future.length > 0}\n        {#each future as session (session.id)}\n          <li>\n            <a href=\"#/session/{session.id}\">\n              {session.order}. {formatDate(session.startsAt)}\n            </a>\n          </li>\n        {/each}\n      {/if}\n      <AddSession courseId={course.id} />\n    </div>\n  {/if}  \n\n  {#if past.length > 0}\n    <div class=\"sessions\">\n      <h3 class=\"title is-5\">Past sessions</h3>\n      {#each past as session (session.id)}\n        <li>\n          <a href=\"#/session/{session.id}\">\n            {session.order}. {formatDate(session.startsAt)}\n          </a>\n        </li>\n      {/each}\n    </div>\n  {/if}\n\n  <div class=\"buttons\">\n    {#if $auth.role === 'Teacher'}\n        <!-- Can't be deleted if it has session connection -->\n      {#if !course.sessions || course.sessions.length === 0}\n        <DeleteCourse {course} on:delete={() => pop('/')} />\n      {/if}\n   \n    {/if}\n  </div>\n  \n</div>","<script>\n  import { COURSE } from '../../data/queries'\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n  import CourseDetails from './CourseDetails.svelte'\n\n  export let params = {}\n\n  const courseCache = query(client, {\n    query: COURSE,\n    variables: { id: params.id }\n  })\n</script>\n\n<svelte:head>\n  <title>Course Details</title>\n</svelte:head>\n\n{#await $courseCache}\n  <Loading what=\"course\"/>\n{:then result}\n  {#if result && result.data && result.data.course}\n  <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n      <ul>\n        <li><a href=\"#/terms\">Terms</a></li>\n        <li><a href=\"#/term/{result.data.course.term.id}\">{result.data.course.term.name}</a></li>\n      </ul>\n    </nav>\n  \n    <CourseDetails course={result.data.course} />\n  {/if}\n{:catch errors}\n  <Error {errors} />\n{/await}","<script>\n  import { createEventDispatcher } from 'svelte'\n  import { notifications } from '../notifications'\n  import Input from '../Input.svelte'\n  import Error from '../Error.svelte'\n\n  const dispatch = createEventDispatcher()\n\n  export let errors\n  export let loading = false\n  let form\n  let saveButton\n  export let id = ''\n  export let text = ''\n  export let order = null\n\n  const handleSubmit = () => {\n    const isValid = form.checkValidity()\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    dispatch('submit', { id, text, order })\n  }\n</script>\n\n<h2 class=\"title\">{#if id}Edit{:else}Add{/if} a Question</h2>\n    <Error {errors} />\n    <form novalidate bind:this={form} on:submit|preventDefault={handleSubmit} on:reset>\n      <Input label=\"Text\" type=\"text\" bind:value={text} required />\n      <Input label=\"Order (optional)\" type=\"number\" bind:value={order} min=1 />\n  \n      <div class=\"buttons\">\n          <button class=\"button is-primary\" bind:this={saveButton} type=\"submit\">Save</button>\n          <input class=\"button\" type=\"reset\" value=\"Cancel\" />\n      </div>\n     \n    </form>","<script>\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { CREATE_QUESTION } from '../../data/mutations'\n  import { SESSION } from '../../data/queries'\n  import { notifications } from '../notifications'\n  import Modal from '../Modal.svelte'\n  import QuestionForm from './QuestionForm.svelte'\n\n  export let sessionId\n  let open = false\n  let errors = ''\n  let loading = false\n\n  const reset = () => {\n    errors = ''\n    open = false\n  }\n\n  const add = async ({ detail }) => {\n    loading = true\n    let order\n    detail.order && (order = ((detail.order - 1)))\n    try {\n      await mutate(client, {\n        mutation: CREATE_QUESTION,\n        variables: { text: detail.text, order, sessionId },\n        refetchQueries: [{ query: SESSION, variables: { id: sessionId } }]\n      })\n      notifications.add({ text: `Saved new question`, type: 'success' })\n      reset()\n    } catch (error) {\n      errors = error\n      notifications.add({\n        text: 'Could not save new question.',\n        type: 'danger'\n      })\n    } finally {\n      loading = false\n    }\n    loading = false\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n</style>\n\n<button class=\"button is-primary\" on:click={() => { open = true }}><i class=\"fas fa-plus\"></i>Add a question</button>\n\n<Modal bind:open>\n  <QuestionForm on:reset={reset} on:submit={add} {errors} {loading} />\n</Modal>","<script>\n  import { formatRelative } from 'date-fns'\n  import CreateQuestion from '../questions/CreateQuestion.svelte'\n  import { auth } from '../../data/auth'\n\n  export let session\n\n  const formatDate = (date) => {\n    const string = formatRelative(new Date(date), new Date())\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n</script>\n\n<style>\n  section {\n    margin: 1rem;\n  }\n\n  li {\n    list-style-type: none;\n  }\n</style>\n\n<h1 class=\"title is-3\">Lesson {session.order}</h1>\n<p class=\"subtitle\">{formatDate(session.startsAt)} to {formatDate(session.endsAt)}</p>\n\n<br>\n\n<h2 class=\"title is-4\">{session.questions.length} Questions</h2>\n\n{#if $auth.role === 'Teacher'}\n  <CreateQuestion sessionId={session.id} />\n{/if}\n\n<section class=\"question-list\">\n  {#if session.questions && session.questions.length > 0}\n    {#each session.questions as question (question.id)}\n      <li>\n        {question.order + 1}. <a href=\"#/question/{question.id}\">{question.text}</a>\n      </li>\n    {/each}\n  {/if}\n</section>","<script>\n  import { SESSION } from '../../data/queries'\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n  import SessionDetails from './SessionDetails.svelte'\n\n  export let params = {}\n\n  const sessionCache = query(client, {\n    query: SESSION,\n    variables: { id: params.id }\n  })\n</script>\n\n<svelte:head>\n  <title>Session Details</title>\n</svelte:head>\n\n{#await $sessionCache}\n  <Loading what=\"session\"/>\n{:then result}\n  {#if result && result.data && result.data.session}\n    <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n      <ul>\n        <li><a href=\"#/terms\">Terms</a></li>\n        <li><a href=\"#/term/{result.data.session.course.term.id}\">\n          {result.data.session.course.term.name}\n        </a></li>\n        <li><a href=\"#/course/{result.data.session.course.id}\">\n          {result.data.session.course.name}\n        </a></li>\n      </ul>\n    </nav>\n    <SessionDetails session={result.data.session} />\n  {/if}\n{:catch errors}\n  <Error {errors} />\n{/await}","<script>\n  import AddCourse from './AddCourse.svelte'\n\n  export let courses = []\n\n  $: sortedCourses = [...courses].sort((a, b) => {\n    if (a.term === b.term) return a.name.localeCompare(b.name)\n    return a.term.startDate.localeCompare(b.term.startDate)\n  })\n</script>\n\n<AddCourse />\n\n{#each sortedCourses as course (courses.id)}\n  <li><a href=\"#/course/{course.id}\">{course.name}</a> {course.term.name}</li>\n{/each}","<script>\n  import { COURSES } from '../../data/queries'\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n  import CourseList from './CourseList.svelte'\n\n  const coursesCache = query(client, {\n    query: COURSES\n  })\n</script>\n\n<svelte:head>\n  <title>Courses</title>\n</svelte:head>\n\n<nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n  <ul>\n    <li><a href=\"#/\">Home</a></li>\n    <li><a href=\"#/Terms\">Terms</a></li>\n  </ul>\n</nav>\n\n<h1 class=\"title is-3\">All Courses</h1>\n\n{#await $coursesCache}\n  <Loading what=\"courses\"/>\n{:then result}\n  {#if result && result.data && result.data.courses}\n    <CourseList courses={result.data.courses} />\n  {/if}\n{:catch errors}\n  <Error {errors} />\n{/await}","<script>\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { DELETE_QUESTION } from '../../data/mutations'\n  import { SESSION } from '../../data/queries'\n  import { notifications } from '../notifications'\n  import { push } from 'svelte-spa-router'\n\n  export let id\n  export let next = null\n  export let sessionId\n\n  const remove = async () => {\n    try {\n      await mutate(client, {\n        mutation: DELETE_QUESTION,\n        variables: { id },\n        refetchQueries: [{ query: SESSION, variables: { id: sessionId } }]\n      })\n      notifications.add({ text: `Deleted question`, type: 'success' })\n      push(next || `/session/${sessionId}`)\n    } catch (error) {\n      notifications.add({\n        text: 'Could not delete question.',\n        type: 'danger'\n      })\n    }\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n</style>\n\n<button class=\"button\" on:click={remove}>\n  <i class=\"fas fa-trash\"></i>\n  Delete Question\n</button>","<script>\n  import { mutate } from 'svelte-apollo'\n  import gql from 'graphql-tag'\n  import { client } from '../../data/apollo'\n  import { CREATE_ANSWER } from '../../data/mutations'\n  import { QUESTION } from '../../data/queries'\n  import { QuestionFields } from '../../data/fragments'\n  import { notifications } from '../notifications'\n  import Error from '../Error.svelte'\n  import Input from '../Input.svelte'\n\n  export let questionId\n  let show = false\n  let errors = ''\n  let loading = false\n  let text = ''\n\n  const reset = () => {\n    errors = ''\n    show = false\n  }\n\n  const add = async () => {\n    loading = true\n    try {\n      await mutate(client, {\n        mutation: CREATE_ANSWER,\n        variables: { text, questionId },\n        refetchQueries: [{ query: QUESTION, variables: { id: questionId } }]\n      })\n      notifications.add({ text: `Saved new answer`, type: 'success' })\n      reset()\n    } catch (error) {\n      errors = error\n      notifications.add({\n        text: 'Could not save new question.',\n        type: 'danger'\n      })\n    } finally {\n      loading = false\n    }\n    loading = false\n  }\n</script>\n\n<style>\n  button i {\n    margin-right: 0.5rem;\n  }\n</style>\n\n{#if !show}\n  <button class=\"button is-primary\" on:click={() => { show = true }}>\n    <i class=\"fas fa-plus\"></i>Add an answer\n  </button>\n{:else}\n  <Error {errors} />\n  <Input label=\"Text\" type=\"text\" bind:value={text} required />\n  <button class=\"button is-primary\" class:is-loading={loading} on:click={add}>Save answer</button>\n{/if}","<script>\n  import { mutate } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { DELETE_ANSWER } from '../../data/mutations'\n  import { QUESTION } from '../../data/queries'\n  import { notifications } from '../notifications'\n\n  export let id\n  export let questionId\n\n  const remove = async () => {\n    try {\n      await mutate(client, {\n        mutation: DELETE_ANSWER,\n        variables: { id },\n        refetchQueries: [{ query: QUESTION, variables: { id: questionId } }]\n      })\n      notifications.add({ text: `Deleted answer`, type: 'success' })\n    } catch (error) {\n      notifications.add({\n        text: 'Could not delete answer.',\n        type: 'danger'\n      })\n    }\n  }\n</script>\n\n<button class=\"delete\" on:click={remove}></button>","<script>\n  import DeleteQuestion from './DeleteQuestion.svelte'\n  import CreateAnswer from './CreateAnswer.svelte'\n  import DeleteAnswer from './DeleteAnswer.svelte'\n  import { auth } from '../../data/auth'\n\n  export let question\n</script>\n\n<style>\n  li {\n    list-style-type: none;\n    margin: 1rem;\n  }\n\n  .answers {\n    padding: 1rem;\n  }\n</style>\n\n<h1 class=\"title\">Question {question.order + 1}</h1>\n\n<h2 class=\"title is-5\">{question.text}</h2>\n\n{#if $auth.role === 'Teacher'}\n  <CreateAnswer questionId={question.id} />\n{/if}\n\n<section class=\"answers\">\n  {#if question.answers.length > 0}\n    <ul>\n      {#each question.answers as answer (answer.id)}\n        <li>{answer.text} \n          {#if answer.responses.length === 0 && $auth.role === 'Teacher'}\n            <DeleteAnswer id={answer.id} questionId={question.id} />\n          {/if}\n        </li>\n      {/each}\n    </ul>\n  {/if}\n</section>\n\n{#if question.answers.length === 0 && $auth.role === 'Teacher'}\n  <DeleteQuestion id={question.id} sessionId={question.session.id} />\n{/if}\n\n ","<script>\n  import { QUESTION } from '../../data/queries'\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n  import QuestionDetails from './QuestionDetails.svelte'\n\n  export let params = {}\n\n  const questionCache = query(client, {\n    query: QUESTION,\n    variables: { id: params.id }\n  })\n</script>\n\n<svelte:head>\n  <title>Question Details</title>\n</svelte:head>\n\n{#await $questionCache}\n  <Loading what=\"question\"/>\n{:then result}\n  {#if result && result.data && result.data.question}\n    <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n      <ul>\n        <li><a href=\"#/terms\">Terms</a></li>\n        <li><a href=\"#/term/{result.data.question.session.course.term.id}\">\n          {result.data.question.session.course.term.name}\n        </a></li>\n        <li><a href=\"#/course/{result.data.question.session.course.id}\">\n          {result.data.question.session.course.name}\n        </a></li>\n        <li><a href=\"#/session/{result.data.question.session.id}\">\n          Lesson {result.data.question.session.order}\n        </a></li>\n      </ul>\n    </nav>\n\n    <QuestionDetails question={result.data.question} />\n  {/if}\n{:catch errors}\n  <Error {errors} />\n{/await}","import Signup from './components/Signup.svelte'\nimport Dashboard from './components/dashboard/Dashboard.svelte'\nimport NotFound from './components/NotFound.svelte'\nimport AddStudentToCourse from './components/courses/AddStudentToCourse.svelte'\nimport Profile from './components/profile/Profile.svelte'\nimport Term from './components/terms/Term.svelte'\nimport Terms from './components/terms/Terms.svelte'\nimport Course from './components/courses/Course.svelte'\nimport Session from './components/sessions/Session.svelte'\nimport Courses from './components/courses/Courses.svelte'\nimport Question from './components/questions/Question.svelte'\n\nexport default {\n  '/': Dashboard,\n  '/signup': Signup,\n  '/join-course': AddStudentToCourse,\n  '/me': Profile,\n  '/term/:id': Term,\n  '/terms': Terms,\n  '/course/:id': Course,\n  '/courses': Courses,\n  '/session/:id': Session,\n  '/question/:id': Question,\n  '*': NotFound\n}\n","<script>\n  import { auth } from '../data/auth'\n  import { notifications } from './notifications'\n  import Input from './Input.svelte'\n  import Error from './Error.svelte'\n\n  let username = ''\n  let password = ''\n  let errors = ''\n  let loading = false\n  let show = false\n  let submit\n  let passInput\n  let form\n\n  const login = async () => {\n    const isValid = form.checkValidity()\n    if (!isValid) {\n      notifications.add({\n        text: 'Please fix form errors first.',\n        type: 'danger'\n      })\n      return\n    }\n    loading = true\n    submit.disabled = true\n    try {\n      await auth.login(username, password)\n      notifications.add({ text: `Logged in as '${username}'`, type: 'success' })\n    } catch (error) {\n      errors = error\n      notifications.add({ text: 'Login failed.', type: 'danger' })\n      submit.disabled = false\n    } finally {\n      loading = false\n    }\n  }\n  const showPassword = () => {\n    passInput.type = !show ? 'text' : 'password'\n    show = !show\n  }\n</script>\n\n<style>\n  .container-centered {\n    margin-top: 10vh;\n    display: flex;\n    justify-content: center;\n  }\n\n  .button.showhide {\n    width: 2.4rem;\n    border: none;\n  }\n</style>\n\n<svelte:head>\n  <title>Login</title>\n</svelte:head>\n\n<div class=\"container-centered\">\n  <div class=\"login\">\n    <h1 class=\"title\">Login</h1>\n    <h3 class=\"subtitle\">gotta log in to continue.</h3>\n\n    <Error {errors} />\n    <form bind:this={form} novalidate on:submit|preventDefault={login}>\n      <Input type=\"text\" bind:value={username} label=\"Student ID\" required leftIcon=\"user\" />\n\n      <label class=\"label\" for=\"passwordField\">Password</label>\n\n      <div class=\"field has-addons\">\n        <div class=\"control has-icons-left\">\n          <input bind:this={passInput} class=\"input\" bind:value={password} type=\"password\" required />\n          <span class=\"icon is-small is-left\">\n            <i class=\"fas fa-key\"></i>\n          </span>\n        </div>\n        <div class=\"control\">\n          <span class=\"button is-white showhide\" on:click={showPassword}>\n            {#if show}\n            <i class=\"fas fa-eye\"></i>\n            {:else}\n            <i class=\"fas fa-eye-slash\"></i>\n            {/if}\n          </span>\n        </div>\n      </div>\n      <div class=\"field\">\n        <div class=\"control\">\n          <button type=\"submit\"\n            class=\"button is-primary\"\n            class:is-loading={loading}\n            bind:this={submit}\n          >\n            Let me in!\n          </button>\n          <p>or</p>\n          <a href=\"#/signup\" class=\"button\">Create account</a>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>","<script>\n  export let url = ''\n  export let text = ''\n  export let icon = null\n</script>\n\n<style>\n  i {\n    margin-right: 0.3rem;\n    width: 20px;\n    text-align: center;\n  }\n\n  @media only screen and (max-width: 1024px) {\n    :global(a.active) {\n      border-radius: 4px;\n      color: #cb2d6f;\n      font-weight: bold;\n      background-color: inherit;\n    }\n  }\n</style>\n\n<a class=\"navbar-item\" href=\"{url}\">\n  {#if icon}\n  <i class=\"fas fa-{icon}\"></i>\n  {/if} {text}\n</a>","<script>\n  import { auth } from '../data/auth'\n  import NavbarLink from './NavbarLink.svelte'\n  import { notifications } from './notifications'\n  let showMenu = false\n  const logout = async () => {\n    const username = await auth.logout()\n    notifications.add({ text: `Logged out user '${username}'`, type: 'success' })\n  }\n</script>\n\n<style>\n  .logo {\n    margin-right: 0.8rem;\n  }\n\n  .navbar {\n    background: transparent;\n    margin: 0;\n  }\n\n  @media only screen and (max-width: 1024px) {\n    #navmenu {\n      padding: 1rem;\n      position: fixed;\n      right: -15rem;\n      width: 15rem;\n      display: inherit;\n      top: 0;\n      bottom: 0;\n      transition: 200ms ease-in-out;\n      height: 100%;\n      background: black;\n    }\n\n    .navbar-burger {\n      z-index: 10;\n    }\n\n    #navmenu.is-active {\n      transform: translate(-15rem);\n    }\n  }\n</style>\n\n<nav class=\"navbar is-black\" role=\"navigation\" aria-label=\"main navigation\">\n  <div class=\"navbar-brand\">\n    <a class=\"navbar-item\" href=\"#/\">\n      <img class=\"logo\" src=\"/kumu-logo.png\" height=\"28\" alt=\"levitation logo\" />\n      <span class=\"title is-4\">InstaQuiz</span>\n    </a>\n\n    {#if $auth.username}\n      <div\n        role=\"button\"\n        class=\"navbar-burger burger\"\n        class:is-active={showMenu}\n        aria-label=\"menu\"\n        aria-expanded=\"false\"\n        data-target=\"navmenu\"\n        on:click={() => { showMenu = !showMenu }}\n      >\n        <span aria-hidden=\"true\"></span>\n        <span aria-hidden=\"true\"></span>\n        <span aria-hidden=\"true\"></span>\n      </div>\n    {/if}\n    </div>\n  \n  \n    <div\n      id=\"navmenu\"\n      class=\"navbar-menu\"\n      on:click={() => { showMenu = !showMenu }}\n      class:is-active={showMenu}\n    >\n      <div class=\"navbar-start\">\n        {#if $auth.username}\n        <NavbarLink url=\"#/\" text=\"Dashboard\" icon=\"chalkboard-teacher\" />\n        <NavbarLink url=\"#/terms\" text=\"Terms\" icon=\"school\" />\n        <NavbarLink url=\"#/courses\" text=\"Courses\" icon=\"book\" />\n        {/if}\n      </div>\n  \n      <div class=\"navbar-end\">\n        {#if $auth.name}\n        \n          <NavbarLink url=\"#/me\" icon=\"user-circle\" text={$auth.name}/>\n         \n          <div class=\"buttons\">\n            <button class=\"button is-text\" on:click={logout}>\n                  <strong>Log out</strong>\n              </button>\n          </div>\n\n        {/if}\n      </div>\n    </div>\n  </nav>","<script>\n  export let title = 'Warning'\n</script>\n\n<style>\n  .warning {\n    border: 1px solid #ffdd57;\n    color: #ffdd57;\n    margin-bottom: 1rem;\n  }\n\n  .warning :global(strong) {\n    color: inherit;\n  }\n\n  .warning-message-header {\n    margin: 0;\n    padding: 0.3rem 0.5rem;\n    background: #ffdd57;\n    color: black;\n    font-size: 1.2rem;\n  }\n\n  .warning-message-header i {\n    margin-right: 0.3rem;\n  }\n\n  .warning-message-body {\n    padding: 0.3rem 0.6rem;\n  }\n</style>\n\n<div class=\"warning\">\n  <p class=\"warning-message-header\">\n    <i class=\"fas fa-exclamation-triangle\"></i>\n    {title}\n  </p>\n  <section class=\"warning-message-body\">\n    <slot></slot>\n  </section>\n</div>","<script>\n  import { location } from 'svelte-spa-router'\n  import { formatRelative, formatDistanceToNow } from 'date-fns'\n  import Warning from '../Warning.svelte'\n  import { every15Seconds, time, imminentSession, nowSession } from './stores'\n\n  export let sessions\n\n  const formatDate = (date) => {\n    const string = formatRelative(new Date(date), new Date())\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  // if there is a session about to start then update every second\n  $: now = $imminentSession ? $time : $every15Seconds\n  $: soon = new Date(now.getTime() + 10 * 6e+4)\n  // keep checking if there is a session currently on\n  $: {\n    const ongoing = sessions.find(s => s.startsAt < now.toJSON() &&\n      s.endsAt > now.toJSON())\n    if (ongoing) {\n      nowSession.set(ongoing)\n      imminentSession.set()\n    } else {\n      // if no ongoing session check if there is one soon\n      imminentSession.set(sessions.find(s => s.startsAt < soon.toJSON() &&\n        s.startsAt > now.toJSON()))\n    }\n  }\n\n  // also update the upcoming sessions every 15 seconds\n  $: in24Hours = new Date($every15Seconds.getTime() + 24 * 3.6e+6)\n  $: todaySessions = sessions.filter(s => {\n    return s.startsAt > now.toJSON() &&\n      s.endsAt < in24Hours.toJSON()\n  })\n</script>\n\n<style>\n  .button i {\n    margin-right: 0.5rem;\n  }\n</style>\n\n{#if $nowSession && $location !== '/'}\n  <Warning title=\"{$nowSession.course.name} lesson {$nowSession.order} has started.\">\n    <p>Started {formatDistanceToNow(new Date($nowSession.startsAt), { addSuffix: true })}.\n      Ends {formatDate($nowSession.endsAt, { addSuffix: true })}.</p>\n    <a class=\"button is-link\" href=\"#/\"><i class=\"fas fa-running\"></i>Go there now</a>\n  </Warning>\n{:else if !$nowSession && $imminentSession && $location !== '/'}\n<Warning title=\"{$imminentSession.course.name} lesson {$imminentSession.order} starts soon.\">\n    <p>Starts {formatDistanceToNow(new Date($imminentSession.startsAt), { addSuffix: true })}.\n      Ends {formatDate($imminentSession.endsAt, { addSuffix: true })}.</p>\n    <a class=\"button is-link\" href=\"#/\"><i class=\"fas fa-running\"></i>Go there now</a>\n  </Warning>\n{:else if !$nowSession && !$imminentSession}\n<Warning title=\"{todaySessions.length} classes in the next 24 hours\">\n  <div class=\"upcoming-sessions\">\n    {#each todaySessions as session (session.id) }\n        <li><a href=\"#/session/{session.id}\">\n          {session.course.name} - {formatDate(session.startsAt)}.\n        </a></li>\n      {/each}\n    </div>\n  </Warning>\n{/if}","<script>\n  import { query } from 'svelte-apollo'\n  import { client } from '../../data/apollo'\n  import { GET_MY_SESSIONS } from '../../data/queries'\n  import { auth } from '../../data/auth'\n  import Loading from '../Loading.svelte'\n  import Error from '../Error.svelte'\n  import HasSessionIn24Hours from './HasSessionIn24Hours.svelte'\n  import { every2Hours } from './stores'\n\n  const hours = 24\n\n  const now = new Date()\n  const latest = new Date(now.getTime() + hours * 3.6e+6)\n\n  const sessions = query(client, {\n    query: GET_MY_SESSIONS,\n    variables: { id: $auth.id, now, latest }\n  })\n  // refetch the data from the server every 2 hours\n  $: sessions.refetch({ id: $auth.id, now: $every2Hours, latest: new Date($every2Hours.getTime() + hours * 3.6e+6) })\n</script>\n\n{#await $sessions}\n  <Loading what=\"Your upcoming sessions\"/>\n{:then result}\n  {#if result.data.sessions.length > 0}\n    <HasSessionIn24Hours sessions={result.data.sessions} />\n  {/if}\n{:catch errors}\n  <Error {errors}/>\n{/await}","<script>\n  import { NotificationList } from './components/notifications'\n  import { auth } from './data/auth'\n  import Router, { location } from 'svelte-spa-router'\n  import routes from './routes'\n  import Login from './components/Login.svelte'\n  import Navbar from './components/Navbar.svelte'\n  import { nowSession } from './components/dashboard/stores'\n  import UpcomingSessions from './components/dashboard/UpcomingSessions.svelte'\n</script>\n\n<style>\n  main {\n    height: calc(100% - 5rem);\n    padding: 1rem;\n    margin: 0;\n  }\n</style>\n\n<Navbar />\n\n\n<main>\n\n  {#if $auth.username && !$nowSession}\n    <UpcomingSessions />\n  {/if}\n\n  {#if $auth.username || $location === '/signup'}\n    <Router {routes}/>\n  {:else}\n    <Login/>\n  {/if}\n        \n</main>\n  \n<NotificationList/>","import App from './App.svelte'\n\nconst app = new App({\n  target: document.body\n})\n\nexport default app\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","component","store","callback","unsub","$$","on_destroy","push","unsubscribe","create_slot","definition","ctx","slot_ctx","get_slot_context","$$scope","get_slot_changes","changed","now","window","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","stylesheet","running","run_tasks","task","delete","size","loop","promise","Promise","fulfil","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","value","removeAttribute","setAttribute","set_data","select_option","select","i","length","option","__value","selected","toggle_class","toggle","classList","custom_event","type","detail","e","createEvent","initCustomEvent","current_component","active","current_rules","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","str","hash","charCodeAt","style","head","sheet","insertRule","cssRules","animation","delete_rule","split","filter","anim","indexOf","join","deleteRule","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","callbacks","slice","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flush","seen_callbacks","shift","update","pop","has","fragment","dirty","before_update","after_update","wait","then","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","transition_out","o","d","create_bidirectional_transition","params","intro","config","running_program","pending_program","animation_name","clear_animation","init","program","Math","abs","start","end","group","go","easing","tick","css","handle_promise","info","token","index","key","resolved","child_ctx","current","blocks","m","mount","error","catch","pending","destroy_block","lookup","outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","get","set","will_move","did_move","first","new_block","old_block","new_key","old_key","bind","props","bound","mount_component","new_on_destroy","map","destroy_component","detaching","make_dirty","instance","create_fragment","not_equal","prop_names","parent_component","context","ready","hydrate","l","Array","from","childNodes","SvelteComponent","$destroy","splice","subscriber_queue","readable","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","cleanup","sync","result","unsubscribers","notifications","remove","id","previous","withoutThisOne","message","randomCode","floor","random","toString","substring","toISOString","generateKey","setTimeout","createNotificationStore","cubicOut","f","fade","getComputedStyle","opacity","fly","y","target_opacity","transform","od","u","entries","$notifications","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__extends","__","constructor","prototype","__assign","arguments","apply","__rest","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","rejected","done","__generator","body","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","nodejsCustomInspectSymbol","for","undefined","_typeof","obj","MAX_ARRAY_LENGTH","MAX_RECURSIVE_DEPTH","inspect","formatValue","seenValues","JSON","stringify","concat","previouslySeenValues","customInspectFn","object","String","getCustomFn","customValue","array","len","min","remaining","items","formatArray","keys","tag","replace","getObjectTag","formatObject","formatObjectValue","QueryDocumentKeys","Name","Document","OperationDefinition","VariableDefinition","Variable","SelectionSet","Field","Argument","FragmentSpread","InlineFragment","FragmentDefinition","IntValue","FloatValue","StringValue","BooleanValue","NullValue","EnumValue","ListValue","ObjectValue","ObjectField","Directive","NamedType","ListType","NonNullType","SchemaDefinition","OperationTypeDefinition","ScalarTypeDefinition","ObjectTypeDefinition","FieldDefinition","InputValueDefinition","InterfaceTypeDefinition","UnionTypeDefinition","EnumTypeDefinition","EnumValueDefinition","InputObjectTypeDefinition","DirectiveDefinition","SchemaExtension","ScalarTypeExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","BREAK","freeze","visit","root","visitor","visitorKeys","stack","inArray","edits","parent","path","ancestors","newRoot","isLeaving","isEdited","clone","_i","_Object$keys","editOffset","ii","editKey","editValue","prev","isNode","visitFn","getVisitFn","maybeNode","Boolean","kindVisitor","kindSpecificVisitor","leave","enter","specificVisitor","specificKindVisitor","genericMessage","_a","proto","InvariantError","_super","_this","framesToPop","invariant","condition","wrapConsoleMethod","method","console","warn","processStub","env","process","Function","atLeastWeTried","opts","cmp","cycles","aobj","bobj","seen","toJSON","isFinite","out","seenIndex","sort","previousComparisons","equal","check","aTag","bTag","previouslyCompared","aKeys","bKeys","keyCount","aIterator","isMap","aKey","aValue","clear","bSet","valueToObjectRepresentation","argObj","variables","isIntValue","isFloatValue","Number","isBooleanValue","isStringValue","isObjectValue","nestedArgObj_1","fields","isVariable","variableValue","isListValue","listValue","nestedArgArrayObj","isEnumValue","isNullValue","KNOWN_DIRECTIVES","getStoreKeyName","fieldName","args","directives","filterKeys","queryArgs_1","filteredArgs_1","completeFieldName","stringifiedArgs","argumentsObjectFromField","field","argObj_1","resultKeyNameFromField","alias","isField","selection","isInlineFragment","isIdValue","idObject","generated","toIdValue","idConfig","typename","getDirectiveInfoFromField","directiveObj_1","directive","shouldInclude","isInclusionDirective","directiveArguments","ifArgument","ifValue","every","evaledValue","hasDirectives","names","doc","getDirectiveNames","some","hasClientExports","getFragmentQueryDocument","fragmentName","actualFragmentName","fragments","definitions","operation","selectionSet","selections","sources","source","checkDocument","getOperationDefinition","getOperationName","getFragmentDefinitions","getMainDefinition","queryDoc","fragmentDefinition","createFragmentMap","symTable","getDefaultValues","variableDefinitions","defaultValues","defaultValue","variable","defaultValueObj","filterInPlace","test","elem","TYPENAME_FIELD","nullIfDocIsEmpty","isEmpty","fragmentDef","getFragmentDefinition","getDirectiveMatcher","dir","removeDirectivesFromDocument","variablesInUse","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","_key","arg","getAllFragmentSpreadsFromSelectionSet","allFragments","frag","argMatcher","argument","aConfig","getArgumentMatcher","varDef","shouldRemoveField","argConfig","argMatchCount_1","removeArgumentsFromDocument","fs","def","removeFragmentSpreadFromDocument","connectionRemoveConfig","willRemove","buildQueryFromSelectionSet","canUseWeakMap","WeakMap","navigator","product","cloneDeep","cloneDeepHelper","val","copy_1","child","copy_2","getPrototypeOf","tryFunctionOrLogError","graphQLResultHasError","errors","mergeDeep","mergeDeepArray","count","pastCopies","shallowCopyForMerge","mergeHelper","isObject","isExtensible","sourceKey","sourceValue","targetValue","defineProperty","exports","_createClass","defineProperties","descriptor","enumerable","configurable","Constructor","protoProps","staticProps","_classCallCheck","hasSymbols","hasSymbol","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","ctor","Observable","isObservable","hostReportError","log","enqueue","cleanupSubscription","subscription","_cleanup","closeSubscription","_observer","_queue","_state","notifySubscription","observer","onNotify","queue","flushSubscription","Subscription","subscriptionObserver","SubscriptionObserver","_subscription","_subscriber","complete","_this2","_this3","_this4","C","hasSeed","hasValue","acc","_this5","_len","startNext","_this6","subscriptions","outer","inner","completeIfDone","closed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","item","err","_len2","_key2","symbol","require$$0","LinkError","link","isTerminating","request","fromError","errorValue","createOperation","starting","query","operationName","getKey","passthrough","forward","of","toLink","ApolloLink","links","reduce","left","right","leftLink","rightLink","second","firstLink","nextLink","execute","transformedOperation","extensions","transformOperation","OPERATION_FIELDS","validateOperation","NetworkStatus","ponyfill","self","global","module","isNetworkRequestInFlight","networkStatus","$$observable","Observable$1","isNonEmptyArray","FetchType","generateErrorMessage","graphQLErrors","graphQLError","errorMessage","networkError","ApolloError","extraInfo","ObservableQuery","queryManager","_b","shouldSubscribe","onSubscribe","observers","isTornDown","queryId","generateQueryId","opDef","queryName","removeQuery","currentResult","getCurrentResult","lastResult","lastError","loading","storeValue","policy","getCurrentQueryResult","partial","queryStoreValue","queryStore","fetchPolicy","isNetworkFetchPolicy","errorPolicy","updateLastResult","stale","isDifferentFromLastResult","newResult","snapshot","lastResultSnapshot","isEqual","getLastResult","getLastError","resetLastResults","resetQueryStoreErrors","refetch","fetchQuery","fetchMore","fetchMoreOptions","updateQuery","combinedOptions","qid","normal","fetchMoreResult","previousResult","stopQuery","subscribeToMore","startGraphQLSubscription","subscriptionData","onError","setOptions","oldFetchPolicy","pollInterval","startPolling","stopPolling","setVariables","fetchResults","tryFetch","mapFn","getQueryWithPreviousResult","dataStore","markUpdateQueryResult","broadcastQueries","stopPollingQuery","assertNotCacheFirstOrOnly","startPollingQuery","assumeImmutableResults","subObserver","defaultSubscriptionObserverErrorCallback","setUpQuery","tearDownQuery","addObservableQuery","iterateObserversSafely","observeQuery","previousResult_1","query_1","fetchPolicy_1","getLocalState","addExportedVariables","previousVariables","serverQuery","sub","removeObservableQuery","observersWithMethod","obs","obsQuery","MutationStore","getStore","mutationId","initMutation","mutation","markMutationError","markMutationResult","reset","QueryStore","initQuery","previousQuery","isSetVariables","storePreviousVariables","isPoll","poll","isRefetch","metadata","fetchMoreForQueryId","markQueryResult","markQueryError","markQueryResultClient","observableQueryIds","LocalState","cache","client","resolvers","fragmentMatcher","addResolvers","setFragmentMatcher","resolverGroup","setResolvers","getResolvers","runResolvers","remoteResult","onlyRunForcedResolvers","_c","resolveDocument","localResult","getFragmentMatcher","clientQuery","removeClientSetsFromDocument","prepareContext","getCacheKey","dataIdFromObject","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","diff","returnPartialData","optimistic","rootValue","mainDefinition","fragmentMap","definitionOperation","defaultOperationType","execContext","charAt","toUpperCase","resolveSelectionSet","resultsToMerge","typeCondition","resolveField","fieldResult","fragmentResult","all","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","__typename","resolveSubSelectedArray","multiplex","QueryManager","queryDeduplication","onBroadcast","_d","ssrMode","_e","clientAwareness","localState","mutationStore","idCounter","queries","fetchQueryRejectFns","transformCache","inFlightLinkObservables","pollingInfoByQueryId","getCache","_info","stopQueryNoBroadcast","mutate","optimisticResponse","updateQueriesByName","updateQueries","refetchQueries","awaitRefetchQueries","updateWithProxyFn","generateUpdateQueriesInfo","_f","setQuery","getVariables","ret","observableQuery","updater","markMutationInit","storeResult","getObservableFromLink","markMutationComplete","refetchQueryPromises","refetchQuery","queryOptions","fetchType","isNetworkOnly","needToFetch","shouldFetch","requestId","cancel","networkResult","updateQueryWatch","lastRequestId","invalidated","fetchRequest","getQuery","hasForcedResolvers","newData","queryListenerForObserver","invoke","networkStatusChanged","shouldNotifyIfLoading","notifyOnNetworkStatusChange","hasGraphQLErrors","isMissing","errorStatusChanged","diffResult","resultFromStore","transformed","transformDocument","forLink","transformForLink","cacheEntry_1","defaultVars","watchQuery","transformedOptions","watchedQuery","stopQueryInStore","stopQueryInStoreNoBroadcast","addQueryListener","listener","listeners","watch","clearStore","resetIds","resetStore","reFetchObservableQueries","includeStandby","observableQueryPromises","startQuery","makeObservable","markSubscriptionResult","observablePromise_1","queryIdOrObservable","foundObserveableQuery","deduplication","inFlightLinkObservables_1","forceFetch","byVariables_1","varJson_1","cleanupSub_1","activeNextCount","completed","asyncMap","errorsFromStore","fqrfId","result_1","newInfo","newContext","checkInFlight","interval","maybeFetch_1","poll_1","clearTimeout","timeout","DataStore","initialCache","ignoreErrors","writeWithErrors","write","dataId","optimistic_1","recordOptimisticTransaction","orig","cacheWrites_1","updateQueries_1","currentQueryResult","nextQueryResult","mutationResult","queryVariables","performTransaction","removeOptimistic","version","ApolloClient","defaultOptions","resetStoreCallbacks","clearStoreCallbacks","ssrForceFetchDelay","connectToDevTools","typeDefs","clientAwarenessName","clientAwarenessVersion","disableNetworkFetches","__APOLLO_CLIENT__","devToolsHookCb","action","state","mutations","dataWithOptimisticResults","extract","readQuery","readFragment","writeQuery","writeFragment","writeData","__actionHookForDevTools","__requestRaw","payload","initQueryManager","onResetStore","onClearStore","restore","serializedState","setLocalStateFragmentMatcher","queryFromPojo","selectionSetFromObj","justTypenameQuery","ApolloCache","read","rootId","typenameResult","dataToWrite","currentContext","MISSING_VALUE","host","Slot","context_1","slots","getValue","withValue","saved","noContext","defaultDispose","Cache","max","dispose","Infinity","newest","oldest","entry","getEntry","older","newer","clean","parentEntrySlot","UNKNOWN_VALUE","reusableEmptyArray","emptySetPool","POOL_TARGET_SIZE","assert","optionalMessage","Entry","parents","childValues","dirtyChildren","recomputing","recompute","mightBeDirty","reportDirtyChild","reportCleanChild","rememberParent","maybeReportOrphan","recomputeIfDirty","reallyRecompute","setDirty","reportDirty","maybeUnsubscribe","forgetChildren","forgetChild","originalChildren","threw","maybeSubscribe","reportClean","setClean","childValue","removeDirtyChild","dc","reportOrphan","children","KeyTrie","weakness","lookupArray","getChildTrie","isObjRef","weak","strong","keyTrie","defaultMakeCacheKey","wrap","originalFunction","pow","disposable","makeCacheKey","testMap","set_1","testSet","add_1","frozen","seal","preventExtensions","HeuristicFragmentMatcher","ensureReady","canBypassInit","match","idValue","isRootQuery","hasOwn","DepTrackingCache","depend","wrap$1","toObject","defaultNormalizedCacheFactory","seed","StoreReader","cacheKeyRoot","freezeResults","executeStoreQuery","executeSelectionSet","executeSubSelectedArray","contextValue","variableValues","readQueryFromStore","diffQueryAgainstStore","queryDef","fragmentMatcherFunction","cacheRedirects","execResult","hasMissingFields","missing","tolerable","defaultFragmentMatcher","finalResult","objectsToMerge","handleMissing","executeField","fragmentExecResult","readStoreResult","resultKey","storeKeyName","fieldValue","resolver","storeObj","jsonObject","json","readStoreResolver","combineExecResults","assertSelectionSetForIdValue","execResults","childResult","ObjectCache","WriteError","StoreWriter","writeQueryToStore","writeResultToStore","operationDefinition","writeSelectionSetToStore","processedData","enhancedError","enhanceErrorWithDocument","resultFieldKey","writeFieldToStore","isDefered","isClient","matches","fakeContext","storeObject","storeFieldName","directivesObj","storeKeyNameFromField","generatedId","processArrayValue","valueDataId","isGeneratedId","semanticId","isDataProcessed","escapedId","hadTypename","hasTypename","typenameChanged","mergeWithGenerated","generatedKey","realKey","real","madeChanges","realValue","newRealValue","itemDataId","defaultConfig","_id","addTypename","resultCaching","hasOwn$1","OptimisticCacheLayer","optimisticId","transaction","InMemoryCache","watches","typenameDocumentCache","silenceBroadcast","customResolvers","cacheResolvers","optimisticData","storeWriter","storeReader","maybeBroadcastWatch","broadcastWatches","evict","idToRemove","toReapply","removedCount","layer","layer_1","lastIndexOf","Backoff","ms","factor","jitter","attempts","rand","deviation","setMin","setMax","setJitter","prefix","Events","EE","once","addListener","emitter","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","removeListener","j","on","removeAllListeners","off","prefixed","dedentBlockStringValue","rawString","lines","commonIndent","line","indent","leadingWhitespace","getBlockStringIndentation","isBlank","print","ast","printDocASTReducer","varDefs","_ref","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","indentation","preferMultipleLines","isSingleLine","hasLeadingSpace","hasTrailingQuote","printAsMultipleLines","printBlockString","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","operationTypes","_ref21","addDescription","_ref22","_ref23","interfaces","_ref24","hasMultilineItems","_ref25","_ref26","_ref27","types","_ref28","_ref29","_ref30","_ref31","repeatable","locations","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","description","maybeArray","separator","maybeString","isMultiline","string","Kind","NAME","DOCUMENT","OPERATION_DEFINITION","VARIABLE_DEFINITION","SELECTION_SET","FIELD","ARGUMENT","FRAGMENT_SPREAD","INLINE_FRAGMENT","FRAGMENT_DEFINITION","VARIABLE","INT","FLOAT","STRING","BOOLEAN","NULL","ENUM","LIST","OBJECT","OBJECT_FIELD","DIRECTIVE","NAMED_TYPE","LIST_TYPE","NON_NULL_TYPE","SCHEMA_DEFINITION","OPERATION_TYPE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","FIELD_DEFINITION","INPUT_VALUE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","ENUM_VALUE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","DIRECTIVE_DEFINITION","SCHEMA_EXTENSION","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","documentAST","MessageTypes","GQL_CONNECTION_INIT","GQL_CONNECTION_ACK","GQL_CONNECTION_ERROR","GQL_CONNECTION_KEEP_ALIVE","GQL_CONNECTION_TERMINATE","GQL_START","GQL_DATA","GQL_ERROR","GQL_COMPLETE","GQL_STOP","SUBSCRIPTION_START","SUBSCRIPTION_DATA","SUBSCRIPTION_SUCCESS","SUBSCRIPTION_FAIL","SUBSCRIPTION_END","INIT","INIT_SUCCESS","INIT_FAIL","KEEP_ALIVE","_global","NativeWebSocket","WebSocket","MozWebSocket","SubscriptionClient","url","webSocketImpl","webSocketProtocols","connectionCallback","connectionParams","defaults_1","WS_TIMEOUT","reconnect","reconnectionAttempts","_g","lazy","_h","inactivityTimeout","wsImpl","wsProtocols","protocol_1","GRAPHQL_WS","operations","nextOperationId","wsTimeout","unsentMessagesQueue","reconnecting","closedByUser","backoff","eventEmitter","eventemitter3_1","middlewares","maxConnectTimeGenerator","createMaxConnectTimeGenerator","getConnectionParams","connect","CLOSED","readyState","close","isForced","clearInactivityTimeout","clearCheckConnectionInterval","clearMaxConnectTimeout","clearTryReconnectTimeout","unsubscribeAll","sendMessage","message_types_1","default","tryReconnect","opId","getObserver","executeOperation","symbol_observable_1","observerOrNext","onComplete","eventName","onConnected","onConnecting","onDisconnected","onReconnected","onReconnecting","subId","applyMiddlewares","funcs","scope","applyMiddleware","use","middleware","generateOperationId","processedOptions","checkOperationOptions","formatErrors","maxValue","checkConnectionIntervalId","clearInterval","maxConnectTimeoutId","tryReconnectTimeoutId","inactivityTimeoutId","setInactivityTimeout","is_string_1","getOperationAST_1","getOperationAST","is_object_1","buildMessage","printer_1","originalError","sendMessageRaw","status","OPEN","serializedMessage","parse","send","CONNECTING","flushUnsentMessagesQueue","checkConnection","wasKeepAliveReceived","checkMaxConnectTimeout","onopen","error_1","onclose","onerror","onmessage","processReceivedData","receivedData","parsedMessage","parsedPayload","firstKA","setInterval","WebSocketLink","paramsOrClient","subscriptionClient","uri","fallbackHttpConfig","http","includeQuery","includeExtensions","headers","accept","content-type","throwServerError","response","statusCode","serializeFetchParameter","serialized","parseError","createHttpLink","linkOptions","fetcher","fetch","useGETForQueries","requestOptions","checkFetcher","linkConfig","fetchOptions","credentials","chosenURI","fallbackURI","contextURI","getContext","selectURI","clientAwarenessHeaders","name_1","controller","contextHeaders","contextConfig","fallbackConfig","configs","selectHttpOptionsAndBody","signal","AbortController","createSignalIfSupported","_controller","queryParams","addQueryParam","encodeURIComponent","serializedVariables","serializedExtensions","preFragment","fragmentStart","substr","queryParamsPrefix","newURI","rewriteURIForGET","setContext","bodyText","abort","HttpLink","errorHandler","retriedSub","retriedResult","ErrorLink","authLink","setter","coldAuth","localStorage","getItem","authorization","handle","req","errorsLink","remoteLink","isLoggedIn","OBSERVABLE","observe","initial","initialized","_resolve","_reject","fulfill","deferred","restoring","WeakSet","subscribed","observable_query","subscribe_to_query","skip_duplicate","skipped","defineToJSON","classObject","Source","locationOffset","column","getLocation","position","lineRegexp","exec","printLocation","location","printSourceLocation","sourceLocation","firstLineColumnOffset","whitespace","lineIndex","lineOffset","lineNum","columnOffset","columnNum","locationStr","locationLine","sublineIndex","sublineColumnNum","sublines","printPrefixedLines","subline","existingLines","padLen","GraphQLError","nodes","positions","_nodes","_source","loc","_locations","_positions","pos","_extensions","originalExtensions","captureStackTrace","syntaxError","toStringTag","output","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","printError","TokenKind","SOF","EOF","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","SPREAD","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","BLOCK_STRING","COMMENT","createLexer","startOfFileToken","Tok","lastToken","lineStart","advance","advanceLexer","lookahead","readToken","getTokenDesc","printCharCode","code","isNaN","fromCharCode","lexer","bodyLength","startPosition","positionAfterWhitespace","col","readComment","readName","firstCode","isFloat","readDigits","readNumber","chunkStart","rawValue","readBlockString","charCode","char2hex","invalidSequence","readString","unexpectedCharacterMessage","DirectiveLocation","QUERY","MUTATION","SUBSCRIPTION","SCHEMA","SCALAR","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","parseName","expectToken","parseDefinition","peek","parseExecutableDefinition","parseTypeSystemDefinition","keywordToken","expectKeyword","parseDirectives","many","parseOperationTypeDefinition","unexpected","parseSchemaExtension","parseScalarTypeExtension","parseImplementsInterfaces","parseFieldsDefinition","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionMemberTypes","parseUnionTypeExtension","parseEnumValuesDefinition","parseEnumTypeExtension","parseInputFieldsDefinition","parseInputObjectTypeExtension","parseTypeSystemExtension","peekDescription","parseOperationDefinition","experimentalFragmentVariables","parseFragmentName","parseVariableDefinitions","parseNamedType","parseSelectionSet","parseFragmentDefinition","parseOperationType","operationToken","parseVariableDefinition","parseVariable","parseTypeReference","expectOptionalToken","parseValueLiteral","parseSelection","hasTypeCondition","expectOptionalKeyword","parseFragment","nameOrAlias","parseArguments","parseField","isConst","parseConstArgument","parseArgument","parseConstValue","parseValueValue","any","parseList","parseObjectField","parseObject","parseStringLiteral","parseDirective","parseSchemaDefinition","parseDescription","parseScalarTypeDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","parseUnionTypeDefinition","parseEnumTypeDefinition","parseInputObjectTypeDefinition","parseArgumentDefs","parseDirectiveLocation","parseDirectiveLocations","parseDirectiveDefinition","allowLegacySDLImplementsInterfaces","allowLegacySDLEmptyFields","parseFieldDefinition","parseInputValueDef","parseEnumValueDefinition","startToken","noLocation","Loc","endToken","atToken","openKind","parseFn","closeKind","sourceObj","parseDocument","normalize","trim","docCache","fragmentSourceMap","printFragmentWarnings","cacheKey","parsed","stripLoc","removeLocAtThisLevel","docType","valueType","astFragmentMap","processFragments","gql","literals","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","CourseFields","SessionFields","QuestionFields","ResponseFields","LOGIN","SIGNUP","CREATE_COURSE","DELETE_COURSE","ADD_STUDENT_TO_COURSE","ADD_TEACHER_TO_COURSE","REMOVE_TEACHER_FROM_COURSE","CREATE_TERM","CREATE_SESSION","CREATE_QUESTION","DELETE_QUESTION","ASK_QUESTION","CREATE_ANSWER","DELETE_ANSWER","ANSWER_QUESTION","getAuthFromStorage","coldToken","coldUser","user","auth","login","async","username","password","setItem","signup","logout","removeItem","createAuthStore","componentParams","hashPosition","href","qsPosition","querystring","$loc","history","back","routes","RouteItem","pattern","loose","RegExp","tmp","ext","arr","regexparam","_pattern","_keys","routesList","descriptionId","minlength","maxlength","required","placeholder","checkValidity","leftIcon","rightIcon","input","showDescription","width","chr","validity","valid","validationMessage","getMessage","confirmpass","submit","form","isValid","disabled","toDate","argStr","getTime","NaN","toInteger","dirtyNumber","number","ceil","MILLISECONDS_IN_MINUTE","getTimezoneOffsetInMilliseconds","dirtyDate","date","baseTimezoneOffset","getTimezoneOffset","setSeconds","millisecondsPartOfTimezoneOffset","startOfDay","setHours","MILLISECONDS_IN_DAY","compareAsc","dirtyDateLeft","dirtyDateRight","dateLeft","dateRight","differenceInMonths","sign","difference","getFullYear","getMonth","differenceInCalendarMonths","setMonth","differenceInSeconds","differenceInMilliseconds","formatDistanceLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","buildFormatLongFn","dirtyOptions","defaultWidth","formats","formatLong","full","long","medium","short","time","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","buildLocalizeFn","dirtyIndex","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","argumentCallback","buildMatchFn","dirtyString","matchPattern","matchPatterns","defaultMatchWidth","matchResult","matchedString","parsePatterns","defaultParseWidth","findIndex","predicate","findKey","valueCallback","rest","locale","formatDistance","addSuffix","comparison","formatRelative","_date","_baseDate","_options","localize","ordinalNumber","_dirtyOptions","rem100","era","narrow","abbreviated","wide","quarter","month","day","dayPeriod","am","pm","midnight","noon","morning","afternoon","evening","night","parsePattern","parseInt","parseResult","weekStartsOn","firstWeekContainsDate","subMilliseconds","dirtyAmount","timestamp","amount","addMilliseconds","addLeadingZeros","targetLength","formatters","signedYear","getUTCFullYear","year","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","numberOfDigits","milliseconds","getUTCMilliseconds","startOfUTCISOWeek","getUTCDay","setUTCDate","setUTCHours","getUTCISOWeekYear","fourthOfJanuaryOfNextYear","setUTCFullYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","MILLISECONDS_IN_WEEK","getUTCISOWeek","fourthOfJanuary","startOfUTCISOWeekYear","round","startOfUTCWeek","localeWeekStartsOn","defaultWeekStartsOn","RangeError","getUTCWeekYear","localeFirstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","getUTCWeek","firstWeek","startOfUTCWeekYear","dayPeriodEnum","G","unit","lightFormatters","Y","signedWeekYear","weekYear","R","Q","q","M","L","w","week","I","isoWeek","D","dayOfYear","setUTCMonth","getUTCDayOfYear","E","dayOfWeek","localDayOfWeek","isoDayOfWeek","dayPeriodEnumValue","hours","B","h","H","K","S","X","_localize","timezoneOffset","_originalDate","formatTimezoneWithOptionalMinutes","formatTimezone","O","formatTimezoneShort","z","originalDate","T","offset","dirtyDelimiter","absOffset","minutes","delimiter","dateLongFormatter","timeLongFormatter","longFormatters","dateTimeFormat","datePattern","timePattern","protectedDayOfYearTokens","protectedWeekYearTokens","throwProtectedError","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","format","dirtyFormatStr","formatStr","defaultLocale","utcDate","formatterOptions","firstCharacter","longFormatter","formatter","useAdditionalWeekYearTokens","useAdditionalDayOfYearTokens","isProtectedDayOfYearToken","cloneObject","dirtyObject","property","MINUTES_IN_DAY","MINUTES_IN_ALMOST_TWO_DAYS","MINUTES_IN_MONTH","MINUTES_IN_TWO_MONTHS","MINUTES_IN_YEAR","formatDistanceStrict","dirtyBaseDate","localizeOptions","roundingMethodFn","roundingMethod","seconds","days","months","years","formatDistanceToNow","offsetInSeconds","includeSeconds","nearestMonth","monthsSinceStartOfYear","distanceInWords","baseDate","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","differenceInCalendarDays","utcBaseDate","ME","GET_MY_SESSIONS","SESSION","TERMS_AND_ALL","TERM","TERMS","COURSE","COURSES","QUESTION","ACTIVE_TEACHER_SESSION","RESPONSES","QUESTION_SUB","RESPONSE_SUBSCRIPTION","start_time","end_time","started","open","termId","terms","term","$terms","handleChange","termSelect","selected_option","querySelector","handleSubmit","saveButton","save","teaching","attending","$auth","role","notTeaching","notAttending","course","courses","teachers","find","students","HOOKS","defaults","_disable","_enable","allowInput","altFormat","altInput","altInputClass","animate","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enable","enableSeconds","enableTime","getWeek","givenDate","setDate","getDate","getDay","week1","hourIncrement","ignoredFocusElements","inline","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","english","weekdays","shorthand","longhand","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","hourAriaLabel","minuteAriaLabel","pad","int","bool","debounce","func","immediate","arrayify","toggleClass","className","content","textContent","clearNode","firstChild","createNumberInput","inputClassName","wrapper","numInput","arrowUp","arrowDown","doNothing","monthToStr","monthNumber","revFormat","F","dateObj","monthName","hour","parseFloat","J","getHours","shortMonth","U","unixSeconds","W","weekNum","weekNumber","setFullYear","Z","ISODate","setMinutes","unixMillSeconds","tokenRegex","getSeconds","getMinutes","createDateFormatter","l10n","frmt","overrideLocale","formatDate","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","parseDate","matched","matchIndex","regexStr","token_1","isBackSlash","escaped","compareDates","date1","date2","isBetween","ts","ts1","ts2","DAY","_loop_1","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","flatpickr","bindToInstance","setCalendarWidth","calendarContainer","visibility","display","daysContainer","daysWidth","offsetWidth","weekWrapper","removeProperty","updateTime","selectedDates","setDefaultTime","isKeyDown","getAttribute","curValue","delta","which","newValue","isHourElem","hourElement","isMinuteElem","minuteElement","incrementNumInput","timeWrapper","prevValue","_input","setHoursFromInputs","updateValue","_debouncedChange","secondElement","limitMinHours","minTime","minDate","minDateHasTime","latestSelectedDateObj","limitMaxHours","maxTime","maxDate","maxDateHasTime","setHoursFromDate","setDefaultHours","minHr","minMinutes","maxHr","maxMinutes","isMobile","onYearInput","changeYear","ev","el","_handlers","onClick","triggerChange","triggerEvent","bindEvents","querySelectorAll","inputType","mobileInput","tabIndex","mobileFormatStr","nextSibling","setupMobile","debouncedResize","onResize","onMouseOver","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","timeIncrement","jumpToDate","jumpDate","jumpTo","oldYear","currentYear","oldMonth","currentMonth","buildMonthSwitch","redraw","contains","inputElem","build","createDocumentFragment","yearElements","monthElements","prevMonthNav","innerHTML","nextMonthNav","buildMonths","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","hourInput","aria-label","getElementsByTagName","minuteInput","military2ampm","secondInput","title","buildTime","customAppend","appendTo","nodeType","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","focusOnDay","dayFocused","isInView","activeElement","startElem","givenMonth","loopDelta","numMonthDays","changeMonth","getNextAvailableDay","buildMonthDays","firstOfMonth","prevMonthDays","utils","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","shouldBuildMonth","monthsDropdownContainer","buildMonth","monthElement","container","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","isCalendarElem","isOpen","eventTarget_1","composedPath","getEventTarget","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","to","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","focusAndClose","delta_1","ctrlKey","stopPropagation","elems","pluginElements","shiftKey","toLowerCase","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","outOfRange","positionCalendar","minMaxDateSetter","inverseDateObj","setupLocale","l10ns","userConfig","dataset","customPositionElement","_positionElement","calendarHeight","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","pageXOffset","rightMost","centerMost","styleSheets","bodyWidth","centerLeft","centerIndex","centerStyle","centerBefore","msMaxTouchPoints","findParent","selectedDate","shouldChangeMonth","selectedIndex","showTimeInput","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","triggerChangeEvent","toInitial","_initialDate","_createElement","lastChild","_type","click","wasOpen","CALLBACKS","setSelectedDate","inputDate","dates","parseDateRules","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","boolOpts","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","parseConfig","nodeName","preloadedDate","defaultDate","_showTimeInput","setupDates","yr","isSafari","_flatpickr","nodeList","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","setDefaults","jQuery","fp_incr","factory","styleInject","ref","insertAt","styleSheet","cssText","dateInput","fp","addHooks","dispatcher","dateString","stripOn","includes","startDate","endDate","createTerm","currentTerm","nextTerm","otherTerms","what","$termsCache","termsCache","nowSession","imminentSession","currentQuestion","every15Seconds","every2Hours","responses","percentage","answer","totalResponses","question","answers","responsesResult","questionId","asked","order","isCurrent","$currentQuestion","questions","session","$sessionCache","sessionCache","$nowSession","answered","click_handler","respond","answerId","studentId","sessionId","$newQuestions","newQuestions","endsAt","exit","startsAt","classIsOver","$every15Seconds","$imminentSession","$location","addStudentToCourse","me","coursesAttending","coursesTeaching","$me","$termCache","termCache","joinCourse","courseId","addTeacherToCourse","leaveCourse","removeTeacherFromCourse","deleteCourse","courseIndex","termIndex","latest","isEnrolled","isCourseTeacher","future","past","sessions","teacherNames","teacher","localeCompare","$courseCache","courseCache","sortedCourses","$coursesCache","coursesCache","show","$questionCache","questionCache","/","/signup","/join-course","/me","/term/:id","/terms","/course/:id","/courses","/session/:id","/question/:id","*","showPassword","passInput","icon","showMenu","todaySessions","$time","soon","ongoing","in24Hours","$sessions","$every2Hours"],"mappings":"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"}